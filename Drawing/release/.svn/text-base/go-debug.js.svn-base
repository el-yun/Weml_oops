/*
 * GoJS™ v1.0.7 JavaScript Library for HTML Canvas Diagrams
 * Northwoods Software®, http://www.nwoods.com/
 *
 * Copyright © 1998-2012 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.0.7/doc/license.html.
 */
(function(window) { var f=void 0,h=!0,m=null,p=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}function ca(a){return function(){return a}}var da,ea={};
if(document.createElement("canvas").getContext===f)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return a.vE===h});
Object.freeze||(Object.freeze=function(a){a.vE=h});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
for(var fa=0,ga=["ms","moz","webkit","o"],ja=0;ja<ga.length&&!window.requestAnimationFrame;++ja)window.requestAnimationFrame=window[ga[ja]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ga[ja]+"CancelAnimationFrame"]||window[ga[ja]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-fa)),d=window.setTimeout(function(){a(b+c)},c);fa=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});
var t={ur:p,aC:p,$B:p,Vy:p,sC:p,nH:p,trace:function(a){window&&window.console&&window.console.log(a)},pB:p,assert:function(a,b){if(!a&&t.pB)throw window&&(window.console&&window.console.log(b),window.alert(b)),Error(b);},Br:m,XB:function(a,b){a===f&&(a=t.Br);b===f&&(b=a.aj("").nb);var c=b.length,d=a.ma.getContext("2d");d.fillStyle="rgba(255,255,0,.3)";for(var e=0;e<c;e++){var g=b.R(e),i=g.pa;if(g.oa!==m)t.XB(a,g.oa);else{var j=g.rj.copy();j.BG(g.Cd);d.save();d.transform(j.m11,j.m12,j.m21,j.m22,j.Pa,
j.Qa);d.fillRect(i.x,i.y,i.width,i.height);d.restore()}}},YB:function(a,b){a||(a=t.Br);b||(b=a.aj("").nb);var c=a.ma.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.R(e),i=g.qa,j=g.rj;g.oa!==m?t.YB(a,g.oa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.Pa,j.Qa),c.fillRect(i.x,i.y,i.width,i.height),c.restore())}},JF:function(a,b){a||(a=t.Br);b||(b=a.aj("").nb);var c=a.ma.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.R(e),
i=g.ua,j=g.rj;g.oa!==m?t.JF(a,g.oa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.Pa,j.Qa),c.fillRect(i.x||0,i.y||0,i.width,i.height),c.restore())}},HI:function(){t.YB();t.XB()},II:function(a){a||(a=t.Br);var b=a.nc,a=a.ma.getContext("2d");a.strokeStyle="rgba(0,255,0,.9)";a.strokeRect(b.x,b.y,b.width,b.height)},KF:function(a,b){a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.5)";a.strokeRect(b.lb.x,b.lb.y,b.lb.width,b.lb.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Pd!==f&&(a.lineWidth=b.Pd);b.W!==
m&&b.W.type===ka&&(a.lineWidth=1,a.strokeStyle="rgba(10,200,10,.6)",b.stroke!==f&&(a.strokeStyle=b.stroke),b.Pd!==f&&(a.lineWidth=b.Pd))},LF:function(a,b){a.lineWidth=1;a.strokeStyle="rgba(0,0,255,.5)";a.strokeRect(b.qa.x,b.qa.y,b.qa.width,b.qa.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Pd!==f&&(a.lineWidth=b.Pd)},ZB:function(a,b){for(var c=b.Ab.length,d=0;d<c;d++)for(var e=b.Ab.R(d),g=e.nb.length,i=0;i<g;i++){var j=e.nb.R(i);if(j.location!==f&&j.location!==m){if(j.location.ca()){var k=j.location.x,
l=j.location.y;a.beginPath();a.strokeStyle="limegreen";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+10,l+20);a.stroke()}k=j.position.x;l=j.position.y;a.beginPath();a.strokeStyle="red";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+20,l+10);a.stroke()}}},MF:function(a,b,c,d,e){a.fillStyle="rgba(0,255,0,.2)";a.fillRect(b,c,d,e)},CI:function(a){a||(a=t.Br);for(a=a.Un;a.next();)t.trace(a.value.toString())},cK:function(a,b){var c=
b.Ng(a),d=b.kc;d.Fc=b.vo(c);d.D=c;return ma(b,d,a)},YJ:function(a,b){b.Xc(a.D)&&(b.Eg.fillStyle="lime",b.Eg.Ok="lime",b.Eg.fillRect(a.Fc.x,a.Fc.y,1*b.scale,1*b.scale))},ZJ:function(a){var b=na(a,p,m);if(!b.Pl)for(var a=a.Eg,c=0;c<=b.jn;c++)for(var d=0;d<=b.kn;d++){var e=b.Gb[c][d];if(e!==oa){var g=c*b.nd+b.fg,i=d*b.$c+b.gg;0!==e&&(a.fillStyle="rgba(255, 0, 0, .2)",a.fillRect(g,i,b.nd,b.$c));e>=pa||(e%=10,a.fillStyle="blue",a.fillText(e.toString(),g,i+b.$c))}}}};ea.Debug=t;
var u={Ew:{},aA:0,uE:{},bu:document.createElement("canvas").getContext("2d"),cu:"",Ex:[],Qt:m,Uz:[],tx:"ontouchstart"in window,SA:"ongesturestart"in window,Sz:p,g:function(a){t&&t.pB&&alert(a);throw Error(a);},u:function(a,b){if(a.Ra){var c="The object is frozen, so its properties cannot be set: "+a.toString();b!==f&&(c+="  to value: "+b);u.g(c)}},c:function(a,b,c,d){a instanceof b||(c=u.rh(c),d!==f&&(c+="."+d),u.Ec(a,b,c))},e:function(a,b,c,d){typeof a!==b&&(c=u.rh(c),d!==f&&(c+="."+d),u.Ec(a,b,
c))},i:function(a,b,c){isFinite(a)||(b=u.rh(b),c!==f&&(b+="."+c),u.g(b+" must be a real number and not NaN or Infinity: "+a))},Ya:function(a,b,c,d){if(!(a instanceof ra)||a.Ud!==b)c=u.rh(c),d!==f&&(c+="."+d),u.Ec(a,"a constant of class "+u.cj(b),c)},Ec:function(a,b,c,d){b=u.rh(b);c=u.rh(c);d!==f&&(c+="."+d);u.g(c+" value is not an instance of "+b+": "+a)},ha:function(a,b,c,d){c=u.rh(c);d!==f&&(c+="."+d);u.g(c+" is not in the range "+b+": "+a)},trace:function(a){window&&window.console&&window.console.log(a);
t&&t.nH&&u.g(a)},Ta:function(a){return"object"===typeof a&&a!==m},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},Bu:function(a,b,c){u.isArray(a)||u.Ec(a,"Array or NodeList or HTMLCollection",b,c)},Hb:function(a){return a.length},wb:function(a,b){return a[b]},lF:function(a,b,c){Array.isArray(a)?a[b]=c:u.g("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Rx:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=
0;d<c;d++)if(a[d]===b)return d;return-1},bi:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):u.g("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},ci:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):u.g("Cannot remove an object from an HTMLCollection or NodeList at "+b)},Dz:1,Qb:function(a){a.__gohashid=u.Dz++},Qn:function(a){var b=a.__gohashid;b===f&&(b=u.Dz++,a.__gohashid=b);return b},qc:function(a){return a.__gohashid},a:function(a,
b,c){"name"!==b&&"length"!==b&&(a[b]=c)},J:function(a,b){b.Jz=a;ea[a]=b},va:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},defineProperty:function(a,b,c,d,e){u.e(a,"function","Util.defineProperty:classfunc");u.e(b,"object","Util.defineProperty:propname");u.e(c,"function","Util.defineProperty:getter");u.e(d,"function","Util.defineProperty:setter");c={get:c,set:d};if(e!==f)for(var g in e)c[g]=e[g];for(var i in b)Object.defineProperty(a.prototype,i,c),
e=Object.getOwnPropertyDescriptor(a.prototype,i),b[i]&&e&&Object.defineProperty(a.prototype,b[i],e)},m:function(a,b,c,d){u.e(a,"function","Util.defineReadOnlyProperty:classfunc");u.e(b,"object","Util.defineReadOnlyProperty:propname");u.e(c,"function","Util.defineReadOnlyProperty:getter");c={get:c,set:function(a){u.g("The property "+b+" is read-only and cannot be set to "+a)}};if(d!==f)for(var e in d)c[e]=d[e];for(var g in b)Object.defineProperty(a.prototype,g,c),d=Object.getOwnPropertyDescriptor(a.prototype,
g),b[g]&&d&&Object.defineProperty(a.prototype,b[g],d)},xf:function(a,b){for(var c in b)b[c]=h;a.prototype.zE=b},rh:function(a){return a===f?"":"string"===typeof a?a:"function"===typeof a?u.cj(a):a===m?"*":""},cj:function(a){return"function"===typeof a?a.Jz:"object"===typeof a&&a.constructor?a.constructor.Jz:typeof a},l:function(a,b,c){u.e(a,"function","Util.defineEnumValue:classfunc");u.e(b,"string","Util.defineEnumValue:name");u.e(c,"number","Util.defineEnumValue:num");c=new ra(a,b,c);Object.freeze(c);
a[b]=c;var d=a.Cz;d||(d=new sa("string",ra),a.Cz=d);d.add(b,c);return c},Jl:function(a,b){if(!b)return m;u.e(a,"function","Util.findEnumValueForName:classfunc");u.e(b,"string","Util.findEnumValueForName:name");var c=a.Cz;return!c?m:c.ga(b)},tF:function(a,b,c,d){var e={},g;for(g in a){for(var i=p,j=1;j<arguments.length;j++)if(arguments[j]===g){i=h;break}i||(e[g]=a[g])}return e},bb:function(a,b){if(!a||!b)return m;var c=f;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),
c===m&&(c=f)):c=a[b]}catch(d){t&&u.trace("property get error: "+d.toString())}return c},jb:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){t&&u.trace("property set error: "+d.toString())}},gz:function(a,b){u.e(a,"object","Setting properties requires Objects as arguments");u.e(b,"object","Setting properties requires Objects as arguments");b.constructor!==Object&&u.g("Properties must be on a plain Object, not: "+b.toString());
var c=t;c||(t=u);var d=a instanceof w,e;for(e in b){var g=a,i=e;if(d){var j=e.indexOf(".");if(0<j){var k=e.substring(0,j),g=a.Te(k);g!==m?i=e.substr(j+1):u.g("Unable to find object named: "+k+" in panel "+a.toString()+" when trying to set property: "+e)}}"_"!==i[0]&&!u.xy(g,i)&&u.g('Trying to set undefined property "'+i+'" on object: '+g.toString());g[i]=b[e];"_"===i[0]&&(j=g.Vk,j||(j=[],g.Vk=j),j.push(i))}t=c;return a},xy:function(a,b){for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return h;
var d=c.zE;if(d&&d[b])return h;c=Object.getPrototypeOf(c)}return p},tB:function(a,b){if(!u.Ta(b)||b instanceof Element||b instanceof CanvasRenderingContext2D)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=u.bb(b,d);e!==m&&("function"!==typeof e&&!u.xy(b,d))&&(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},Js:function(a,b){if(b&&!("number"===
typeof b||"string"===typeof b||"boolean"===typeof b||"function"===typeof b))if(u.qc(b)!==f){if(!u.Zt.contains(b))if(u.Zt.add(b),u.yt.add(u.tB(a,b)),b instanceof A||b instanceof ta||b instanceof sa)for(var c=b.f;c.next();)u.Js(a+"["+c.key+"]",c.value);else for(c in b){var d=u.bb(b,c);if(!(d===f||d===m||!u.Ta(d))&&"_ownProperties"!==c){if(b instanceof ua){if("_lines"===c)continue}else if(b instanceof w){if("data"===c||"_data"===c)continue;if("itemArray"===c||"_itemArray"===c)continue}else if(!(b instanceof
B))if(b instanceof wa){if("archetypeGroupData"===c||"_archetypeGroupData"===c)continue}else if(b instanceof ya){if("archetypeLinkData"===c||"_archetypeLinkData"===c)continue;if("archetypeLabelNodeData"===c||"_archetypeLabelNodeData"===c)continue}else if(b instanceof za){if("archetypeNodeData"===c||"_archetypeNodeData"===c)continue}else if(b instanceof D){if("nodeDataArray"===c||"_nodeDataArray"===c)continue;if("linkDataArray"===c||"_linkDataArray"===c||"_linkDataSet"===c)continue;if("_mapKeyNodeData"===
c||"_delayedNodeReferences"===c)continue}u.Js(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)u.Js(a+"["+c+"]",b[c]);else u.yt.add(u.tB(a,b))},oF:function(a){u.Zt===f?u.Zt=new ta:u.Zt.clear();u.yt=new Ca;u.Js("",a);a=u.yt.toString();u.yt=m;return a},LG:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",i=0;i<a.length;i++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(i)^
b[(b[c]+b[d])%256]);return g},aG:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Oa:function(a){return u.LG(u.aG(a))},Bv:m,iB:"7da71ca0ad381e90",pF:"@COLOR1",qF:"@COLOR2"},Ga=u,Ha=document.createElement("canvas"),Ia=Ha.getContext("2d");Ia[u.Oa("7ca11abfd022028846")]=u.Oa("398c3597c01238");
for(var Ja=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22462913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],La=1;5>La;La++)Ia[u.Oa("7ca11abfd7330390")](u.Oa(Ja[La-1]),10,15*La+0);Ia[u.Oa("7ca11abfd022028846")]=u.Oa("39f046ebb36e4b");for(La=1;5>La;La++)Ia[u.Oa("7ca11abfd7330390")](u.Oa(Ja[La-1]),10,15*La+0);Ga.Bv=Ha;function ra(a,b,c){u.Qb(this);this.Iz=a;this.Bb=b;this.GE=c}
ra.prototype.toString=function(){return u.cj(this.Iz)+"."+this.Bb};u.m(ra,{Ud:"classType"},s("Iz"));u.m(ra,{name:"name"},s("Bb"));u.m(ra,{value:"value"},s("GE"));function Ca(){this.kw=[];this.Pj=0;this.UA="  "}Ca.prototype.toString=function(){return this.kw.join("")};Ca.prototype.add=function(a){a&&this.kw.push(a)};function Na(a){a.Pj--;0>a.Pj&&(a.Pj=0)}function Oa(a){for(var b="\n",c=a.Pj;0<c;c--)b+=a.UA;a.kw.push(b)}function Pa(){}u.m(Pa,{f:"iterator"},function(){return this});
Pa.prototype.reset=Pa.prototype.reset=aa();Pa.prototype.next=Pa.prototype.next=ca(p);u.m(Pa,{count:"count"},ca(0));Pa.prototype.Xf=aa();Pa.prototype.toString=ca("EmptyIterator");u.Of=new Pa;function Qa(a){this.key=-1;this.value=a}u.xf(Qa,{key:h,value:h});u.m(Qa,{f:"iterator"},function(){return this});Qa.prototype.reset=Qa.prototype.reset=function(){this.key=-1};Qa.prototype.next=Qa.prototype.next=function(){return-1===this.key?(this.key=0,h):p};u.m(Qa,{count:"count"},ca(1));
Qa.prototype.Xf=function(){this.value=m};Qa.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Ra(a){this.eg=a;this.Rt=m;this.reset()}u.xf(Ra,{key:h,value:h});u.m(Ra,{f:"iterator"},function(){return this});u.a(Ra,"predicate",Ra.prototype.jv);u.defineProperty(Ra,{jv:"predicate"},s("Rt"),ba("Rt"));Ra.prototype.reset=Ra.prototype.reset=function(){var a=this.eg;a.Qg=m;this.gb=a.$b;this.ba=-1};
Ra.prototype.next=Ra.prototype.next=function(){var a=this.eg;a.$b!==this.gb&&u.g("the List has been modified during iteration");var a=a.j,b=a.length,c=++this.ba,d=this.Rt;if(d!==m)for(;c<b;){var e=a[c];if(d(e))return this.key=this.ba=c,this.value=e,h;c++}else{if(c<b)return this.key=c,this.value=a[c],h;this.Xf()}return p};u.m(Ra,{count:"count"},function(){var a=this.Rt;if(a!==m){for(var b=0,c=this.eg.j,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.eg.j.length});
Ra.prototype.Xf=function(){this.key=-1;this.value=m;this.gb=-1;this.eg.Qg=this};Ra.prototype.toString=function(){return"ListIterator@"+this.ba+"/"+this.eg.count};function Ua(a){this.eg=a;this.reset()}u.xf(Ua,{key:h,value:h});u.m(Ua,{f:"iterator"},function(){return this});Ua.prototype.reset=Ua.prototype.reset=function(){var a=this.eg;a.Rw=m;this.gb=a.$b;this.ba=a.j.length};
Ua.prototype.next=Ua.prototype.next=function(){var a=this.eg;a.$b!==this.gb&&u.g("the List has been modified during iteration");var b=--this.ba;if(0<=b)return this.key=b,this.value=a.j[b],h;this.Xf();return p};u.m(Ua,{count:"count"},function(){return this.eg.j.length});Ua.prototype.Xf=function(){this.key=-1;this.value=m;this.gb=-1;this.eg.Rw=this};Ua.prototype.toString=function(){return"ListIteratorBackwards("+this.ba+"/"+this.eg.count+")"};
function A(a){u.Qb(this);this.Ra=p;this.j=[];this.$b=0;this.Rw=this.Qg=m;a===f||a===m?this.M=m:"string"===typeof a?"string"===a||"number"===a||"boolean"===a||"function"===a?this.M=a:u.ha(a,"the string 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.M=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:u.ha(a,"null, a primitive type name, or a class type","List constructor: type")}
u.J("List",A);A.prototype.Sf=function(a){this.M!==m&&("string"===typeof this.M?(typeof a!==this.M||a===m)&&u.Ec(a,this.M):a instanceof this.M||u.Ec(a,this.M))};A.prototype.gd=function(){var a=this.$b;a++;999999999<a&&(a=0);this.$b=a};A.prototype.freeze=A.prototype.freeze=function(){this.Ra=h;return this};A.prototype.thaw=A.prototype.wa=function(){this.Ra=p;return this};A.prototype.toString=function(){return"List("+u.rh(this.M)+")#"+u.qc(this)};
A.prototype.add=A.prototype.add=function(a){a!==m&&(t&&this.Sf(a),u.u(this,a),this.j.push(a),this.gd())};A.prototype.addAll=A.prototype.pg=function(a){if(a===m)return this;u.u(this);var b=this.j;if(u.isArray(a))for(var c=u.Hb(a),d=0;d<c;d++){var e=u.wb(a,d);t&&this.Sf(e);b.push(e)}else for(a=a.f;a.next();)e=a.value,t&&this.Sf(e),b.push(e);this.gd();return this};A.prototype.clear=A.prototype.clear=function(){u.u(this);this.j=[];this.gd()};
A.prototype.contains=A.prototype.contains=function(a){if(a===m)return p;t&&this.Sf(a);return-1!==this.j.indexOf(a)};A.prototype.indexOf=A.prototype.indexOf=function(a){if(a===m)return-1;t&&this.Sf(a);return this.j.indexOf(a)};A.prototype.elt=A.prototype.R=function(a){t&&u.i(a,A,"elt:i");var b=this.j;(0>a||a>=b.length)&&u.ha(a,"0 <= i < length",A,"elt:i");return b[a]};
A.prototype.setElt=A.prototype.qv=function(a,b){t&&(this.Sf(b),u.i(a,A,"setElt:i"));var c=this.j;(0>a||a>=c.length)&&u.ha(a,"0 <= i < length",A,"setElt:i");u.u(this,a);c[a]=b};A.prototype.first=A.prototype.oc=function(){var a=this.j;return 0===a.length?m:a[0]};A.prototype.insertAt=A.prototype.rc=function(a,b){t&&(this.Sf(b),u.i(a,A,"insertAt:i"));0>a&&u.ha(a,">= 0",A,"insertAt:i");u.u(this,a);var c=this.j;a>=c.length?c.push(b):c.splice(a,0,b);this.gd();return h};
A.prototype.remove=A.prototype.remove=function(a){if(a===m)return p;t&&this.Sf(a);u.u(this,a);var b=this.j,a=b.indexOf(a);if(-1===a)return p;a===b.length-1?b.pop():b.splice(a,1);this.gd();return h};A.prototype.removeAt=A.prototype.te=function(a){t&&u.i(a,A,"removeAt:i");var b=this.j;(0>a||a>=b.length)&&u.ha(a,"0 <= i < length",A,"removeAt:i");u.u(this,a);a===b.length-1?b.pop():b.splice(a,1);this.gd()};
A.prototype.removeRange=A.prototype.removeRange=function(a,b){t&&(u.i(a,A,"removeRange:from"),u.i(b,A,"removeRange:to"));var c=this.j;(0>a||a>=c.length)&&u.ha(a,"0 <= from < length",A,"elt:from");(0>b||b>=c.length)&&u.ha(b,"0 <= to < length",A,"elt:to");u.u(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.gd()};A.prototype.copy=A.prototype.copy=function(){for(var a=new A(this.M),b=this.j,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};
A.prototype.toArray=A.prototype.Nf=function(){for(var a=[],b=this.j,c=this.count,d=0;d<c;d++)a.push(b[d]);return a};A.prototype.toSet=A.prototype.kH=function(){for(var a=new ta(this.M),b=this.j,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};A.prototype.sort=A.prototype.sort=function(a){t&&u.e(a,"function",A,"sort:sortfunc");u.u(this);this.j.sort(a);this.gd();return this};
A.prototype.sortRange=A.prototype.so=function(a,b,c){var d=this.j,e=d.length;b===f&&(b=0);c===f&&(c=e);t&&(u.e(a,"function",A,"sortRange:sortfunc"),u.i(b,A,"sortRange:from"),u.i(c,A,"sortRange:to"));u.u(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&u.ha(b,"0 <= from < length",A,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.gd()),this;if(0===b)if(c>=e)d.sort(a);else{g=d.slice(0,c);g.sort(a);for(a=0;a<c;a++)d[a]=g[a]}else if(c>=e){g=d.slice(b);g.sort(a);for(a=
b;a<e;a++)d[a]=g[a-b]}else{g=d.slice(b,c);g.sort(a);for(a=b;a<c;a++)d[a]=g[a-b]}this.gd();return this};A.prototype.reverse=A.prototype.reverse=function(){u.u(this);this.j.reverse();this.gd();return this};u.m(A,{count:"count"},function(){return this.j.length});u.m(A,{length:"length"},function(){return this.j.length});u.m(A,{f:"iterator"},function(){if(0>=this.j.length)return u.Of;var a=this.Qg;return a!==m?(a.reset(),a):new Ra(this)});
u.m(A,{Tn:"iteratorBackwards"},function(){if(0>=this.j.length)return u.Of;var a=this.Rw;return a!==m?(a.reset(),a):new Ua(this)});function Va(a){this.Od=a;this.reset()}u.xf(Va,{key:h,value:h});u.m(Va,{f:"iterator"},function(){return this});Va.prototype.reset=Va.prototype.reset=function(){var a=this.Od;a.Qg=m;this.gb=a.$b;this.ee=m};
Va.prototype.next=Va.prototype.next=function(){var a=this.Od;a.$b!==this.gb&&u.g("the Set has been modified during iteration");var b=this.ee,b=b===m?a.ef:b.Ii;if(b!==m)return this.ee=b,this.value=b.value,this.key=b.key,h;this.Xf();return p};u.m(Va,{count:"count"},function(){return this.Od.be});Va.prototype.Xf=function(){this.value=m;this.gb=-1;this.Od.Qg=this};Va.prototype.toString=function(){return this.ee!==m?"SetIterator@"+this.ee.value:"SetIterator"};
function ta(a){u.Qb(this);this.Ra=p;a===f||a===m?this.M=m:"string"===typeof a?"string"===a||"number"===a?this.M=a:u.ha(a,"the string 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.M=a===Object?"object":a===String?"string":a===Number?"number":a:u.ha(a,"null, a primitive type name, or a class type","Set constructor: type");this.uc={};this.be=0;this.Qg=m;this.$b=0;this.Rg=this.ef=m}u.J("Set",ta);
ta.prototype.Sf=function(a){this.M!==m&&("string"===typeof this.M?(typeof a!==this.M||a===m)&&u.Ec(a,this.M):a instanceof this.M||u.Ec(a,this.M))};ta.prototype.gd=function(){var a=this.$b;a++;999999999<a&&(a=0);this.$b=a};ta.prototype.freeze=ta.prototype.freeze=function(){this.Ra=h;return this};ta.prototype.thaw=ta.prototype.wa=function(){this.Ra=p;return this};ta.prototype.toString=function(){return"Set("+u.rh(this.M)+")#"+u.qc(this)};
ta.prototype.add=ta.prototype.add=function(a){if(a===m)return p;t&&this.Sf(a);u.u(this,a);var b=a;u.Ta(a)&&(b=u.Qn(a));return this.uc[b]===f?(this.be++,a=new Ya(a,a),this.uc[b]=a,b=this.Rg,b===m?this.ef=a:(a.Um=b,b.Ii=a),this.Rg=a,this.gd(),h):p};ta.prototype.addAll=ta.prototype.pg=function(a){if(a===m)return this;u.u(this);if(u.isArray(a))for(var b=u.Hb(a),c=0;c<b;c++)this.add(u.wb(a,c));else for(a=a.f;a.next();)this.add(a.value);return this};
ta.prototype.contains=ta.prototype.contains=function(a){if(a===m)return p;t&&this.Sf(a);var b=a;return u.Ta(a)&&(b=u.qc(a),b===f)?p:this.uc[b]!==f};ta.prototype.containsAll=ta.prototype.rI=function(a){if(a===m)return h;for(a=a.f;a.next();)if(!this.contains(a.value))return p;return h};ta.prototype.containsAny=ta.prototype.sI=function(a){if(a===m)return h;for(a=a.f;a.next();)if(this.contains(a.value))return h;return p};ta.prototype.first=ta.prototype.oc=function(){var a=this.ef;return a===m?m:a.value};
ta.prototype.remove=ta.prototype.remove=function(a){if(a===m)return p;t&&this.Sf(a);u.u(this,a);var b=a;if(u.Ta(a)&&(b=u.qc(a),b===f))return p;a=this.uc[b];if(a===f)return p;var c=a.Ii,d=a.Um;c!==m&&(c.Um=d);d!==m&&(d.Ii=c);this.ef===a&&(this.ef=c);this.Rg===a&&(this.Rg=d);delete this.uc[b];this.be--;this.gd();return h};ta.prototype.removeAll=ta.prototype.iK=function(a){if(a===m)return this;u.u(this);for(a=a.f;a.next();)this.remove(a.value);return this};
ta.prototype.retainAll=ta.prototype.qK=function(a){if(a===m||0===this.count)return this;u.u(this);var b=new ta(this.M);b.pg(a);for(var a=new A(this.M),c=this.f;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.f;b.next();)this.remove(b.value);return this};ta.prototype.clear=ta.prototype.clear=function(){u.u(this);this.uc={};this.be=0;this.Rg=this.ef=m;this.gd()};ta.prototype.copy=ta.prototype.copy=function(){var a=new ta(this.M),b=this.uc,c;for(c in b)a.add(b[c].value);return a};
ta.prototype.toArray=ta.prototype.Nf=function(){var a=[],b=this.uc,c;for(c in b)a.push(b[c].value);return a};ta.prototype.toList=ta.prototype.jH=function(){var a=new A(this.M),b=this.uc,c;for(c in b)a.add(b[c]);return a};u.m(ta,{count:"count"},s("be"));u.m(ta,{f:"iterator"},function(){if(0>=this.be)return u.Of;var a=this.Qg;return a!==m?(a.reset(),a):new Va(this)});function ab(a){this.fd=a;this.reset()}u.xf(ab,{key:h,value:h});u.m(ab,{f:"iterator"},function(){return this});
ab.prototype.reset=ab.prototype.reset=function(){this.gb=this.fd.$b;this.ee=m};ab.prototype.next=ab.prototype.next=function(){var a=this.fd;a.$b!==this.gb&&u.g("the Map has been modified during iteration");var b=this.ee,b=b===m?a.ef:b.Ii;if(b!==m)return this.ee=b,this.value=b.key,h;this.Xf();return p};u.m(ab,{count:"count"},function(){return this.fd.be});ab.prototype.Xf=function(){this.value=m;this.gb=-1};ab.prototype.toString=function(){return this.ee!==m?"MapKeySetIterator@"+this.ee.value:"MapKeySetIterator"};
function db(a){u.Qb(this);this.fd=a}u.va(db,ta);db.prototype.freeze=function(){return this};db.prototype.wa=function(){return this};db.prototype.toString=function(){return"MapKeySet("+this.fd.toString()+")"};db.prototype.add=db.prototype.add=function(){u.g("This Set is read-only: "+this.toString());return p};db.prototype.contains=db.prototype.contains=function(a){return this.fd.contains(a)};db.prototype.remove=db.prototype.remove=function(){u.g("This Set is read-only: "+this.toString());return p};
db.prototype.clear=db.prototype.clear=function(){u.g("This Set is read-only: "+this.toString())};db.prototype.copy=db.prototype.copy=function(){return new db(this.fd)};db.prototype.toSet=db.prototype.kH=function(){var a=new ta(this.fd.M),b=this.fd.uc,c;for(c in b)a.add(b[c].key);return a};db.prototype.toArray=db.prototype.Nf=function(){var a=[],b=this.fd.uc,c;for(c in b)a.push(b[c].key);return a};
db.prototype.toList=db.prototype.jH=function(){var a=new A(this.M),b=this.fd.uc,c;for(c in b)a.add(b[c].key);return a};u.m(db,{count:"count"},function(){return this.fd.be});u.m(db,{f:"iterator"},function(){return 0>=this.fd.be?u.Of:new ab(this.fd)});function Ya(a,b){this.key=a;this.value=b;this.Um=this.Ii=m}u.xf(Ya,{key:h,value:h});Ya.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function fb(a){this.fd=a;this.reset()}u.xf(fb,{key:h,value:h});u.m(fb,{f:"iterator"},function(){return this});
fb.prototype.reset=fb.prototype.reset=function(){var a=this.fd;a.Qg=m;this.gb=a.$b;this.ee=m};fb.prototype.next=fb.prototype.next=function(){var a=this.fd;a.$b!==this.gb&&u.g("the Map has been modified during iteration");var b=this.ee,b=b===m?a.ef:b.Ii;if(b!==m)return this.ee=b,this.key=b.key,this.value=b.value,h;this.Xf();return p};u.m(fb,{count:"count"},function(){return this.fd.be});fb.prototype.Xf=function(){this.value=this.key=m;this.gb=-1;this.fd.Qg=this};
fb.prototype.toString=function(){return this.ee!==m?"MapIterator@"+this.ee:"MapIterator"};
function sa(a,b){u.Qb(this);this.Ra=p;a===f||a===m?this.Kh=m:"string"===typeof a?"string"===a||"number"===a?this.Kh=a:u.ha(a,"the string 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.Kh=a===Object?"object":a===String?"string":a===Number?"number":a:u.ha(a,"null, a primitive type name, or a class type","Map constructor: keytype");b===f||b===m?this.Yh=m:"string"===typeof b?"string"===b||"boolean"===b||"number"===b||"function"===b?this.Yh=b:u.ha(b,"the string 'number', 'string', 'boolean', or 'function'",
"Map constructor: valtype"):"function"===typeof b?this.Yh=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:u.ha(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.uc={};this.be=0;this.Qg=m;this.$b=0;this.Rg=this.ef=m}u.J("Map",sa);function hb(a,b){a.Kh!==m&&("string"===typeof a.Kh?(typeof b!==a.Kh||b===m)&&u.Ec(b,a.Kh):b instanceof a.Kh||u.Ec(b,a.Kh))}
sa.prototype.gd=function(){var a=this.$b;a++;999999999<a&&(a=0);this.$b=a};sa.prototype.freeze=sa.prototype.freeze=function(){this.Ra=h;return this};sa.prototype.thaw=sa.prototype.wa=function(){this.Ra=p;return this};sa.prototype.toString=function(){return"Map("+u.rh(this.Kh)+","+u.rh(this.Yh)+")#"+u.qc(this)};
sa.prototype.add=sa.prototype.add=function(a,b){t&&(hb(this,a),this.Yh!==m&&("string"===typeof this.Yh?(typeof b!==this.Yh||b===m)&&u.Ec(b,this.Yh):b instanceof this.Yh||u.Ec(b,this.Yh)));u.u(this,a);var c=a;u.Ta(a)&&(c=u.Qn(a));var d=this.uc[c];if(d===f)return this.be++,d=new Ya(a,b),this.uc[c]=d,c=this.Rg,c===m?this.ef=d:(d.Um=c,c.Ii=d),this.Rg=d,this.gd(),h;d.value=b;return p};
sa.prototype.addAll=sa.prototype.pg=function(a){if(a===m)return this;t&&u.c(a,sa,sa,"addAll:map");for(a=a.f;a.next();)this.add(a.key,a.value);return this};sa.prototype.contains=sa.prototype.contains=function(a){t&&hb(this,a);var b=a;return u.Ta(a)&&(b=u.qc(a),b===f)?p:this.uc[b]!==f};sa.prototype.getValue=sa.prototype.ga=function(a){t&&hb(this,a);var b=a;if(u.Ta(a)&&(b=u.qc(a),b===f))return m;a=this.uc[b];return a===f?m:a.value};
sa.prototype.remove=sa.prototype.remove=function(a){if(a===m)return p;t&&hb(this,a);u.u(this,a);var b=a;if(u.Ta(a)&&(b=u.qc(a),b===f))return p;a=this.uc[b];if(a===f)return p;var c=a.Ii,d=a.Um;c!==m&&(c.Um=d);d!==m&&(d.Ii=c);this.ef===a&&(this.ef=c);this.Rg===a&&(this.Rg=d);delete this.uc[b];this.be--;this.gd();return h};sa.prototype.clear=sa.prototype.clear=function(){u.u(this);this.uc={};this.be=0;this.Rg=this.ef=m;this.gd()};
sa.prototype.copy=sa.prototype.copy=function(){var a=new sa(this.Kh,this.Yh),b=this.uc,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};sa.prototype.toArray=sa.prototype.Nf=function(){var a=[],b=this.uc,c;for(c in b){var d=b[c];a.push(new Ya(d.key,d.value))}return a};sa.prototype.toKeySet=sa.prototype.pj=function(){return new db(this)};u.m(sa,{count:"count"},s("be"));u.m(sa,{f:"iterator"},function(){if(0>=this.count)return u.Of;var a=this.Qg;return a!==m?(a.reset(),a):new fb(this)});
function E(a,b){a===f?this.s=this.r=0:"number"===typeof a&&"number"===typeof b?(this.r=a,this.s=b):u.g("Invalid arguments to Point constructor")}u.J("Point",E);E.prototype.Xa=function(a){t&&u.c(a,E,E,"assign:p");this.r=a.r;this.s=a.s};E.prototype.Od=function(a,b){this.r=a;this.s=b};E.prototype.setTo=E.prototype.ro=function(a,b){t&&(u.e(a,"number",E,"setTo:x"),u.e(b,"number",E,"setTo:y"));u.u(this);this.r=a;this.s=b;return this};
E.prototype.set=E.prototype.set=function(a){t&&u.c(a,E,E,"set:p");u.u(this);this.r=a.r;this.s=a.s;return this};E.prototype.copy=E.prototype.copy=function(){var a=new E;a.r=this.r;a.s=this.s;return a};E.prototype.Na=function(){this.Ra=h;Object.freeze(this);return this};E.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};E.prototype.freeze=function(){this.Ra=h;return this};E.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;return this};
E.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new E(c,e)}return new E};var ib;E.stringify=ib=function(a){return a instanceof E?a.x.toString()+" "+a.y.toString():a.toString()};E.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};E.prototype.equals=E.prototype.z=function(a){return!(a instanceof E)?p:this.r===a.x&&this.s===a.y};
E.prototype.equalTo=E.prototype.py=function(a,b){return this.r===a&&this.s===b};E.prototype.$i=function(a){return mb(this.r,a.x)&&mb(this.s,a.y)};E.prototype.ug=function(a){return nb(this.r,a.x)&&nb(this.s,a.y)};E.prototype.add=E.prototype.add=function(a){t&&u.c(a,E,E,"add:p");u.u(this);this.r+=a.x;this.s+=a.y;return this};E.prototype.subtract=E.prototype.rs=function(a){t&&u.c(a,E,E,"subtract:p");u.u(this);this.r-=a.x;this.s-=a.y;return this};
E.prototype.offset=E.prototype.offset=function(a,b){t&&(u.i(a,E,"offset:dx"),u.i(b,E,"offset:dy"));u.u(this);this.r+=a;this.s+=b;return this};E.prototype.rotate=E.prototype.rotate=function(a){t&&u.i(a,E,"rotate:angle");u.u(this);if(0===a)return this;var b=this.r,c=this.s;if(0===b&&0===c)return this;var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d);this.r=a*b-d*c;this.s=d*b+a*c;return this};
E.prototype.scale=E.prototype.scale=function(a,b){t&&(u.i(a,E,"scale:sx"),u.i(b,E,"scale:sy"));this.r*=a;this.s*=b;return this};E.prototype.distanceSquaredPoint=E.prototype.Xi=function(a){t&&u.c(a,E,E,"distanceSquaredPoint:p");var b=a.x-this.r,a=a.y-this.s;return b*b+a*a};E.prototype.distanceSquared=E.prototype.DI=function(a,b){t&&(u.i(a,E,"distanceSquared:px"),u.i(b,E,"distanceSquared:py"));var c=a-this.r,d=b-this.s;return c*c+d*d};
E.prototype.normalize=E.prototype.normalize=function(){u.u(this);var a=this.r,b=this.s,c=Math.sqrt(a*a+b*b);0<c&&(this.r=a/c,this.s=b/c);return this};E.prototype.directionPoint=E.prototype.gi=function(a){t&&u.c(a,E,E,"directionPoint:p");return ob(a.x-this.r,a.y-this.s)};E.prototype.direction=E.prototype.direction=function(a,b){t&&(u.i(a,E,"direction:px"),u.i(b,E,"direction:py"));return ob(a-this.r,b-this.s)};
function ob(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}E.prototype.setRectSpot=E.prototype.qo=function(a,b){t&&(u.c(a,F,E,"setRectSpot:r"),u.c(b,K,E,"setRectSpot:spot"));u.u(this);this.r=a.x+b.x*a.width+b.offsetX;this.s=a.y+b.y*a.height+b.offsetY;return this};
E.prototype.setSpot=E.prototype.$l=function(a,b,c,d,e){t&&(u.i(a,E,"setSpot:x"),u.i(b,E,"setSpot:y"),u.i(c,E,"setSpot:w"),u.i(d,E,"setSpot:h"),(0>c||0>d)&&u.g("Point.setSpot:Width and height cannot be negative"),u.c(e,K,E,"setSpot:spot"));u.u(this);this.r=a+e.x*c+e.offsetX;this.s=b+e.y*d+e.offsetY;return this};E.prototype.transform=function(a){t&&u.c(a,pb,E,"transform:t");a.Fb(this);return this};function qb(a,b){t&&u.c(b,pb,E,"transformInverted:t");b.mi(a);return a}var sb;
E.distanceLineSegmentSquared=sb=function(a,b,c,d,e,g){t&&(u.i(a,E,"distanceLineSegmentSquared:px"),u.i(b,E,"distanceLineSegmentSquared:py"),u.i(c,E,"distanceLineSegmentSquared:ax"),u.i(d,E,"distanceLineSegmentSquared:ay"),u.i(e,E,"distanceLineSegmentSquared:bx"),u.i(g,E,"distanceLineSegmentSquared:by"));var i=e-c,j=g-d,k=i*i+j*j,c=c-a,d=d-b,l=-c*i-d*j;if(0>=l||l>=k)return i=e-a,j=g-b,Math.min(c*c+d*d,i*i+j*j);a=i*d-j*c;return a*a/k};
E.distanceSquared=function(a,b,c,d){t&&(u.i(a,E,"distanceSquared:px"),u.i(b,E,"distanceSquared:py"),u.i(c,E,"distanceSquared:qx"),u.i(d,E,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var tb;
E.direction=tb=function(a,b,c,d){t&&(u.i(a,E,"direction:px"),u.i(b,E,"direction:py"),u.i(c,E,"direction:qx"),u.i(d,E,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};u.a(E,"x",E.prototype.x);u.defineProperty(E,{x:"x"},s("r"),function(a){u.u(this,a);t&&u.e(a,"number",E,"x");this.r=a});u.a(E,"y",E.prototype.y);
u.defineProperty(E,{y:"y"},s("s"),function(a){u.u(this,a);t&&u.e(a,"number",E,"y");this.s=a});E.prototype.isReal=E.prototype.ca=function(){return isFinite(this.x)&&isFinite(this.y)};function L(a,b){a===f?this.ea=this.fa=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.fa=a,this.ea=b):u.g("Invalid arguments to Size constructor")}u.J("Size",L);L.prototype.Xa=function(a){t&&u.c(a,L,L,"assign:s");this.fa=a.fa;this.ea=a.ea};
L.prototype.Od=function(a,b){this.fa=a;this.ea=b};L.prototype.setTo=L.prototype.ro=function(a,b){t&&(u.e(a,"number",L,"setTo:w"),u.e(b,"number",L,"setTo:h"));0>a&&u.ha(a,">= 0",L,"setTo:w");0>b&&u.ha(b,">= 0",L,"setTo:h");u.u(this);this.fa=a;this.ea=b;return this};L.prototype.set=L.prototype.set=function(a){t&&u.c(a,L,L,"set:s");u.u(this);this.fa=a.fa;this.ea=a.ea;return this};L.prototype.copy=L.prototype.copy=function(){var a=new L;a.fa=this.fa;a.ea=this.ea;return a};
L.prototype.Na=function(){this.Ra=h;Object.freeze(this);return this};L.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};L.prototype.freeze=function(){this.Ra=h;return this};L.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;return this};
L.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new L(c,e)}return new L};var wb;L.stringify=wb=function(a){return a instanceof L?a.width.toString()+" "+a.height.toString():a.toString()};L.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};
L.prototype.equals=L.prototype.z=function(a){return!(a instanceof L)?p:this.fa===a.width&&this.ea===a.height};L.prototype.equalTo=L.prototype.py=function(a,b){return this.fa===a&&this.ea===b};L.prototype.$i=function(a){return mb(this.fa,a.width)&&mb(this.ea,a.height)};L.prototype.ug=function(a){return nb(this.fa,a.width)&&nb(this.ea,a.height)};u.a(L,"width",L.prototype.width);
u.defineProperty(L,{width:"width"},s("fa"),function(a){u.u(this,a);t&&u.e(a,"number",L,"width");0>a&&u.ha(a,">= 0",L,"width");this.fa=a});u.a(L,"height",L.prototype.height);u.defineProperty(L,{height:"height"},s("ea"),function(a){u.u(this,a);t&&u.e(a,"number",L,"height");0>a&&u.ha(a,">= 0",L,"height");this.ea=a});L.prototype.isReal=L.prototype.ca=function(){return isFinite(this.width)&&isFinite(this.height)};
function F(a,b,c,d){a===f?this.ea=this.fa=this.s=this.r=0:a instanceof E?b instanceof E?(this.r=Math.min(a.r,b.r),this.s=Math.min(a.s,b.s),this.fa=Math.abs(a.r-b.r),this.ea=Math.abs(a.s-b.s)):b instanceof L?(this.r=a.r,this.s=a.s,this.fa=b.fa,this.ea=b.ea):u.g("Incorrect arguments supplied"):"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.r=a,this.s=b,this.fa=c,this.ea=d):u.g("Invalid arguments to Rect constructor")}
u.J("Rect",F);F.prototype.Xa=function(a){t&&u.c(a,F,F,"assign:r");this.r=a.r;this.s=a.s;this.fa=a.fa;this.ea=a.ea};F.prototype.Od=function(a,b,c,d){this.r=a;this.s=b;this.fa=c;this.ea=d};function xb(a,b,c){a.fa=b;a.ea=c}F.prototype.setTo=F.prototype.ro=function(a,b,c,d){t&&(u.e(a,"number",F,"setTo:x"),u.e(b,"number",F,"setTo:y"),u.e(c,"number",F,"setTo:w"),u.e(d,"number",F,"setTo:h"));0>c&&u.ha(c,">= 0",F,"setTo:w");0>d&&u.ha(d,">= 0",F,"setTo:h");u.u(this);this.r=a;this.s=b;this.fa=c;this.ea=d;return this};
F.prototype.set=F.prototype.set=function(a){t&&u.c(a,F,F,"set:r");u.u(this);this.r=a.r;this.s=a.s;this.fa=a.fa;this.ea=a.ea;return this};F.prototype.setPoint=F.prototype.A=function(a){t&&u.c(a,E,F,"setPoint:p");u.u(this);this.r=a.r;this.s=a.s;return this};F.prototype.setSize=F.prototype.aH=function(a){t&&u.c(a,L,F,"setSize:s");u.u(this);this.fa=a.fa;this.ea=a.ea;return this};F.prototype.copy=F.prototype.copy=function(){var a=new F;a.r=this.r;a.s=this.s;a.fa=this.fa;a.ea=this.ea;return a};
F.prototype.Na=function(){this.Ra=h;Object.freeze(this);return this};F.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};F.prototype.freeze=function(){this.Ra=h;return this};F.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;return this};function yb(a){var b=a.count,c=h,d=m;if(0===b)return new F;for(var e=0;e<b;e++){var g=a.j[e];c?(d=new F(g.r,g.s,0,0),c=p):Cb(d,g.r,g.s,0,0)}return d}
F.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new F(c,e,g,i)}return new F};var Db;F.stringify=Db=function(a){return a instanceof F?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};
F.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};F.prototype.equals=F.prototype.z=function(a){return!(a instanceof F)?p:this.r===a.x&&this.s===a.y&&this.fa===a.width&&this.ea===a.height};F.prototype.equalTo=F.prototype.py=function(a,b,c,d){return this.r===a&&this.s===b&&this.fa===c&&this.ea===d};F.prototype.$i=function(a){return mb(this.r,a.x)&&mb(this.s,a.y)&&mb(this.fa,a.width)&&mb(this.ea,a.height)};
F.prototype.ug=function(a){return nb(this.r,a.x)&&nb(this.s,a.y)&&nb(this.fa,a.width)&&nb(this.ea,a.height)};F.prototype.containsPoint=F.prototype.ka=function(a){t&&u.c(a,E,F,"containsPoint:p");return this.r<=a.x&&this.r+this.fa>=a.x&&this.s<=a.y&&this.s+this.ea>=a.y};F.prototype.containsRect=F.prototype.Cl=function(a){t&&u.c(a,F,F,"containsRect:r");return this.r<=a.x&&a.x+a.width<=this.r+this.fa&&this.s<=a.y&&a.y+a.height<=this.s+this.ea};
F.prototype.contains=F.prototype.contains=function(a,b,c,d){t?(u.i(a,F,"contains:x"),u.i(b,F,"contains:y"),c===f?c=0:u.i(c,F,"contains:w"),d===f?d=0:u.i(d,F,"contains:h"),(0>c||0>d)&&u.g("Rect.contains:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.r<=a&&a+c<=this.r+this.fa&&this.s<=b&&b+d<=this.s+this.ea};F.prototype.reset=function(){u.u(this);this.ea=this.fa=this.s=this.r=0};
F.prototype.offset=F.prototype.offset=function(a,b){t&&(u.i(a,F,"offset:dx"),u.i(b,F,"offset:dy"));u.u(this);this.r+=a;this.s+=b;return this};F.prototype.inflate=F.prototype.yf=function(a,b){t&&(u.i(a,F,"inflate:w"),u.i(b,F,"inflate:h"));return Gb(this,b,a,b,a)};F.prototype.addMargin=F.prototype.qr=function(a){t&&u.c(a,Hb,F,"addMargin:m");return Gb(this,a.top,a.right,a.bottom,a.left)};
F.prototype.subtractMargin=F.prototype.HK=function(a){t&&u.c(a,Hb,F,"subtractMargin:m");return Gb(this,-a.top,-a.right,-a.bottom,-a.left)};F.prototype.grow=F.prototype.kJ=function(a,b,c,d){t&&(u.i(a,F,"grow:t"),u.i(b,F,"grow:r"),u.i(c,F,"grow:b"),u.i(d,F,"grow:l"));return Gb(this,a,b,c,d)};function Gb(a,b,c,d,e){u.u(a);var g=a.fa;c+e<=-g?(a.r+=g/2,a.fa=0):(a.r-=e,a.fa+=c+e);c=a.ea;b+d<=-c?(a.s+=c/2,a.ea=0):(a.s-=b,a.ea+=b+d);return a}
F.prototype.intersectRect=F.prototype.vJ=function(a){t&&u.c(a,F,F,"intersectRect:r");return Lb(this,a.x,a.y,a.width,a.height)};F.prototype.intersect=F.prototype.uJ=function(a,b,c,d){t&&(u.i(a,F,"intersect:x"),u.i(b,F,"intersect:y"),u.i(c,F,"intersect:w"),u.i(d,F,"intersect:h"),(0>c||0>d)&&u.g("Rect.intersect:Width and height cannot be negative"));return Lb(this,a,b,c,d)};
function Lb(a,b,c,d,e){u.u(a);var g=Math.max(a.r,b),i=Math.max(a.s,c),b=Math.min(a.r+a.fa,b+d),c=Math.min(a.s+a.ea,c+e);a.r=g;a.s=i;a.fa=Math.max(0,b-g);a.ea=Math.max(0,c-i);return a}F.prototype.intersectsRect=F.prototype.Ve=function(a){t&&u.c(a,F,F,"intersectsRect:r");return this.fG(a.x,a.y,a.width,a.height)};
F.prototype.intersects=F.prototype.fG=function(a,b,c,d){t&&(u.i(a,F,"intersects:x"),u.i(b,F,"intersects:y"),u.i(a,F,"intersects:w"),u.i(b,F,"intersects:h"),(0>c||0>d)&&u.g("Rect.intersects:Width and height cannot be negative"));var e=this.fa,g=this.r;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return p;a=this.ea;e=this.s;return Infinity!==a&&Infinity!==d&&(a+=e,d+=b,isNaN(d)||isNaN(a)||e>d||b>a)?p:h};
F.prototype.unionPoint=F.prototype.xv=function(a){t&&u.c(a,E,F,"unionPoint:p");return Cb(this,a.x,a.y,0,0)};F.prototype.unionRect=F.prototype.qj=function(a){t&&u.c(a,F,F,"unionRect:r");return Cb(this,a.r,a.s,a.fa,a.ea)};F.prototype.union=F.prototype.LK=function(a,b,c,d){u.u(this);t?(u.i(a,F,"union:x"),u.i(b,F,"union:y"),c===f?c=0:u.i(c,F,"union:w"),d===f?d=0:u.i(d,F,"union:h"),(0>c||0>d)&&u.g("Rect.union:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return Cb(this,a,b,c,d)};
function Cb(a,b,c,d,e){var g=Math.min(a.r,b),i=Math.min(a.s,c),b=Math.max(a.r+a.fa,b+d),c=Math.max(a.s+a.ea,c+e);a.r=g;a.s=i;a.fa=b-g;a.ea=c-i;return a}F.prototype.setSpot=F.prototype.$l=function(a,b,c){t&&(u.i(a,F,"setSpot:x"),u.i(b,F,"setSpot:y"),u.c(c,K,F,"setSpot:spot"));u.u(this);this.r=a-c.offsetX-c.x*this.fa;this.s=b-c.offsetY-c.y*this.ea;return this};var Mb;
F.contains=Mb=function(a,b,c,d,e,g,i,j){t?(u.i(a,F,"contains:rx"),u.i(b,F,"contains:ry"),u.i(c,F,"contains:rw"),u.i(d,F,"contains:rh"),u.i(e,F,"contains:x"),u.i(g,F,"contains:y"),i===f?i=0:u.i(i,F,"contains:w"),j===f?j=0:u.i(j,F,"contains:h"),(0>c||0>d||0>i||0>j)&&u.g("Rect.contains:Width and height cannot be negative")):(i===f&&(i=0),j===f&&(j=0));return a<=e&&e+i<=a+c&&b<=g&&g+j<=b+d};
F.intersects=function(a,b,c,d,e,g,i,j){t&&(u.i(a,F,"intersects:rx"),u.i(b,F,"intersects:ry"),u.i(c,F,"intersects:rw"),u.i(d,F,"intersects:rh"),u.i(e,F,"intersects:x"),u.i(g,F,"intersects:y"),u.i(i,F,"intersects:w"),u.i(j,F,"intersects:h"),(0>c||0>d||0>i||0>j)&&u.g("Rect.intersects:Width and height cannot be negative"));c+=a;i+=e;if(a>i||e>c)return p;a=d+b;j+=g;return b>j||g>a?p:h};u.a(F,"x",F.prototype.x);u.defineProperty(F,{x:"x"},s("r"),function(a){u.u(this,a);t&&u.e(a,"number",F,"x");this.r=a});
u.a(F,"y",F.prototype.y);u.defineProperty(F,{y:"y"},s("s"),function(a){u.u(this,a);t&&u.e(a,"number",F,"y");this.s=a});u.a(F,"width",F.prototype.width);u.defineProperty(F,{width:"width"},s("fa"),function(a){u.u(this,a);t&&u.e(a,"number",F,"width");0>a&&u.ha(a,">= 0",F,"width");this.fa=a});u.a(F,"height",F.prototype.height);u.defineProperty(F,{height:"height"},s("ea"),function(a){u.u(this,a);t&&u.e(a,"number",F,"height");0>a&&u.ha(a,">= 0",F,"height");this.ea=a});u.a(F,"left",F.prototype.left);
u.defineProperty(F,{left:"left"},s("r"),function(a){u.u(this,a);t&&u.e(a,"number",F,"left");this.r=a});u.a(F,"top",F.prototype.top);u.defineProperty(F,{top:"top"},s("s"),function(a){u.u(this,a);t&&u.e(a,"number",F,"top");this.s=a});u.a(F,"right",F.prototype.right);u.defineProperty(F,{right:"right"},function(){return this.r+this.fa},function(a){u.u(this,a);t&&u.i(a,F,"right");this.r+=a-(this.r+this.fa)});u.a(F,"bottom",F.prototype.bottom);
u.defineProperty(F,{bottom:"bottom"},function(){return this.s+this.ea},function(a){u.u(this,a);t&&u.i(a,F,"top");this.s+=a-(this.s+this.ea)});u.a(F,"position",F.prototype.position);u.defineProperty(F,{position:"position"},function(){return new E(this.r,this.s)},function(a){u.u(this,a);t&&u.c(a,E,F,"position");this.r=a.x;this.s=a.y});u.a(F,"size",F.prototype.size);
u.defineProperty(F,{size:"size"},function(){return new L(this.fa,this.ea)},function(a){u.u(this,a);t&&u.c(a,L,F,"size");this.fa=a.width;this.ea=a.height});u.a(F,"center",F.prototype.Au);u.defineProperty(F,{Au:"center"},function(){return new E(this.r+this.fa/2,this.s+this.ea/2)},function(a){u.u(this,a);t&&u.c(a,E,F,"center");this.r=a.x-this.fa/2;this.s=a.y-this.ea/2});u.a(F,"centerX",F.prototype.Da);
u.defineProperty(F,{Da:"centerX"},function(){return this.r+this.fa/2},function(a){u.u(this,a);t&&u.i(a,F,"centerX");this.r=a-this.fa/2});u.a(F,"centerY",F.prototype.Ea);u.defineProperty(F,{Ea:"centerY"},function(){return this.s+this.ea/2},function(a){u.u(this,a);t&&u.i(a,F,"centerY");this.s=a-this.ea/2});F.prototype.isReal=F.prototype.ca=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};
F.prototype.isEmpty=F.prototype.xJ=function(){return 0===this.width&&0===this.height};function Hb(a,b,c,d){a===f?this.kf=this.cf=this.qf=this.tf=0:b===f?this.left=this.bottom=this.right=this.top=a:c===f?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):d!==f?(this.top=a,this.right=b,this.bottom=c,this.left=d):u.g("Invalid arguments to Margin constructor")}u.J("Margin",Hb);Hb.prototype.Xa=function(a){t&&u.c(a,Hb,Hb,"assign:m");this.tf=a.tf;this.qf=a.qf;this.cf=a.cf;this.kf=a.kf};
Hb.prototype.setTo=Hb.prototype.ro=function(a,b,c,d){t&&(u.e(a,"number",Hb,"setTo:t"),u.e(b,"number",Hb,"setTo:r"),u.e(c,"number",Hb,"setTo:b"),u.e(d,"number",Hb,"setTo:l"));u.u(this);this.tf=a;this.qf=b;this.cf=c;this.kf=d;return this};Hb.prototype.set=Hb.prototype.set=function(a){t&&u.c(a,Hb,Hb,"assign:m");u.u(this);this.tf=a.tf;this.qf=a.qf;this.cf=a.cf;this.kf=a.kf;return this};Hb.prototype.copy=Hb.prototype.copy=function(){var a=new Hb;a.tf=this.tf;a.qf=this.qf;a.cf=this.cf;a.kf=this.kf;return a};
Hb.prototype.Na=function(){this.Ra=h;Object.freeze(this);return this};Hb.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};Hb.prototype.freeze=function(){this.Ra=h;return this};Hb.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;return this};
Hb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new Hb(c,e,g,i)}return new Hb};var Ob;Hb.stringify=Ob=function(a){return a instanceof Hb?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};
Hb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};Hb.prototype.equals=Hb.prototype.z=function(a){return!(a instanceof Hb)?p:this.tf===a.top&&this.qf===a.right&&this.cf===a.bottom&&this.kf===a.left};Hb.prototype.equalTo=Hb.prototype.py=function(a,b,c,d){return this.tf===a&&this.qf===b&&this.cf===c&&this.kf===d};Hb.prototype.$i=function(a){return mb(this.tf,a.top)&&mb(this.qf,a.right)&&mb(this.cf,a.bottom)&&mb(this.kf,a.left)};
Hb.prototype.ug=function(a){return nb(this.tf,a.top)&&nb(this.qf,a.right)&&nb(this.cf,a.bottom)&&nb(this.kf,a.left)};u.a(Hb,"top",Hb.prototype.top);u.defineProperty(Hb,{top:"top"},s("tf"),function(a){u.u(this,a);t&&u.i(a,Hb,"top");this.tf=a});u.a(Hb,"right",Hb.prototype.right);u.defineProperty(Hb,{right:"right"},s("qf"),function(a){u.u(this,a);t&&u.i(a,Hb,"right");this.qf=a});u.a(Hb,"bottom",Hb.prototype.bottom);
u.defineProperty(Hb,{bottom:"bottom"},s("cf"),function(a){u.u(this,a);t&&u.i(a,Hb,"bottom");this.cf=a});u.a(Hb,"left",Hb.prototype.left);u.defineProperty(Hb,{left:"left"},s("kf"),function(a){u.u(this,a);t&&u.i(a,Hb,"left");this.kf=a});Hb.prototype.isReal=Hb.prototype.ca=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function pb(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.Qa=this.Pa=0}u.xf(pb,{m11:h,m12:h,m21:h,m22:h,Pa:h,Qa:h});
pb.prototype.set=pb.prototype.set=function(a){t&&u.c(a,pb,pb,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.Pa=a.Pa;this.Qa=a.Qa;return this};pb.prototype.copy=pb.prototype.copy=function(){var a=new pb;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.Pa=this.Pa;a.Qa=this.Qa;return a};pb.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.Pa+","+this.Qa+")"};
pb.prototype.equals=pb.prototype.z=function(a){return!(a instanceof pb)?p:this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.Pa===a.Pa&&this.Qa===a.Qa};pb.prototype.reset=pb.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.Qa=this.Pa=0};
pb.prototype.multiply=pb.prototype.multiply=function(a){t&&u.c(a,pb,pb,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.Pa+this.m21*a.Qa+this.Pa,g=this.m12*a.Pa+this.m22*a.Qa+this.Qa;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.Pa=e;this.Qa=g;return this};
pb.prototype.multiplyInverted=pb.prototype.BG=function(a){t&&u.c(a,pb,pb,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,i=b*(a.m21*a.Qa-a.m22*a.Pa),j=b*(a.m12*a.Pa-a.m11*a.Qa),a=this.m12*c+this.m22*d,b=this.m11*e+this.m21*g,e=this.m12*e+this.m22*g,g=this.m11*i+this.m21*j+this.Pa,i=this.m12*i+this.m22*j+this.Qa;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.Pa=g;this.Qa=i;return this};
pb.prototype.invert=pb.prototype.Xu=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.Qa-this.m22*this.Pa),g=a*(this.m12*this.Pa-this.m11*this.Qa);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.Pa=e;this.Qa=g};
pb.prototype.rotate=pb.prototype.rotate=function(a,b,c){t&&(u.i(a,pb,"rotate:angle"),u.i(b,pb,"rotate:rx"),u.i(c,pb,"rotate:ry"));this.translate(b,c);var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d),e=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,i=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=e;this.m21=g;this.m22=i;this.translate(-b,-c)};
pb.prototype.translate=pb.prototype.translate=function(a,b){t&&(u.i(a,pb,"translate:x"),u.i(b,pb,"translate:y"));this.Pa+=this.m11*a+this.m21*b;this.Qa+=this.m12*a+this.m22*b};pb.prototype.scale=pb.prototype.scale=function(a,b){b===f&&(b=a);t&&(u.i(a,pb,"translate:sx"),u.i(b,pb,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b};
pb.prototype.transformPoint=pb.prototype.Fb=function(a){t&&u.c(a,E,pb,"transformPoint:p");var b=a.r,c=a.s;a.r=b*this.m11+c*this.m21+this.Pa;a.s=b*this.m12+c*this.m22+this.Qa;return a};pb.prototype.invertedTransformPoint=pb.prototype.mi=function(a){t&&u.c(a,E,pb,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.Pa-this.m11*this.Qa),g=a.r,i=a.s;a.r=g*this.m22*b+i*-this.m21*b+b*(this.m21*this.Qa-this.m22*this.Pa);a.s=g*c+i*d+e;return a};
pb.prototype.transformRect=pb.prototype.WD=function(a){t&&u.c(a,F,pb,"transformRect:rect");var b=a.r,c=a.s,d=b+a.fa,e=c+a.ea,g=this.m11,i=this.m12,j=this.m21,k=this.m22,l=this.Pa,n=this.Qa,r=b*g+c*j+l,q=b*i+c*k+n,v=d*g+c*j+l,c=d*i+c*k+n,x=b*g+e*j+l,b=b*i+e*k+n,g=d*g+e*j+l,d=d*i+e*k+n,e=r,i=q,r=Math.min(r,v),e=Math.max(e,v),i=Math.min(i,c),q=Math.max(q,c),r=Math.min(r,x),e=Math.max(e,x),i=Math.min(i,b),q=Math.max(q,b),r=Math.min(r,g),e=Math.max(e,g),i=Math.min(i,d),q=Math.max(q,d);a.r=r;a.s=i;a.fa=
e-r;a.ea=q-i};function Pb(a,b){return new E(b.r*a.m11+b.s*a.m21+a.Pa,b.r*a.m12+b.s*a.m22+a.Qa)}pb.prototype.isIdentity=pb.prototype.By=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.Pa&&0===this.Qa};function K(a,b,c,d){a===f?this.of=this.nf=this.s=this.r=0:(b===f&&(b=0),c===f&&(c=0),d===f&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}u.J("Spot",K);K.prototype.Xa=function(a){t&&u.c(a,K,K,"assign:s");this.r=a.r;this.s=a.s;this.nf=a.nf;this.of=a.of};
K.prototype.setTo=K.prototype.ro=function(a,b,c,d){t&&(Rb(a,"setTo:x"),Rb(b,"setTo:y"),Sb(c,"setTo:offx"),Sb(d,"setTo:offy"));u.u(this);this.r=a;this.s=b;this.nf=c;this.of=d;return this};K.prototype.set=K.prototype.set=function(a){t&&u.c(a,K,K,"set:s");u.u(this);this.r=a.r;this.s=a.s;this.nf=a.nf;this.of=a.of;return this};K.prototype.copy=K.prototype.copy=function(){var a=new K;a.r=this.r;a.s=this.s;a.nf=this.nf;a.of=this.of;return a};K.prototype.Na=function(){this.Ra=h;Object.freeze(this);return this};
K.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};K.prototype.freeze=function(){this.Ra=h;return this};K.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;return this};function Tb(a,b){a.r=NaN;a.s=NaN;a.nf=b;return a}function Rb(a,b){(isNaN(a)||1<a||0>a)&&u.ha(a,"0 <= "+b+" <= 1",K,b)}function Sb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&u.ha(a,"real number, not NaN or Infinity",K,b)}var Ub;
K.parse=Ub=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return u.NONE;if("TopLeft"===a)return u.Xv;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return u.Ao;if("TopRight"===a)return u.Zv;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return u.yo;if("Center"===a)return u.Nv;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return u.zo;if("BottomLeft"===a)return u.Iv;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return u.xo;if("BottomRight"===a)return u.Kv;if("TopSide"===
a)return u.aw;if("LeftSide"===a)return u.Qv;if("RightSide"===a)return u.Vv;if("BottomSide"===a)return u.Mv;if("TopBottomSides"===a)return u.Wv;if("LeftRightSides"===a)return u.Pv;if("TopLeftSides"===a)return u.Yv;if("TopRightSides"===a)return u.$v;if("BottomLeftSides"===a)return u.Jv;if("BottomRightSides"===a)return u.Lv;if("NotTopSide"===a)return u.Uv;if("NotLeftSide"===a)return u.Sv;if("NotRightSide"===a)return u.Tv;if("NotBottomSide"===a)return u.Rv;if("AllSides"===a)return u.Hv;if("Default"===
a)return u.Ov;for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new K(c,e,g,i)}return new K};var Yb;K.stringify=Yb=function(a){return a instanceof K?Zb(a)?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
K.prototype.toString=function(){return Zb(this)?0===this.nf&&0===this.of?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.z(u.NONE)?"None":this.z(u.Xv)?"TopLeft":this.z(u.Ao)?"Top":this.z(u.Zv)?"TopRight":this.z(u.yo)?"Left":this.z(u.Nv)?"Center":this.z(u.zo)?"Right":this.z(u.Iv)?"BottomLeft":this.z(u.xo)?"Bottom":this.z(u.Kv)?"BottomRight":this.z(u.aw)?"TopSide":this.z(u.Qv)?"LeftSide":this.z(u.Vv)?"RightSide":this.z(u.Mv)?"BottomSide":this.z(u.Wv)?
"TopBottomSides":this.z(u.Pv)?"LeftRightSides":this.z(u.Yv)?"TopLeftSides":this.z(u.$v)?"TopRightSides":this.z(u.Jv)?"BottomLeftSides":this.z(u.Lv)?"BottomRightSides":this.z(u.Uv)?"NotTopSide":this.z(u.Sv)?"NotLeftSide":this.z(u.Tv)?"NotRightSide":this.z(u.Rv)?"NotBottomSide":this.z(u.Hv)?"AllSides":this.z(u.Ov)?"Default":"None"};
K.prototype.equals=K.prototype.z=function(a){return!(a instanceof K)?p:(this.r===a.x||isNaN(this.r)&&isNaN(a.x))&&(this.s===a.y||isNaN(this.s)&&isNaN(a.y))&&this.nf===a.offsetX&&this.of===a.offsetY};K.prototype.opposite=K.prototype.XJ=function(){return new K(0.5-(this.r-0.5),0.5-(this.s-0.5),-this.nf,-this.of)};K.prototype.includesSide=K.prototype.oJ=function(a){if(!$b(this)||!$b(a))return p;a=a.offsetY;return(this.of&a)===a};u.a(K,"x",K.prototype.x);
u.defineProperty(K,{x:"x"},s("r"),function(a){u.u(this,a);t&&Rb(a,"x");this.r=a});u.a(K,"y",K.prototype.y);u.defineProperty(K,{y:"y"},s("s"),function(a){u.u(this,a);t&&Rb(a,"y");this.s=a});u.a(K,"offsetX",K.prototype.offsetX);u.defineProperty(K,{offsetX:"offsetX"},s("nf"),function(a){u.u(this,a);t&&Sb(a,"offsetX");this.nf=a});u.a(K,"offsetY",K.prototype.offsetY);u.defineProperty(K,{offsetY:"offsetY"},s("of"),function(a){u.u(this,a);t&&Sb(a,"offsetY");this.of=a});
function Zb(a){return!isNaN(a.x)&&!isNaN(a.y)}function fc(a){return isNaN(a.x)||isNaN(a.y)}function $b(a){return fc(a)&&1===a.offsetX&&0!==a.offsetY}function gc(a){return isNaN(a.x)&&isNaN(a.y)&&-1===a.offsetX&&0===a.offsetY}u.Zc=1;u.Gc=2;u.Rc=4;u.Qc=8;u.NONE=Tb(new K(0,0,0,0),0).Na();u.Ov=Tb(new K(0,0,-1,0),-1).Na();u.Xv=(new K(0,0,0,0)).Na();u.Ao=(new K(0.5,0,0,0)).Na();u.Zv=(new K(1,0,0,0)).Na();u.yo=(new K(0,0.5,0,0)).Na();u.Nv=(new K(0.5,0.5,0,0)).Na();u.zo=(new K(1,0.5,0,0)).Na();
u.Iv=(new K(0,1,0,0)).Na();u.xo=(new K(0.5,1,0,0)).Na();u.Kv=(new K(1,1,0,0)).Na();u.aw=Tb(new K(0,0,1,u.Zc),1).Na();u.Qv=Tb(new K(0,0,1,u.Gc),1).Na();u.Vv=Tb(new K(0,0,1,u.Rc),1).Na();u.Mv=Tb(new K(0,0,1,u.Qc),1).Na();u.Wv=Tb(new K(0,0,1,u.Zc|u.Qc),1).Na();u.Pv=Tb(new K(0,0,1,u.Gc|u.Rc),1).Na();u.Yv=Tb(new K(0,0,1,u.Zc|u.Gc),1).Na();u.$v=Tb(new K(0,0,1,u.Zc|u.Rc),1).Na();u.Jv=Tb(new K(0,0,1,u.Qc|u.Gc),1).Na();u.Lv=Tb(new K(0,0,1,u.Qc|u.Rc),1).Na();u.Uv=Tb(new K(0,0,1,u.Gc|u.Rc|u.Qc),1).Na();
u.Sv=Tb(new K(0,0,1,u.Zc|u.Rc|u.Qc),1).Na();u.Tv=Tb(new K(0,0,1,u.Zc|u.Gc|u.Qc),1).Na();u.Rv=Tb(new K(0,0,1,u.Zc|u.Gc|u.Rc),1).Na();u.Hv=Tb(new K(0,0,1,u.Zc|u.Gc|u.Rc|u.Qc),1).Na();var hc;K.None=hc=u.NONE;var ic;K.Default=ic=u.Ov;var nc;K.TopLeft=nc=u.Xv;var oc;K.TopCenter=oc=u.Ao;var pc;K.TopRight=pc=u.Zv;K.LeftCenter=u.yo;var qc;K.Center=qc=u.Nv;K.RightCenter=u.zo;var tc;K.BottomLeft=tc=u.Iv;var uc;K.BottomCenter=uc=u.xo;var vc;K.BottomRight=vc=u.Kv;var wc;K.MiddleTop=wc=u.Ao;var xc;
K.MiddleLeft=xc=u.yo;var Ac;K.MiddleRight=Ac=u.zo;var Bc;K.MiddleBottom=Bc=u.xo;K.Top=u.Ao;K.Left=u.yo;K.Right=u.zo;K.Bottom=u.xo;var Cc;K.TopSide=Cc=u.aw;var Dc;K.LeftSide=Dc=u.Qv;var Jc;K.RightSide=Jc=u.Vv;var Kc;K.BottomSide=Kc=u.Mv;K.TopBottomSides=u.Wv;K.LeftRightSides=u.Pv;K.TopLeftSides=u.Yv;K.TopRightSides=u.$v;K.BottomLeftSides=u.Jv;K.BottomRightSides=u.Lv;K.NotTopSide=u.Uv;K.NotLeftSide=u.Sv;K.NotRightSide=u.Tv;K.NotBottomSide=u.Rv;var Lc;K.AllSides=Lc=u.Hv;
var Mc=4*((Math.sqrt(2)-1)/3),Wc=(new E(0,0)).Na(),Xc=(new L(Infinity,Infinity)).Na(),Yc=(new E(-Infinity,-Infinity)).Na(),Zc=(new E(Infinity,Infinity)).Na(),$c=(new L(0,0)).Na(),bd=(new E(NaN,NaN)).Na();function nb(a,b){var c=a-b;return 0.5>c&&-0.5<c}function mb(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function cd(a,b,c,d,e,g,i){0>=e&&(e=1E-6);var j,k,l,n;a<c?(k=a,j=c):(k=c,j=a);b<d?(n=b,l=d):(n=d,l=b);if(a===c)return n<=i&&i<=l&&a-e<=g&&g<=a+e;if(b===d)return k<=g&&g<=j&&b-e<=i&&i<=b+e;j+=e;k-=e;if(k<=g&&g<=j&&(l+=e,n-=e,n<=i&&i<=l))if(j-k>l-n)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=i&&i<=g+e)return h}else return h;else if(b-d>e||d-b>e){if(i=(c-a)/(d-b)*(i-b)+a,i-e<=g&&g<=i+e)return h}else return h;return p}
function fd(a,b,c,d,e,g,i,j,k,l,n){if(!cd(a,b,i,j,k,c,d)||!cd(a,b,i,j,k,e,g)){var r=(a+c)/2,q=(b+d)/2,v=(c+e)/2,x=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(r+v)/2,c=(q+x)/2,v=(v+e)/2,x=(x+g)/2,C=(d+v)/2,G=(c+x)/2;return fd(a,b,r,q,d,c,C,G,k,l,n)||fd(C,G,v,x,e,g,i,j,k,l,n)}return cd(a,b,i,j,k,l,n)}
function gd(a,b,c,d,e,g,i,j,k,l){if(!cd(a,b,i,j,k,c,d)||!cd(a,b,i,j,k,e,g)){var n=(a+c)/2,r=(b+d)/2,q=(c+e)/2,v=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(n+q)/2,c=(r+v)/2,q=(q+e)/2,v=(v+g)/2,x=(d+q)/2,C=(c+v)/2;gd(a,b,n,r,d,c,x,C,k,l);gd(x,C,q,v,e,g,i,j,k,l)}else Cb(l,a,b,0,0),Cb(l,i,j,0,0)}function hd(a,b,c,d,e,g,i,j,k){if(cd(a,b,e,g,i,c,d))return cd(a,b,e,g,i,j,k);var l=(a+c)/2,n=(b+d)/2,c=(c+e)/2,d=(d+g)/2,r=(l+c)/2,q=(n+d)/2;return hd(a,b,l,n,r,q,i,j,k)||hd(r,q,c,d,e,g,i,j,k)}
function id(a,b,c,d,e,g,i,j){if(cd(a,b,e,g,i,c,d))Cb(j,a,b,0,0),Cb(j,e,g,0,0);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,n=(k+c)/2,r=(l+d)/2;id(a,b,k,l,n,r,i,j);id(n,r,c,d,e,g,i,j)}}
function jd(a,b,c,d,e,g,i,j,k,l,n,r,q,v){0>=q&&(q=1E-6);if(!cd(a,b,i,j,q,c,d)||!cd(a,b,i,j,q,e,g)){var x=(a+c)/2,C=(b+d)/2,c=(c+e)/2,d=(d+g)/2,e=(e+i)/2,g=(g+j)/2,G=(x+c)/2,I=(C+d)/2,c=(c+e)/2,d=(d+g)/2,y=(G+c)/2,J=(I+d)/2,z=(n-k)*(n-k)+(r-l)*(r-l),H=p;jd(a,b,x,C,G,I,y,J,k,l,n,r,q,v)&&(a=(v.x-k)*(v.x-k)+(v.y-l)*(v.y-l),a<z&&(z=a,H=h));b=v.x;x=v.y;jd(y,J,c,d,e,g,i,j,k,l,n,r,q,v)&&(a=(v.x-k)*(v.x-k)+(v.y-l)*(v.y-l),a<z?H=h:(v.x=b,v.y=x));return H}x=(a-i)*(l-r)-(b-j)*(k-n);if(!x)return p;q=((a*j-b*i)*
(k-n)-(a-i)*(k*r-l*n))/x;x=((a*j-b*i)*(l-r)-(b-j)*(k*r-l*n))/x;if((k>n?k-n:n-k)<(l>r?l-r:r-l)){if(b<j?(k=b,i=j):(k=j,i=b),x<k||x>i)return p}else if(a<i?k=a:(k=i,i=a),q<k||q>i)return p;v.x=q;v.y=x;return h}
function kd(a,b,c,d,e,g,i,j,k,l,n,r,q){var v=0;0>=q&&(q=1E-6);if(!cd(a,b,i,j,q,c,d)||!cd(a,b,i,j,q,e,g))var x=(a+c)/2,C=(b+d)/2,G=(c+e)/2,I=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(x+G)/2,c=(C+I)/2,G=(G+e)/2,I=(I+g)/2,y=(d+G)/2,J=(c+I)/2,v=v+kd(a,b,x,C,d,c,y,J,k,l,n,r,q),v=v+kd(y,J,G,I,e,g,i,j,k,l,n,r,q);else{q=(a-i)*(l-r)-(b-j)*(k-n);if(!q)return v;x=((a*j-b*i)*(k-n)-(a-i)*(k*r-l*n))/q;C=((a*j-b*i)*(l-r)-(b-j)*(k*r-l*n))/q;if(x>=n)return v;if((k>n?k-n:n-k)<(l>r?l-r:r-l)){if(b<j?(k=b,a=j):(k=j,a=b),C<k||C>
a)return v}else if(a<i?(k=a,a=i):k=i,x<k||x>a)return v;0<q?v++:0>q&&v--}return v}function od(a,b,c,d,e,g,i){if(mb(a,c)){var j;b<d?(j=b,c=d):(j=d,c=b);d=g;if(d<j)return i.x=a,i.y=j,p;if(d>c)return i.x=a,i.y=c,p;i.x=a;i.y=d;return h}if(mb(b,d)){a<c?j=a:(j=c,c=a);d=e;if(d<j)return i.x=j,i.y=b,p;if(d>c)return i.x=c,i.y=b,p;i.x=d;i.y=b;return h}j=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>j)return i.x=a,i.y=b,p;if(1.000005<j)return i.x=c,i.y=d,p;i.x=a+j*(c-a);i.y=b+j*(d-b);return h}
function pd(a,b,c,d,e,g,i,j,k){if(nb(a,c)&&nb(b,d))return k.x=a,k.y=b,p;if(mb(e,i)){if(mb(a,c))return od(a,b,c,d,e,g,k),p;g=(d-b)/(c-a)*(e-a)+b;return od(a,b,c,d,e,g,k)}j=(j-g)/(i-e);if(mb(a,c)){g=j*(a-e)+g;b<d?(i=b,c=d):(i=d,c=b);if(g<i)return k.x=a,k.y=i,p;if(g>c)return k.x=a,k.y=c,p;k.x=a;k.y=g;return h}i=(d-b)/(c-a);if(mb(j,i))return od(a,b,c,d,e,g,k),p;e=(i*a-j*e+g-b)/(i-j);if(mb(i,0)){a<c?i=a:(i=c,c=a);if(e<i)return k.x=i,k.y=b,p;if(e>c)return k.x=c,k.y=b,p;k.x=e;k.y=b;return h}g=i*(e-a)+b;
return od(a,b,c,d,e,g,k)}
function qd(a,b,c,d,e,g,i,j,k){function l(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<n&&(n=e,k.x=c,k.y=d)}var n=Infinity;l(k.x,k.y);var r,q,v,x;e<i?(r=e,q=i):(r=i,q=e);g<j?(v=e,x=i):(v=i,x=e);r=(q-r)/2+0;v=(x-v)/2+0;e=(e+i)/2;g=(g+j)/2;0===r||0===v||(0.5>(c>a?c-a:a-c)?(r=1-(c-e)*(c-e)/(r*r),0>r||(r=Math.sqrt(r),d=-v*r+g,l(c,v*r+g),l(c,d))):(c=(d-b)/(c-a),d=1/(r*r)+c*c/(v*v),j=2*c*(b-c*a)/(v*v)-2*c*g/(v*v)-2*e/(r*r),v=j*j-4*d*(2*c*a*g/(v*v)-2*b*g/(v*v)+g*g/(v*v)+e*e/(r*r)-1+(b-c*a)*(b-c*a)/(v*v)),0>v||(r=
Math.sqrt(v),v=(-j+r)/(2*d),l(v,c*v-c*a+b),v=(-j-r)/(2*d),l(v,c*v-c*a+b))))}
function rd(a,b,c,d){var e=a.left,g=a.right,i=a.top,a=a.bottom,j=b.x,b=b.y,k=c.x,c=c.y,l=1E21,n=e,r=i;if(pd(e,i,e,a,j,b,k,c,d)){var q=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b);q<l&&(l=q,n=d.x,r=d.y)}pd(g,i,g,a,j,b,k,c,d)&&(q=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),q<l&&(l=q,n=d.x,r=d.y));pd(e,i,g,i,j,b,k,c,d)&&(q=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),q<l&&(l=q,n=d.x,r=d.y));pd(e,a,g,a,j,b,k,c,d)&&(q=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),q<l&&(l=q,n=d.x,r=d.y));d.x=n;d.y=r;return 1E21>l}
function sd(a,b,c){var d=b.x,e=b.y,g=c.x,i=c.y,j=a.left,k=a.right,l=a.top,n=a.bottom;return d===g?(e<i?(a=e,g=i):(a=i,g=e),j<=d&&d<=k&&a<=n&&g>=l):e===i?(d<g?a=d:(a=g,g=d),l<=e&&e<=n&&a<=k&&g>=j):a.ka(b)||a.ka(c)||td(j,l,k,l,d,e,g,i)||td(k,l,k,n,d,e,g,i)||td(k,n,j,n,d,e,g,i)||td(j,n,j,l,d,e,g,i)?h:p}function td(a,b,c,d,e,g,i,j){return 0>=zd(a,b,c,d,e,g)*zd(a,b,c,d,i,j)&&0>=zd(e,g,i,j,a,b)*zd(e,g,i,j,c,d)}
function zd(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function Ad(a){0>a&&(a+=360);360<=a&&(a-=360);return a}function Bd(a,b,c,d,e,g){var c=Math.floor((a-c)/e)*e+c,d=Math.floor((b-d)/g)*g+d,i=c;c+e-a<e/2&&(i=c+e);a=d;d+g-b<g/2&&(a=d+g);return new E(i,a)}function Cd(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function Dd(a){u.Qb(this);a===f?a=Jd:t&&u.Ya(a,Dd,Dd,"constructor:type");this.M=a;this.Sc=this.Ic=this.fc=this.Tb=0;this.Yk=new A(Nd);this.Zs=this.Yk.$b;this.Ns=(new F).freeze();this.La=h;this.wH=new E;this.Uh=nc;this.Vh=vc;this.ft=this.gt=NaN;this.Ad=$c;this.Rb=Od}u.J("Geometry",Dd);
Dd.prototype.copy=Dd.prototype.copy=function(){var a=new Dd;a.M=this.M;a.Tb=this.Tb;a.fc=this.fc;a.Ic=this.Ic;a.Sc=this.Sc;for(var b=this.Yk,c=b.length,d=a.Yk,e=0;e<c;e++){var g=b.j[e].copy();d.add(g)}a.Zs=this.Zs;a.Ns.Xa(this.Ns);a.La=this.La;a.Uh=this.Uh.F();a.Vh=this.Vh.F();a.gt=this.gt;a.ft=this.ft;a.Ad=this.Ad.F();a.Rb=this.Rb;return a};var Pd;Dd.Line=Pd=u.l(Dd,"Line",0);var Qd;Dd.Rectangle=Qd=u.l(Dd,"Rectangle",1);var Rd;Dd.Ellipse=Rd=u.l(Dd,"Ellipse",2);var Jd;Dd.Path=Jd=u.l(Dd,"Path",3);
Dd.prototype.Na=function(){this.freeze();Object.freeze(this);return this};Dd.prototype.freeze=function(){this.Ra=h;var a=this.Mb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.j[c].freeze();return this};Dd.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;var a=this.Mb;a.wa();for(var b=a.length,c=0;c<b;c++)a.j[c].wa();return this};
Dd.prototype.equalsApprox=Dd.prototype.$i=function(a){if(!(a instanceof Dd))return p;if(this.type!==a.type)return this.type===Pd&&a.type===Jd?Sd(this,a):a.type===Pd&&this.type===Jd?Sd(a,this):p;if(this.type===Jd){var b=this.Mb,a=a.Mb,c=b.length;if(c!==a.length)return p;for(var d=0;d<c;d++)if(!b.j[d].$i(a.j[d]))return p;return h}return nb(this.Fa,a.Fa)&&nb(this.Ga,a.Ga)&&nb(this.P,a.P)&&nb(this.Q,a.Q)};
function Sd(a,b){if(a.type!==Pd||b.type!==Jd)return p;if(1===b.Mb.count){var c=b.Mb.R(0);if(1===c.kb.count&&(nb(a.Fa,c.Fa)&&nb(a.Ga,c.Ga))&&(c=c.kb.R(0),c.type===ae&&nb(a.P,c.P)&&nb(a.Q,c.Q)))return h}return p}
Dd.prototype.toString=function(a){switch(this.type){case Pd:return"M"+this.Fa.toFixed(a)+" "+this.Ga.toFixed(a)+"L"+this.P.toFixed(a)+" "+this.Q.toFixed(a);case Qd:var b=new F(this.Fa,this.Ga,0,0);Cb(b,this.P,this.Q,0,0);return"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case Rd:b=new F(this.Fa,this.Ga,0,0);Cb(b,this.P,this.Q,0,0);var c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/2).toFixed(a)+" "+(b.height/
2).toFixed(a)+" 0 0 1 "+(b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a))+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case Jd:for(var b="",c=this.Mb,d=c.length,e=0;e<d;e++){var g=c.j[e];0<e&&(b+=" ");b+=g.toString(a)}return b;default:return this.type.toString()}};var be;
Dd.parse=be=function(a,b){function c(){return l>=x-1?h:k[l+1].match(/[A-Za-z]/)!==m}function d(){l++;return k[l]}function e(){var a=new E(parseFloat(d()),parseFloat(d()));n===n.toLowerCase()&&(a.x=v.x+a.x,a.y=v.y+a.y);return a}function g(){return v=e()}function i(){return q=e()}function j(){return"c"!==r.toLowerCase()&&"s"!==r.toLowerCase()?v:new E(2*v.x-q.x,2*v.y-q.y)}b===f&&(b=h);var a=a.replace(/,/gm," "),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([MmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([MmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=a.replace(/[\s\r\t\n]+/gm," "),a=a.replace(/^\s+|\s+$/g,""),k=a.split(" "),l=-1,n="",r="";new E(0,0);for(var q=new E(0,0),v=new E(0,0),x=k.length,C=new M,G;!(l>=x-1);)if(r=n,n=d(),""!==n)switch(n.toUpperCase()){case "M":G=g();
for(C.ic===m?N(C,G.x,G.y,p,p):C.moveTo(G.x,G.y);!c();)G=g(),C.lineTo(G.x,G.y);break;case "L":for(;!c();)G=g(),C.lineTo(G.x,G.y);break;case "H":for(;!c();)v=G=new E((n===n.toLowerCase()?v.x:0)+parseFloat(d()),v.y),C.lineTo(v.x,v.y);break;case "V":for(;!c();)v=G=new E(v.x,(n===n.toLowerCase()?v.y:0)+parseFloat(d())),C.lineTo(v.x,v.y);break;case "C":for(;!c();){G=e();var I=i(),y=g();O(C,G.x,G.y,I.x,I.y,y.x,y.y)}break;case "S":for(;!c();)G=j(),I=i(),y=g(),O(C,G.x,G.y,I.x,I.y,y.x,y.y);break;case "Q":for(;!c();)I=
i(),y=g(),ce(C,I.x,I.y,y.x,y.y);break;case "T":for(;!c();)q=I=j(),y=g(),ce(C,I.x,I.y,y.x,y.y);break;case "B":for(;!c();)G=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())],c()||(G.push(parseFloat(d())),c()||G.push(parseFloat(d()))),n===n.toLowerCase()&&(G[2]+=v.x,G[3]+=v.y),C.arcTo(G[0],G[1],G[2],G[3],G[4],G[5],G[6]);break;case "Z":de(C);break;case "F":b=h}C=C.k;if(b)for(G=C.Mb.f;G.next();)G.value.Ur=h;return C};
Dd.prototype.Cy=function(){if(this.La)return h;var a=this.Mb;if(this.Zs!==a.$b)return h;for(var b=a.length,c=0;c<b;c++)if(a.j[c].Cy())return h;return p};Dd.prototype.uz=function(){this.La=p;var a=this.Mb;this.Zs=a.$b;for(var b=a.length,c=0;c<b;c++)a.j[c].uz()};
Dd.prototype.Oe=function(){var a=this.Ns;a.wa();a.reset();a.aH(this.Ad);switch(this.type){case Pd:case Qd:case Rd:Cb(a,this.Tb,this.fc,0,0);Cb(a,this.Ic,this.Sc,0,0);break;case Jd:for(var b=this.Mb,c=b.length,d=0;d<c;d++){var e=b.j[d];Cb(a,e.Fa,e.Ga,0,0);for(var g=e.kb,i=g.length,j=e.Fa,e=e.Ga,k=0;k<i;k++){var l=g.j[k];switch(l.type){case ae:case ee:j=l.P;e=l.Q;Cb(a,j,e,0,0);break;case pe:gd(j,e,l.Dc,l.vd,l.Ck,l.Dk,l.P,l.Q,0.5,a);j=l.P;e=l.Q;break;case qe:id(j,e,l.Dc,l.vd,l.P,l.Q,0.5,a);j=l.P;e=l.Q;
break;case re:for(var l=se(l),n=l.length,r=m,d=0;d<n;d++)r=l[d],gd(r.fm,r.gm,r.Dv,r.Fv,r.Ev,r.Gv,r.Kk,r.Lk,0.5,a);r!==m&&(j=r.Kk,e=r.Lk);break;default:u.g("Unknown Segment type: "+l.type)}}}break;default:u.g("Unknown Geometry type: "+this.type)}Cb(a,0,0,0,0);a.freeze()};
Dd.prototype.ka=function(a,b,c,d){for(var e=a.x,g=a.y,i=this.rb.x-20,a=a.y,j=0,k,l,n,r,q,v,x,C=this.Mb.j,G=C.length,I=0;I<G;I++){var y=C[I];if(y.Ur){if(c&&y.ka(e,g,b))return h;var J=y.kb;k=y.Fa;l=y.Ga;for(var z=k,H=l,ha=0;ha<=J.length;ha++){ha!==J.length?(n=J.j[ha],r=n.type,v=n.P,x=n.Q):(r=ae,v=y.Fa,x=y.Ga);switch(r){case ee:q=te(e,g,i,a,k,l,z,H);if(q===h)return h;j+=q;z=v;H=x;break;case ae:q=te(e,g,i,a,k,l,v,x);if(q===h)return h;j+=q;break;case pe:q=kd(k,l,n.Dc,n.vd,n.Ck,n.Dk,v,x,i,a,e,g,0.5);j+=
q;break;case qe:q=kd(k,l,(k+2*n.Dc)/3,(l+2*n.vd)/3,(n.Dc+2*v)/3,(n.Dc+2*v)/3,v,x,i,a,e,g,0.5);j+=q;break;case re:r=se(n);for(var S=r.length,T=m,ia=0;ia<S;ia++){T=r[ia];if(0===ia){q=te(e,g,i,a,k,l,T.fm,T.gm);if(q===h)return h;j+=q}q=kd(T.fm,T.gm,T.Dv,T.Fv,T.Ev,T.Gv,T.Kk,T.Lk,i,a,e,g,0.5);j+=q}T!==m&&(v=T.Kk,x=T.Lk);break;default:u.g("Unknown Segment type: "+n.type)}k=v;l=x}if(0!==j)return h;j=0}else if(y.ka(e,g,d?b:b+2))return h}return 0!==j};
function te(a,b,c,d,e,g,i,j){if(cd(e,g,i,j,0.05,a,b))return h;var k=(a-c)*(g-j);if(0===k)return 0;var l=((a*d-b*c)*(e-i)-(a-c)*(e*j-g*i))/k,b=(a*d-b*c)*(g-j)/k;if(l>=a)return 0;if((e>i?e-i:i-e)<(g>j?g-j:j-g)){if(g<j?(a=g,e=j):(a=j,e=g),b<a||b>e)return 0}else if(e<i?(a=e,e=i):a=i,l<a||l>e)return 0;return 0<k?1:-1}function ue(a,b,c,d){for(var e=a.Mb.length,g=0;g<e;g++)if(a.Mb.j[g].ka(b,c,d))return h;return p}u.a(Dd,"type",Dd.prototype.type);
u.defineProperty(Dd,{type:"type"},s("M"),function(a){this.M!==a&&(t&&u.Ya(a,Dd,Dd,"type"),u.u(this,a),this.M=a,this.La=h)});u.a(Dd,"startX",Dd.prototype.Fa);u.defineProperty(Dd,{Fa:"startX"},s("Tb"),function(a){this.Tb!==a&&(t&&u.i(a,Dd,"startX"),u.u(this,a),this.Tb=a,this.La=h)});u.a(Dd,"startY",Dd.prototype.Ga);u.defineProperty(Dd,{Ga:"startY"},s("fc"),function(a){this.fc!==a&&(t&&u.i(a,Dd,"startY"),u.u(this,a),this.fc=a,this.La=h)});u.a(Dd,"endX",Dd.prototype.P);
u.defineProperty(Dd,{P:"endX"},s("Ic"),function(a){this.Ic!==a&&(t&&u.i(a,Dd,"endX"),u.u(this,a),this.Ic=a,this.La=h)});u.a(Dd,"endY",Dd.prototype.Q);u.defineProperty(Dd,{Q:"endY"},s("Sc"),function(a){this.Sc!==a&&(t&&u.i(a,Dd,"endY"),u.u(this,a),this.Sc=a,this.La=h)});u.a(Dd,"figures",Dd.prototype.Mb);u.defineProperty(Dd,{Mb:"figures"},s("Yk"),function(a){this.Yk!==a&&(t&&u.c(a,A,Dd,"figures"),u.u(this,a),this.Yk=a,this.La=h)});
u.defineProperty(Dd,{n:"spot1"},s("Uh"),function(a){t&&u.c(a,K,Dd,"spot1");u.u(this,a);this.Uh=a.F()});u.defineProperty(Dd,{o:"spot2"},s("Vh"),function(a){t&&u.c(a,K,Dd,"spot2");u.u(this,a);this.Vh=a.F()});u.m(Dd,{rb:"bounds"},function(){this.Cy()&&(this.uz(),this.Oe());return this.Ns});u.a(Dd,"minSize",Dd.prototype.$d);
u.defineProperty(Dd,{$d:"minSize"},s("Ad"),function(a){this.Ad.z(a)||(t&&u.c(a,L,Dd,"minSize"),a=a.F(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Ad=a)});function Nd(a,b,c){u.Qb(this);c===f&&(c=h);this.Bp=c;this.ag=h;this.kt=p;a!==f?(t&&u.i(a,Nd,"sx"),this.Tb=a):this.Tb=0;b!==f?(t&&u.i(b,Nd,"sy"),this.fc=b):this.fc=0;this.Nq=new A(ve);this.$t=this.Nq.$b;this.La=h}u.J("PathFigure",Nd);
Nd.prototype.copy=Nd.prototype.copy=function(){var a=new Nd;a.Bp=this.Bp;a.ag=this.ag;a.kt=this.kt;a.Tb=this.Tb;a.fc=this.fc;for(var b=this.Nq,c=b.length,d=a.Nq,e=0;e<c;e++){var g=b.j[e].copy();d.add(g)}a.$t=this.$t;a.La=this.La;return a};Nd.prototype.equalsApprox=Nd.prototype.$i=function(a){if(!(a instanceof Nd)||this.Fy!==a.Fy||!nb(this.Fa,a.Fa)||!nb(this.Ga,a.Ga))return p;var b=this.kb,a=a.kb,c=b.length;if(c!==a.length)return p;for(var d=0;d<c;d++)if(!b.j[d].$i(a.j[d]))return p;return h};da=Nd.prototype;
da.toString=function(a){for(var b="M"+this.Fa.toFixed(a)+" "+this.Ga.toFixed(a),c=this.kb,d=c.length,e=0;e<d;e++)b+=" "+c.j[e].toString(a);this.Ur&&(b+="\t");return b};da.freeze=function(){this.Ra=h;var a=this.kb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.j[c].freeze();return this};da.wa=function(){this.Ra=p;var a=this.kb;a.wa();for(var b=a.length,c=0;c<b;c++)a.j[c].wa();return this};
da.Cy=function(){if(this.La)return h;var a=this.kb;if(this.$t!==a.$b)return h;for(var b=a.length,c=0;c<b;c++)if(a.j[c].La)return h;return p};da.uz=function(){this.La=p;var a=this.kb;this.$t=a.$b;for(var b=a.length,c=0;c<b;c++)a.j[c].La=p};u.a(Nd,"isFilled",Nd.prototype.Ur);u.defineProperty(Nd,{Ur:"isFilled"},s("Bp"),function(a){t&&u.e(a,"boolean",Nd,"isFilled");u.u(this,a);this.Bp=a});u.a(Nd,"isShadowed",Nd.prototype.Rl);
u.defineProperty(Nd,{Rl:"isShadowed"},s("ag"),function(a){t&&u.e(a,"boolean",Nd,"isShadowed");u.u(this,a);this.ag=a});u.a(Nd,"isSubPath",Nd.prototype.Fy);u.defineProperty(Nd,{Fy:"isSubPath"},s("kt"),function(a){t&&u.e(a,"boolean",Nd,"isSubPath");u.u(this,a);this.kt=a});u.a(Nd,"startX",Nd.prototype.Fa);u.defineProperty(Nd,{Fa:"startX"},s("Tb"),function(a){t&&u.i(a,Nd,"startX");u.u(this,a);this.Tb=a;this.La=h});u.a(Nd,"startY",Nd.prototype.Ga);
u.defineProperty(Nd,{Ga:"startY"},s("fc"),function(a){t&&u.i(a,Nd,"startY");u.u(this,a);this.fc=a;this.La=h});u.a(Nd,"segments",Nd.prototype.kb);u.defineProperty(Nd,{kb:"segments"},s("Nq"),function(a){t&&u.c(a,A,Nd,"segments");u.u(this,a);this.Nq=a;this.La=h});
Nd.prototype.ka=function(a,b,c){for(var d=this.Fa,e=this.Ga,g=d,i=e,j=this.kb.j,k=j.length,l=0;l<k;l++){var n=j[l];switch(n.type){case ee:g=n.P;i=n.Q;break;case ae:if(cd(d,e,n.P,n.Q,c,a,b))return h;break;case pe:if(fd(d,e,n.Dc,n.vd,n.Ck,n.Dk,n.P,n.Q,c,a,b))return h;break;case qe:if(hd(d,e,n.Dc,n.vd,n.P,n.Q,c,a,b))return h;break;case re:for(var r=se(n),q=r.length,v=m,x=0;x<q;x++)if(v=r[x],0===x&&cd(d,e,v.fm,v.gm,c,a,b)||fd(v.fm,v.gm,v.Dv,v.Fv,v.Ev,v.Gv,v.Kk,v.Lk,c,a,b))return h;v!==m&&(n.P=v.Kk,n.Q=
v.Lk);break;default:u.g("Unknown Segment type: "+n.type)}d=n.P;e=n.Q;if(n.Ci&&(d!==g||e!==i)&&cd(d,e,g,i,c,a,b))return h}return p};
function ve(a,b,c,d,e,g,i){u.Qb(this);a===f?a=ae:t&&u.Ya(a,ve,ve,"constructor:type");this.M=a;a===re?(b!==f?(t&&u.i(b,ve,"ex"),this.Xg=b):this.Xg=0,c!==f?(t&&u.i(c,ve,"ey"),this.Zg=c):this.Zg=0,d!==f&&(t&&u.i(d,ve,"x1"),this.nm=d),e!==f&&(t&&u.i(e,ve,"y1"),this.om=e),g!==f&&(t&&u.i(g,ve,"x2"),this.Ut=g),i!==f&&(t&&u.i(i,ve,"y2"),this.Vt=i)):(b!==f?(t&&u.i(b,ve,"ex"),this.pl=b):this.pl=0,c!==f?(t&&u.i(c,ve,"ey"),this.ql=c):this.ql=0,d!==f&&(t&&u.i(d,ve,"x1"),this.ek=d),e!==f&&(t&&u.i(e,ve,"y1"),this.fk=
e),g!==f&&(t&&u.i(g,ve,"x2"),this.nl=g),i!==f&&(t&&u.i(i,ve,"y2"),this.ol=i));this.La=h;this.Ci=p}u.J("PathSegment",ve);ve.prototype.copy=ve.prototype.copy=function(){var a=new ve;a.M=this.M;this.M===re?(a.Xg=this.Xg,a.Zg=this.Zg,a.nm=this.nm,a.om=this.om,a.Ut=this.Ut,a.Vt=this.Vt):(a.pl=this.pl,a.ql=this.ql,a.ek=this.ek,a.fk=this.fk,a.nl=this.nl,a.ol=this.ol);a.La=this.La;a.Ci=this.Ci;return a};
ve.prototype.equalsApprox=ve.prototype.$i=function(a){if(!(a instanceof ve)||this.type!==a.type||this.Zu!==a.Zu)return p;switch(this.type){case ee:case ae:return nb(this.P,a.P)&&nb(this.Q,a.Q);case pe:return nb(this.P,a.P)&&nb(this.Q,a.Q)&&nb(this.Dc,a.Dc)&&nb(this.vd,a.vd)&&nb(this.Ck,a.Ck)&&nb(this.Dk,a.Dk);case qe:return nb(this.P,a.P)&&nb(this.Q,a.Q)&&nb(this.Dc,a.Dc)&&nb(this.vd,a.vd);case re:return nb(this.qi,a.qi)&&nb(this.oj,a.oj)&&nb(this.Da,a.Da)&&nb(this.Ea,a.Ea)&&nb(this.Wl,a.Wl)&&nb(this.lo,
a.lo);default:return p}};
ve.prototype.toString=function(a){switch(this.type){case ee:a="M"+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case ae:a="L"+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case pe:a="C"+this.Dc.toFixed(a)+" "+this.vd.toFixed(a)+" "+this.Ck.toFixed(a)+" "+this.Dk.toFixed(a)+" "+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case qe:a="Q"+this.Dc.toFixed(a)+" "+this.vd.toFixed(a)+" "+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case re:a="A";break;default:a=this.type.toString()}return a+(this.Ci?"z":
"")};var ee;ve.Move=ee=u.l(ve,"Move",0);var ae;ve.Line=ae=u.l(ve,"Line",1);var pe;ve.Bezier=pe=u.l(ve,"Bezier",2);var qe;ve.QuadraticBezier=qe=u.l(ve,"QuadraticBezier",3);var re;ve.Arc=re=u.l(ve,"Arc",4);ve.prototype.freeze=function(){this.Ra=h;return this};ve.prototype.wa=function(){this.Ra=p;return this};ve.prototype.close=ve.prototype.close=function(){this.Ci=h;return this};
function se(a){if(a.jw&&a.La===p)return a.jw;for(var b=a.nm,c=a.om,d=a.Wl,e=a.qi,g=a.qi+a.oj,i=Math.PI,e=e*(i/180),g=g*(i/180),j=e<g?1:-1,k=[],l=i/2,n=e,e=Math.min(2*i+1E-5,Math.abs(g-e));1E-5<e;){var g=n+j*Math.min(e,l),r=(g-n)/2,q=d*Math.cos(r),v=d*Math.sin(r),x=0.5522847498*Math.tan(r),i=q+x*v,q=-v+x*q,v=-q,x=r+n,r=Math.cos(x),x=Math.sin(x);k.push({fm:b+d*Math.cos(n),gm:c+d*Math.sin(n),Dv:b+i*r-q*x,Fv:c+i*x+q*r,Ev:b+i*r-v*x,Gv:c+i*x+v*r,Kk:b+d*Math.cos(g),Lk:c+d*Math.sin(g)});e-=Math.abs(g-n);
n=g}a.jw=k;return a.jw}u.a(ve,"isClosed",ve.prototype.Zu);u.defineProperty(ve,{Zu:"isClosed"},s("Ci"),function(a){this.Ci!==a&&(this.Ci=a,this.La=h)});u.a(ve,"type",ve.prototype.type);u.defineProperty(ve,{type:"type"},s("M"),function(a){t&&u.Ya(a,ve,ve,"type");u.u(this,a);this.M=a;this.La=h});u.a(ve,"endX",ve.prototype.P);u.defineProperty(ve,{P:"endX"},s("pl"),function(a){t&&u.i(a,ve,"endX");u.u(this,a);this.pl=a;this.La=h});u.a(ve,"endY",ve.prototype.Q);
u.defineProperty(ve,{Q:"endY"},s("ql"),function(a){t&&u.i(a,ve,"endY");u.u(this,a);this.ql=a;this.La=h});u.defineProperty(ve,{Dc:"point1X"},s("ek"),function(a){t&&u.i(a,ve,"point1X");u.u(this,a);this.ek=a;this.La=h});u.defineProperty(ve,{vd:"point1Y"},s("fk"),function(a){t&&u.i(a,ve,"point1Y");u.u(this,a);this.fk=a;this.La=h});u.defineProperty(ve,{Ck:"point2X"},s("nl"),function(a){t&&u.i(a,ve,"point2X");u.u(this,a);this.nl=a;this.La=h});
u.defineProperty(ve,{Dk:"point2Y"},s("ol"),function(a){t&&u.i(a,ve,"point2Y");u.u(this,a);this.ol=a;this.La=h});u.defineProperty(ve,{Da:"centerX"},s("nm"),function(a){t&&u.i(a,ve,"centerX");u.u(this,a);this.nm=a;this.La=h});u.defineProperty(ve,{Ea:"centerY"},s("om"),function(a){t&&u.i(a,ve,"centerY");u.u(this,a);this.om=a;this.La=h});u.defineProperty(ve,{Wl:"radiusX"},s("Ut"),function(a){t&&u.i(a,ve,"radiusX");u.u(this,a);this.Ut=a;this.La=h});
u.defineProperty(ve,{lo:"radiusY"},s("Vt"),function(a){t&&u.i(a,ve,"radiusY");u.u(this,a);this.Vt=a;this.La=h});u.defineProperty(ve,{qi:"startAngle"},s("Xg"),function(a){t&&u.i(a,ve,"startAngle");u.u(this,a);this.Xg=a;this.La=h});u.defineProperty(ve,{oj:"sweepAngle"},s("Zg"),function(a){t&&u.i(a,ve,"sweepAngle");u.u(this,a);this.Zg=a;this.La=h});
function we(){this.N=m;this.Hx=(new E(0,0)).freeze();this.xw=(new E(0,0)).freeze();this.Gs=this.Bt=0;this.nt="";this.Vs=this.Ks=0;this.ui=this.at=p;this.yi=m;this.nu=0;this.sf=this.ku=m}u.J("InputEvent",we);we.prototype.copy=we.prototype.copy=function(){var a=new we;a.N=this.N;a.Hx=this.Fc.copy().freeze();a.xw=this.D.copy().freeze();a.Bt=this.Bt;a.Gs=this.Gs;a.nt=this.nt;a.Ks=this.Ks;a.Vs=this.Vs;a.at=this.at;a.ui=this.ui;a.yi=this.yi;a.nu=this.nu;a.ku=this.ku;a.sf=this.sf;return a};
we.prototype.toString=function(){var a="^";this.sh&&(a+="M:"+this.sh);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.Ne&&(a+="C:"+this.Ne);this.Wi&&(a+="D:"+this.Wi);this.Fd&&(a+="h");this.bubbles&&(a+="b");this.D!==m&&(a+="@"+this.D.toString());return a};u.a(we,"diagram",we.prototype.b);u.defineProperty(we,{b:"diagram"},s("N"),ba("N"));u.a(we,"viewPoint",we.prototype.Fc);u.defineProperty(we,{Fc:"viewPoint"},s("Hx"),function(a){u.c(a,E,we,"viewPoint");this.Hx.Xa(a)});
u.a(we,"documentPoint",we.prototype.D);u.defineProperty(we,{D:"documentPoint"},s("xw"),function(a){u.c(a,E,we,"documentPoint");this.xw.Xa(a)});u.a(we,"modifiers",we.prototype.sh);u.defineProperty(we,{sh:"modifiers"},s("Bt"),ba("Bt"));u.a(we,"button",we.prototype.button);u.defineProperty(we,{button:"button"},s("Gs"),ba("Gs"));u.a(we,"key",we.prototype.key);u.defineProperty(we,{key:"key"},s("nt"),ba("nt"));u.a(we,"clickCount",we.prototype.Ne);u.defineProperty(we,{Ne:"clickCount"},s("Ks"),ba("Ks"));
u.a(we,"delta",we.prototype.Wi);u.defineProperty(we,{Wi:"delta"},s("Vs"),ba("Vs"));u.a(we,"handled",we.prototype.Fd);u.defineProperty(we,{Fd:"handled"},s("at"),ba("at"));u.a(we,"bubbles",we.prototype.bubbles);u.defineProperty(we,{bubbles:"bubbles"},s("ui"),ba("ui"));u.a(we,"event",we.prototype.event);u.defineProperty(we,{event:"event"},s("yi"),ba("yi"));u.a(we,"timestamp",we.prototype.timestamp);u.defineProperty(we,{timestamp:"timestamp"},s("nu"),ba("nu"));u.a(we,"targetDiagram",we.prototype.Lf);
u.defineProperty(we,{Lf:"targetDiagram"},s("ku"),ba("ku"));u.a(we,"targetObject",we.prototype.md);u.defineProperty(we,{md:"targetObject"},s("sf"),ba("sf"));u.m(we,{tk:"control"},function(){return 0!==(this.sh&1)});u.m(we,{shift:"shift"},function(){return 0!==(this.sh&4)});u.m(we,{alt:"alt"},function(){return 0!==(this.sh&2)});u.m(we,{SJ:"meta"},function(){return 0!==(this.sh&8)});u.m(we,{left:"left"},function(){return 0===this.button});u.m(we,{TJ:"middle"},function(){return 1===this.button});
u.m(we,{right:"right"},function(){return 2===this.button});function xe(){this.N=m;this.Bb="";this.Ot=this.gu=m;this.Hs=p}u.J("DiagramEvent",xe);xe.prototype.copy=xe.prototype.copy=function(){var a=new xe;a.N=this.N;a.Bb=this.Bb;a.gu=this.gu;a.Ot=this.Ot;a.Hs=this.Hs;return a};xe.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");this.vv!==m&&(a+=":"+this.vv.toString());this.iv!==m&&(a+="("+this.iv.toString()+")");return a};u.a(xe,"diagram",xe.prototype.b);
u.defineProperty(xe,{b:"diagram"},s("N"),ba("N"));u.a(xe,"name",xe.prototype.name);u.defineProperty(xe,{name:"name"},s("Bb"),ba("Bb"));u.a(xe,"subject",xe.prototype.vv);u.defineProperty(xe,{vv:"subject"},s("gu"),ba("gu"));u.a(xe,"parameter",xe.prototype.iv);u.defineProperty(xe,{iv:"parameter"},s("Ot"),ba("Ot"));u.a(xe,"cancel",xe.prototype.cancel);u.defineProperty(xe,{cancel:"cancel"},s("Hs"),ba("Hs"));function ye(){this.clear()}u.J("ChangedEvent",ye);var ze;
ye.Transaction=ze=u.l(ye,"Transaction",-1);var Ae;ye.Property=Ae=u.l(ye,"Property",0);var Be;ye.Insert=Be=u.l(ye,"Insert",1);var Ce;ye.Remove=Ce=u.l(ye,"Remove",2);ye.prototype.clear=ye.prototype.clear=function(){this.Is=Ae;this.Tt=this.At="";this.Et=this.Ft=this.Lt=this.Mt=this.Kt=this.N=this.lf=m};
ye.prototype.copy=ye.prototype.copy=function(){var a=new ye;a.lf=this.lf;a.N=this.N;a.Is=this.Is;a.At=this.At;a.Tt=this.Tt;a.Kt=this.Kt;var b=this.Mt;a.Mt=u.Ta(b)&&"function"===typeof b.F?b.F():b;b=this.Lt;a.Lt=u.Ta(b)&&"function"===typeof b.F?b.F():b;b=this.Ft;a.Ft=u.Ta(b)&&"function"===typeof b.F?b.F():b;b=this.Et;a.Et=u.Ta(b)&&"function"===typeof b.F?b.F():b;return a};
ye.prototype.toString=function(){var a="",a=this.Wc===ze?a+"* ":this.Wc===Ae?a+(this.S!==m?"!m":"!d"):a+((this.S!==m?"!m":"!d")+this.Wc);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.qe&&this.qe!==this.propertyName&&(a+=" "+this.qe);a+=": ";this.Wc===ze?this.oldValue!==m&&(a+=" "+this.oldValue):(this.object!==m&&(a+=De(this.object)),this.oldValue!==m&&(a+="  old: "+De(this.oldValue)),this.Ye!==m&&(a+=" "+this.Ye),this.newValue!==m&&(a+="  new: "+De(this.newValue)),
this.Xe!==m&&(a+=" "+this.Xe));return a};ye.prototype.getValue=ye.prototype.ga=function(a){return a?this.oldValue:this.newValue};ye.prototype.getParam=ye.prototype.eJ=function(a){return a?this.Ye:this.Xe};ye.prototype.canUndo=ye.prototype.rk=function(){return this.S!==m||this.b!==m?h:p};ye.prototype.undo=ye.prototype.Jk=function(){this.rk()&&(this.S!==m?this.S.wr(this,h):this.b!==m&&this.b.wr(this,h))};ye.prototype.canRedo=ye.prototype.qk=function(){return this.S!==m||this.b!==m?h:p};
ye.prototype.redo=ye.prototype.mo=function(){this.qk()&&(this.S!==m?this.S.wr(this,p):this.b!==m&&this.b.wr(this,p))};u.a(ye,"model",ye.prototype.S);u.defineProperty(ye,{S:"model"},s("lf"),ba("lf"));u.a(ye,"diagram",ye.prototype.b);u.defineProperty(ye,{b:"diagram"},s("N"),ba("N"));u.a(ye,"change",ye.prototype.Wc);u.defineProperty(ye,{Wc:"change"},s("Is"),function(a){t&&u.Ya(a,ye,ye,"change");this.Is=a});u.a(ye,"modelChange",ye.prototype.qe);
u.defineProperty(ye,{qe:"modelChange"},s("At"),function(a){t&&u.e(a,"string",ye,"modelChange");this.At=a});u.a(ye,"propertyName",ye.prototype.propertyName);u.defineProperty(ye,{propertyName:"propertyName"},s("Tt"),function(a){t&&"string"!==typeof a&&u.c(a,Function,ye,"propertyName");this.Tt=a});u.a(ye,"object",ye.prototype.object);u.defineProperty(ye,{object:"object"},s("Kt"),ba("Kt"));u.a(ye,"oldValue",ye.prototype.oldValue);u.defineProperty(ye,{oldValue:"oldValue"},s("Mt"),ba("Mt"));
u.a(ye,"oldParam",ye.prototype.Ye);u.defineProperty(ye,{Ye:"oldParam"},s("Lt"),ba("Lt"));u.a(ye,"newValue",ye.prototype.newValue);u.defineProperty(ye,{newValue:"newValue"},s("Ft"),ba("Ft"));u.a(ye,"newParam",ye.prototype.Xe);u.defineProperty(ye,{Xe:"newParam"},s("Et"),ba("Et"));
function D(a){u.Qb(this);this.rw=this.Bb="";this.Uj=p;this.jg=[];this.Kc=new sa(m,Object);this.oq="key";this.Qs=this.qt=m;this.mq="category";this.Fg=new sa(m,ta);this.Di=m;this.bl=this.Th=p;this.Dx=m;this.ia=new Oe;a!==f&&(this.uh=a)}u.J("Model",D);D.prototype.clear=D.prototype.clear=function(){this.jg=[];this.Kc.clear();this.Fg.clear();this.ia.clear()};
D.prototype.writeJsonProtected=D.prototype.fE=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.Fl&&(a+=',\n  "dataFormat": '+this.quote(this.Fl));this.Ua&&(a+=',\n  "isReadOnly": '+this.Ua);"key"!==this.Vl&&"string"===typeof this.Vl&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.Vl));"category"!==this.Ul&&"string"===typeof this.Ul&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.Ul));return a};
D.prototype.yz=function(){return',\n  "nodeDataArray": '+Pe(this,this.uh,h)};D.prototype.readJsonProtected=D.prototype.hD=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.Fl=a.dataFormat);a.isReadOnly&&(this.Ua=a.isReadOnly);a.nodeKeyProperty&&(this.Vl=a.nodeKeyProperty);a.nodeCategoryProperty&&(this.Ul=a.nodeCategoryProperty)};D.prototype.Zy=function(a){a.nodeDataArray&&(a=a.nodeDataArray,Qe(this,a),this.uh=a)};
D.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.ND();var b=(""!==this.name?this.name:"")+" Model";if(0<a){var b=b+"\n node data:",a=this.uh,c=u.Hb(a),d;for(d=0;d<c;d++)var e=u.wb(a,d),b=b+(" "+this.gc(e)+":"+De(e))}return b};D.prototype.toJson=D.prototype.ND=function(a){a===f&&(a=this.constructor===D?"go.Model":this.constructor===P?"go.GraphLinksModel":u.cj(this));return'{ "class": '+this.quote(a)+this.writeJsonProtected()+this.yz()+"}"};
D.fromJson=function(a,b){b===f&&(b=m);u.e(a,"string",D,"fromJson:s");b&&u.c(b,D,D,"fromJson:model");var c=m;if(window&&window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){t&&u.trace("JSON.parse error: "+d.toString())}else u.trace("WARNING: no JSON.parse available");if(c===m)return m;if(b===m){var e;e=m;var g=c["class"];if("string"===typeof g)try{var i=m;0===g.indexOf("go.")?(g=g.substr(3),i=ea[g]):(i=ea[g])||(i=window[g]);"function"===typeof i&&(e=new i)}catch(j){}e===m||e instanceof
D?b=e:u.g("Unable to construct a Model of declared class: "+c["class"])}b===m&&(b=new P);b.readJsonProtected(c);b.Zy(c);return b};
function Qe(a,b){if(u.isArray(b))for(var c=u.Hb(b),d=0;d<c;d++){var e=u.wb(b,d);u.Ta(e)&&u.lF(b,d,Qe(a,e))}else if(u.Ta(b)){for(d in b)if(e=b[d],u.Ta(e)&&(e=Qe(a,e),b[d]=e,"points"===d&&Array.isArray(e))){for(var g=h,i=0;i<e.length;i++)if("number"!==typeof e[i]){g=p;break}if(g){g=new A(E);for(i=0;i<e.length/2;i++){var j=new E(e[2*i],e[2*i+1]);g.add(j)}g.freeze();b[d]=g}}if("object"!==typeof b)c=b;else{d=b;e=b["class"];if("NaN"===e)d=NaN;else if("go.Point"===e)d=new E(b.x,b.y);else if("go.Size"===
e)d=new L(b.width,b.height);else if("go.Rect"===e)d=new F(b.x,b.y,b.width,b.height);else if("go.Margin"===e)d=new Hb(b.top,b.right,b.bottom,b.left);else if("go.Spot"===e)d="string"===typeof b["enum"]?Ub(b["enum"]):new K(b.x,b.y,b.offsetX,b.offsetY);else if("go.Brush"===e){if(d=new Re,d.type=u.Jl(Re,b.type),b.start instanceof K&&(d.start=b.start),b.end instanceof K&&(d.end=b.end),"number"===typeof b.startRadius&&(d.uo=b.startRadius),"number"===typeof b.endRadius&&(d.Gn=b.endRadius),e=b.colorStops)for(c in e)d.addColorStop(parseFloat(c),
e[c])}else"go.Geometry"===e&&(d="string"===typeof b.path?be(b.path):new Dd,d.type=u.Jl(Dd,b.type),"number"===typeof b.startX&&(d.Fa=b.startX),"number"===typeof b.startY&&(d.Ga=b.startY),"number"===typeof b.endX&&(d.P=b.endX),"number"===typeof b.endY&&(d.Q=b.endY),b.spot1 instanceof K&&(d.n=b.spot1),b.spot2 instanceof K&&(d.o=b.spot2));c=d}return c}return b}
D.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++)var e=a[d],b='"'===e||"\\"===e?b+("\\"+e):"\b"===e?b+"\\b":"\f"===e?b+"\\f":"\n"===e?b+"\\n":"\r"===e?b+"\\r":"\t"===e?b+"\\t":b+e;return'"'+b+'"'};
D.prototype.writeJsonValue=D.prototype.Cv=function(a){var b;if(a===f)b="undefined";else if(a===m)b="null";else if(a===h)b="true";else if(a===p)b="false";else if("string"===typeof a)b=this.quote(a);else if("number"===typeof a)b=Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString();else if(u.isArray(a))b=Pe(this,a);else if(u.Ta(a)){var c=a;if(c instanceof E)a={"class":"go.Point",x:c.x,y:c.y};else if(c instanceof L)a={"class":"go.Size",width:c.width,height:c.height};else if(c instanceof
F)a={"class":"go.Rect",x:c.x,y:c.y,width:c.width,height:c.height};else if(c instanceof Hb)a={"class":"go.Margin",top:c.top,right:c.right,bottom:c.bottom,left:c.left};else if(c instanceof K)a=Zb(c)?{"class":"go.Spot",x:c.x,y:c.y,offsetX:c.offsetX,offsetY:c.offsetY}:{"class":"go.Spot","enum":c.toString()};else if(c instanceof Re){a={"class":"go.Brush",type:c.type.name};if(c.type===Se)a.color=c.color;else if(c.type===Te||c.type===Ue)a.start=c.start,a.end=c.end,c.type===Ue&&(0!==c.uo&&(a.startRadius=
c.uo),isNaN(c.Gn)||(a.endRadius=c.Gn));if(c.Bn!==m){for(var d={},c=c.Bn.f;c.next();)d[c.key.toString()]=c.value;a.colorStops=d}}else c instanceof Dd&&(a={"class":"go.Geometry",type:c.type.name},0!==c.Fa&&(a.startX=c.Fa),0!==c.Ga&&(a.startY=c.Ga),0!==c.P&&(a.endX=c.P),0!==c.Q&&(a.endY=c.Q),c.n.z(nc)||(a.spot1=c.n),c.o.z(vc)||(a.spot2=c.o),0<c.Mb.count&&(a.path=a.toString()));var d="{",e=h;for(b in a)if(c=u.bb(a,b),!(c===f||"__gohashid"===b||"_"===b[0]||"function"===typeof c))if(e?e=p:d+=", ",d+='"'+
b+'":',"points"===b&&c instanceof A&&c.M===E){for(var g="[",c=c.f;c.next();){var i=c.value;1<g.length&&(g+=",");g+=this.Cv(i.x);g+=",";g+=this.Cv(i.y)}g+="]";d+=g}else d+=this.Cv(c);b=d+"}"}else b="function"===typeof a?"null":a.toString();return b};function Pe(a,b,c){var d=u.Hb(b),e="[ ";c&&1<d&&(e+="\n");for(var g=0;g<d;g++){var i=u.wb(b,g);i!==f&&(0<g&&(e+=",",c&&(e+="\n")),e+=a.Cv(i))}c&&1<d&&(e+="\n");return e+" ]"}u.a(D,"name",D.prototype.name);
u.defineProperty(D,{name:"name"},s("Bb"),function(a){var b=this.Bb;b!==a&&(u.e(a,"string",D,"name"),this.Bb=a,this.d("name",b,a))});u.a(D,"dataFormat",D.prototype.Fl);u.defineProperty(D,{Fl:"dataFormat"},s("rw"),function(a){var b=this.rw;b!==a&&(u.e(a,"string",D,"dataFormat"),this.rw=a,this.d("dataFormat",b,a))});u.a(D,"isReadOnly",D.prototype.Ua);u.defineProperty(D,{Ua:"isReadOnly"},s("Uj"),function(a){var b=this.Uj;b!==a&&(u.e(a,"boolean",D,"isReadOnly"),this.Uj=a,this.d("isReadOnly",b,a))});
D.prototype.addChangedListener=D.prototype.Nx=function(a){u.e(a,"function",D,"addChangedListener:listener");this.Di===m&&(this.Di=new A("function"));this.Di.add(a)};D.prototype.removeChangedListener=D.prototype.az=function(a){u.e(a,"function",D,"removeChangedListener:listener");this.Di!==m&&(this.Di.remove(a),0===this.Di.count&&(this.Di=m))};D.prototype.zu=function(a){this.tb||this.ia.rC(a);if(this.Di!==m)for(var b=this.Di.f;b.next();){var c=b.value;c(a)}};
D.prototype.raiseChangedEvent=D.prototype.ae=function(a,b,c,d,e,g,i){Ve(this,"",a,b,c,d,e,g,i)};D.prototype.raiseChanged=D.prototype.d=function(a,b,c,d,e){Ve(this,"",Ae,a,this,b,c,d,e)};D.prototype.raiseDataChanged=D.prototype.fK=function(a,b,c,d,e,g){Ve(this,"",Ae,b,a,c,d,e,g)};function Ve(a,b,c,d,e,g,i,j,k){j===f&&(j=m);k===f&&(k=m);var l=new ye;l.S=a;l.Wc=c;l.qe=b;l.propertyName=d;l.object=e;l.oldValue=g;l.Ye=j;l.newValue=i;l.Xe=k;a.zu(l)}u.a(D,"undoManager",D.prototype.ia);
u.defineProperty(D,{ia:"undoManager"},s("Dx"),function(a){var b=this.Dx;b!==a&&(u.c(a,Oe,D,"undoManager"),b!==m&&b.QG(this),this.Dx=a,a!==m&&a.PE(this))});u.a(D,"skipsUndoManager",D.prototype.tb);u.defineProperty(D,{tb:"skipsUndoManager"},s("Th"),function(a){u.e(a,"boolean",D,"skipsUndoManager");this.Th=a});D.prototype.wr=function(a,b){if(a!==m&&a.S===this){var c=this.bl;try{this.bl=h,this.Wx(a,b)}finally{this.bl=c}}};
D.prototype.Wx=function(a,b){if(a.Wc===Ae){var c=a.object,d=a.propertyName,e=a.ga(b);u.jb(c,d,e)}else a.Wc===Be?"nodeDataArray"===a.qe?(c=a.newValue,u.Ta(c)&&(d=this.gc(c),d!==f&&(b?(u.ci(this.jg,a.Xe),this.Kc.remove(d)):(u.bi(this.jg,a.Xe,c),this.Kc.add(d,c))))):""===a.qe?(c=a.object,!u.isArray(c)&&a.propertyName&&(c=u.bb(a.object,a.propertyName)),u.isArray(c)&&(d=a.newValue,e=a.Xe,b?u.ci(c,e):u.bi(c,e,d))):u.g("unknown ChangedEvent.Insert object: "+a.toString()):a.Wc===Ce?"nodeDataArray"===a.qe?
(c=a.oldValue,u.Ta(c)&&(d=this.gc(c),d!==f&&(b?(u.bi(this.jg,a.Ye,c),this.Kc.add(d,c)):(u.ci(this.jg,a.Ye),this.Kc.remove(d))))):""===a.qe?(c=a.object,!u.isArray(c)&&a.propertyName&&(c=u.bb(a.object,a.propertyName)),u.isArray(c)&&(d=a.oldValue,e=a.Ye,b?u.bi(c,e,d):u.ci(c,e))):u.g("unknown ChangedEvent.Remove object: "+a.toString()):a.Wc!==ze&&u.g("unknown ChangedEvent: "+a.toString())};D.prototype.startTransaction=D.prototype.Pb=function(a){return this.ia.Pb(a)};
D.prototype.commitTransaction=D.prototype.Vd=function(a){return this.ia.Vd(a)};D.prototype.rollbackTransaction=D.prototype.js=function(){return this.ia.js()};D.prototype.updateTargetBindings=D.prototype.tc=function(a,b){b===f&&(b="");Ve(this,"SourceChanged",ze,b,a,m,m)};u.a(D,"nodeKeyProperty",D.prototype.Vl);
u.defineProperty(D,{Vl:"nodeKeyProperty"},s("oq"),function(a){var b=this.oq;b!==a&&(We(a,D,"nodeKeyProperty"),0<this.Kc.count&&u.g("Cannot set Model.nodeKeyProperty when there is existing node data"),this.oq=a,this.d("nodeKeyProperty",b,a))});function We(a,b,c){"string"!==typeof a&&"function"!==typeof a&&u.Ec(a,"string or function",b,c)}
D.prototype.getKeyForNodeData=D.prototype.gc=function(a){if(a!==m){var b=this.oq;if(""!==b&&(b=u.bb(a,b),b!==f)){if(Xe(b))return b;t&&u.trace("Key value for node data "+a+" is not a number or a string: "+b)}}};u.a(D,"makeUniqueKeyFunction",D.prototype.wG);u.defineProperty(D,{wG:"makeUniqueKeyFunction"},s("qt"),function(a){var b=this.qt;b!==a&&(a!==m&&u.e(a,"function",D,"makeUniqueKeyFunction"),this.qt=a,this.d("makeUniqueKeyFunction",b,a))});
function Xe(a){return"number"===typeof a||"string"===typeof a}D.prototype.containsNodeData=D.prototype.Si=function(a){a=this.gc(a);return a===f?p:this.Kc.contains(a)};D.prototype.findNodeDataForKey=D.prototype.nh=function(a){a===m&&u.g("Model.findNodeDataForKey:key must not be null");return a===f||!Xe(a)?m:this.Kc.ga(a)};u.a(D,"nodeDataArray",D.prototype.uh);
u.defineProperty(D,{uh:"nodeDataArray"},s("jg"),function(a){var b=this.jg;if(b!==a){u.Bu(a,D,"nodeDataArray");this.Kc.clear();this.sz();for(var c=u.Hb(a),d=0;d<c;d++){var e=u.wb(a,d);if(!u.Ta(e)){u.g("Model.nodeDataArray must only contain Objects, not: "+e);return}u.Qn(e)}this.jg=a;for(var g=new A(Object),d=0;d<c;d++){var e=u.wb(a,d),i=this.gc(e);i===f?g.add(e):this.Kc.ga(i)!==m?g.add(e):this.Kc.add(i,e)}for(d=g.f;d.next();)e=d.value,this.OC(e),g=this.gc(e),this.Kc.add(g,e);Ve(this,"nodeDataArray",
Ae,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=u.wb(a,d),this.lv(e),this.kv(e);this.uB();Array.isArray(a)||(this.Ua=h)}});
D.prototype.makeNodeDataKeyUnique=D.prototype.OC=function(a){if(a!==m){var b=this.oq;if(""!==b){var c=this.gc(a);if(c===f||this.Kc.contains(c)){var d=this.qt;if(d!==m&&(c=d(this,a),c!==f&&c!==m&&!this.Kc.contains(c))){u.jb(a,b,c);return}if("string"===typeof c){for(d=2;this.Kc.contains(c+d);)d++;u.jb(a,b,c+d)}else if(c===f||"number"===typeof c){for(d=-this.Kc.count-1;this.Kc.contains(d);)d--;u.jb(a,b,d)}else u.g("Model.getKeyForNodeData returned something other than a string or a number: "+c)}}}};
D.prototype.addNodeData=D.prototype.uu=function(a){if(a!==m){u.Qn(a);var b=this.gc(a);b!==f&&this.Kc.ga(b)===a||(this.OC(a),b=this.gc(a),this.Kc.add(b,a),b=u.Hb(this.jg),u.bi(this.jg,b,a),Ve(this,"nodeDataArray",Be,"nodeDataArray",this,m,a,m,b),this.lv(a),this.kv(a))}};D.prototype.removeNodeData=D.prototype.mD=function(a){if(a!==m){var b=this.gc(a);b!==f&&this.Kc.contains(b)&&(this.Kc.remove(b),b=u.Rx(this.jg,a),0>b||(u.ci(this.jg,b),Ve(this,"nodeDataArray",Ce,"nodeDataArray",this,a,m,b,m),this.tz(a)))}};
D.prototype.sz=aa();D.prototype.lv=aa();D.prototype.kv=aa();D.prototype.tz=aa();D.prototype.delayReference=D.prototype.sg=function(a,b){if(a!==f){var c=this.Fg.ga(a);c===m&&(c=new ta,this.Fg.add(a,c));c.add(b)}};D.prototype.forgetDelayedReference=D.prototype.ph=function(a,b){if(a!==f){var c=this.Fg.ga(a);c instanceof ta&&(b===f||b===m?this.Fg.remove(a):(c.remove(b),0===c.count&&this.Fg.remove(a)))}};
D.prototype.dumpDelayedReferences=D.prototype.KI=function(){u.trace("DelayedReferences ("+this.Fg.count+")");for(var a=this.Fg.f;a.next();){for(var b="",c=a.value.f;c.next();)b+=De(c.value)+", ";u.trace("  "+a.key+": "+b)}};D.prototype.findDelayedReferences=D.prototype.cC=function(a){if(a===f)return m;a=this.Fg.ga(a);return a instanceof ta?a:m};D.prototype.clearUnresolvedReferences=D.prototype.uB=function(a){a===f?this.Fg.clear():this.Fg.remove(a)};u.a(D,"copyNodeDataFunction",D.prototype.vF);
u.defineProperty(D,{vF:"copyNodeDataFunction"},s("Qs"),function(a){var b=this.Qs;b!==a&&(a!==m&&u.e(a,"function",D,"copyNodeDataFunction"),this.Qs=a,this.d("copyNodeDataFunction",b,a))});D.prototype.copyNodeData=D.prototype.Cn=function(a){if(a===m)return m;var b=m,b=this.Qs;if(b!==m)b=b(a);else{var b=new a.constructor,c;for(c in a)u.jb(b,c,u.bb(a,c))}b&&u.Qb(b);return b};
D.prototype.setDataProperty=D.prototype.$G=function(a,b,c){t&&(u.e(a,"object",D,"setDataProperty:data"),u.e(b,"string",D,"setDataProperty:propname"),""===b&&u.g("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.Si(a))if(b===this.Vl)u.g("Model.setDataProperty: property name must not be the key for the node data: "+b);else if(b===this.Ul&&"string"===typeof c){this.fz(a,c);return}var d=u.bb(a,b);d!==c&&(u.jb(a,b,c),Ve(this,"",Ae,b,a,d,c))};
D.prototype.insertArrayItem=D.prototype.rJ=function(a,b,c){t&&(u.Bu(a,D,"insertArrayItem:arr"),u.i(b,D,"insertArrayItem:idx"));0>b&&(b=u.Hb(a));u.bi(a,b,c);Ve(this,"",Be,"",a,m,c,m,b)};D.prototype.removeArrayItem=D.prototype.jK=function(a,b){b===f&&(b=-1);t&&(u.Bu(a,D,"removeArrayItem:arr"),u.i(b,D,"removeArrayItem:idx"));-1===b&&(b=u.Hb(a)-1);var c=u.wb(a,b);u.ci(a,b);Ve(this,"",Ce,"",a,c,m,b,m)};u.a(D,"nodeCategoryProperty",D.prototype.Ul);
u.defineProperty(D,{Ul:"nodeCategoryProperty"},s("mq"),function(a){var b=this.mq;b!==a&&(We(a,D,"nodeCategoryProperty"),this.mq=a,this.d("nodeCategoryProperty",b,a))});D.prototype.getCategoryForNodeData=D.prototype.kC=function(a){if(a===m)return"";var b=this.mq;if(""===b)return"";b=u.bb(a,b);if(b===f)return"";if("string"===typeof b)return b;t&&u.trace("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
D.prototype.setCategoryForNodeData=D.prototype.fz=function(a,b){u.e(b,"string",D,"setCategoryForNodeData:val");if(a!==m){var c=this.mq;if(""!==c)if(this.Si(a)){var d=u.bb(a,c);d===f&&(d="");d!==b&&(u.jb(a,c,b),Ve(this,"nodeCategory",Ae,c,a,d,b))}else u.jb(a,c,b)}};function P(a,b){D.call(this);this.Wj=[];this.Tp=new ta(Object);this.Ps=m;this.Xj="from";this.Zj="to";this.Wp=this.Vp="";this.Rp="category";this.Mh=this.Ht="";this.Gt="isGroup";this.bk="group";a!==f&&(this.uh=a);b!==f&&(this.wg=b)}
u.J("GraphLinksModel",P);u.va(P,D);P.prototype.clear=P.prototype.clear=function(){D.prototype.clear.call(this);this.Wj=[];this.Tp.clear()};P.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.ND();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){var b=b+"\n node data:",a=this.uh,c=u.Hb(a),d;for(d=0;d<c;d++)var e=u.wb(a,d),b=b+(" "+this.gc(e)+":"+De(e));b+="\n link data:";a=this.wg;c=u.Hb(a);for(d=0;d<c;d++)e=u.wb(a,d),b+=" "+this.On(e)+"--\>"+this.Pn(e)}return b};
P.prototype.writeJsonProtected=P.prototype.fE=function(){var a=D.prototype.fE.call(this),b="";"category"!==this.Vn&&"string"===typeof this.Vn&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.Vn));"from"!==this.Wn&&"string"===typeof this.Wn&&(b+=',\n "linkFromKeyProperty": '+this.quote(this.Wn));"to"!==this.$n&&"string"===typeof this.$n&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.$n));""!==this.Xn&&"string"===typeof this.Xn&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.Xn));""!==
this.ao&&"string"===typeof this.ao&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.ao));""!==this.ko&&"string"===typeof this.ko&&(b+=',\n "nodeIsLinkLabelProperty": '+this.quote(this.ko));""!==this.Yn&&"string"===typeof this.Yn&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.Yn));"isGroup"!==this.jo&&"string"===typeof this.jo&&(b+=',\n "nodeIsGroupProperty": '+this.quote(this.jo));"group"!==this.io&&"string"===typeof this.io&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.io));return a+
b};P.prototype.yz=function(){var a=D.prototype.yz.call(this),b=',\n  "linkDataArray": '+Pe(this,this.wg,h);return a+b};
P.prototype.readJsonProtected=P.prototype.hD=function(a){D.prototype.hD.call(this,a);a.linkFromKeyProperty&&(this.Wn=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.$n=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.Xn=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.ao=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.Vn=a.linkCategoryProperty);a.nodeIsLinkLabelProperty&&(this.ko=a.nodeIsLinkLabelProperty);a.linkLabelKeysProperty&&(this.Yn=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&
(this.jo=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.io=a.nodeGroupKeyProperty)};P.prototype.Zy=function(a){D.prototype.Zy.call(this,a);a.linkDataArray&&(a=a.linkDataArray,Qe(this,a),this.wg=a)};
P.prototype.Wx=function(a,b){if(a.Wc===Be){var c=m;"linkDataArray"===a.qe?c=this.wg:"linkLabelKeys"===a.qe&&(c=this.Ml(a.object));if(u.isArray(c)){b?u.ci(c,a.Xe):u.bi(c,a.Xe,a.newValue);return}}else if(a.Wc===Ce&&(c=m,"linkDataArray"===a.qe?c=this.wg:"linkLabelKeys"===a.qe&&(c=this.Ml(a.object)),u.isArray(c))){b?u.bi(c,a.Ye,a.oldValue):u.ci(c,a.Ye);return}D.prototype.Wx.call(this,a,b)};u.a(P,"linkFromKeyProperty",P.prototype.Wn);
u.defineProperty(P,{Wn:"linkFromKeyProperty"},s("Xj"),function(a){var b=this.Xj;b!==a&&(We(a,P,"linkFromKeyProperty"),this.Xj=a,this.d("linkFromKeyProperty",b,a))});P.prototype.getFromKeyForLinkData=P.prototype.On=function(a){if(a!==m){var b=this.Xj;if(""!==b&&(b=u.bb(a,b),b!==f)){if(Xe(b))return b;t&&u.trace("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
P.prototype.setFromKeyForLinkData=P.prototype.rv=function(a,b){b===m&&(b=f);b!==f&&!Xe(b)&&u.Ec(b,"number or string",P,"setFromKeyForLinkData:key");if(a!==m){var c=this.Xj;if(""!==c)if(this.fi(a)){var d=u.bb(a,c);d!==b&&(this.ph(d,a),u.jb(a,c,b),this.nh(b)===m&&this.sg(b,a),Ve(this,"linkFromKey",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};u.a(P,"linkToKeyProperty",P.prototype.$n);
u.defineProperty(P,{$n:"linkToKeyProperty"},s("Zj"),function(a){var b=this.Zj;b!==a&&(We(a,P,"linkToKeyProperty"),this.Zj=a,this.d("linkToKeyProperty",b,a))});P.prototype.getToKeyForLinkData=P.prototype.Pn=function(a){if(a!==m){var b=this.Zj;if(""!==b&&(b=u.bb(a,b),b!==f)){if(Xe(b))return b;t&&u.trace("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
P.prototype.setToKeyForLinkData=P.prototype.sv=function(a,b){b===m&&(b=f);b!==f&&!Xe(b)&&u.Ec(b,"number or string",P,"setToKeyForLinkData:key");if(a!==m){var c=this.Zj;if(""!==c)if(this.fi(a)){var d=u.bb(a,c);d!==b&&(this.ph(d,a),u.jb(a,c,b),this.nh(b)===m&&this.sg(b,a),Ve(this,"linkToKey",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};u.a(P,"linkFromPortIdProperty",P.prototype.Xn);
u.defineProperty(P,{Xn:"linkFromPortIdProperty"},s("Vp"),function(a){var b=this.Vp;b!==a&&(We(a,P,"linkFromPortIdProperty"),this.Vp=a,this.d("linkFromPortIdProperty",b,a))});P.prototype.getFromPortIdForLinkData=P.prototype.VF=function(a){if(a===m)return"";var b=this.Vp;if(""===b)return"";a=u.bb(a,b);return a===f?"":a};
P.prototype.setFromPortIdForLinkData=P.prototype.ns=function(a,b){u.e(b,"string",P,"setFromPortIdForLinkData:portname");if(a!==m){var c=this.Vp;if(""!==c)if(this.fi(a)){var d=u.bb(a,c);d===f&&(d="");d!==b&&(u.jb(a,c,b),Ve(this,"linkFromPortId",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};u.a(P,"linkToPortIdProperty",P.prototype.ao);
u.defineProperty(P,{ao:"linkToPortIdProperty"},s("Wp"),function(a){var b=this.Wp;b!==a&&(We(a,P,"linkToPortIdProperty"),this.Wp=a,this.d("linkToPortIdProperty",b,a))});P.prototype.getToPortIdForLinkData=P.prototype.XF=function(a){if(a===m)return"";var b=this.Wp;if(""===b)return"";a=u.bb(a,b);return a===f?"":a};
P.prototype.setToPortIdForLinkData=P.prototype.os=function(a,b){u.e(b,"string",P,"setToPortIdForLinkData:portname");if(a!==m){var c=this.Wp;if(""!==c)if(this.fi(a)){var d=u.bb(a,c);d===f&&(d="");d!==b&&(u.jb(a,c,b),Ve(this,"linkToPortId",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};u.a(P,"nodeIsLinkLabelProperty",P.prototype.ko);
u.defineProperty(P,{ko:"nodeIsLinkLabelProperty"},s("Ht"),function(a){var b=this.Ht;b!==a&&(We(a,P,"nodeIsLinkLabelProperty"),this.Ht=a,this.d("nodeIsLinkLabelProperty",b,a))});P.prototype.isLinkLabelForNodeData=P.prototype.Ey=function(a){if(a===m)return p;var b=this.Ht;return""===b?p:u.bb(a,b)?h:p};u.a(P,"linkLabelKeysProperty",P.prototype.Yn);
u.defineProperty(P,{Yn:"linkLabelKeysProperty"},s("Mh"),function(a){var b=this.Mh;b!==a&&(We(a,P,"linkLabelKeysProperty"),this.Mh=a,this.d("linkLabelKeysProperty",b,a))});P.prototype.getLabelKeysForLinkData=P.prototype.Ml=function(a){if(a===m)return[];var b=this.Mh;if(""===b)return[];a=u.bb(a,b);return a===f?[]:a};
P.prototype.setLabelKeysForLinkData=P.prototype.FD=function(a,b){u.c(b,Array,P,"setLabelKeysForLinkData:arr");if(a!==m){var c=this.Mh;if(""!==c)if(this.fi(a)){var d=u.bb(a,c);d===f&&(d=[]);if(d!==b){for(var e=u.Hb(d),g=0;g<e;g++){var i=u.wb(d,g);this.ph(i,a)}u.jb(a,c,b);e=u.Hb(b);for(g=0;g<e;g++)i=u.wb(b,g),this.nh(i)===m&&this.sg(i,a);Ve(this,"linkLabelKeys",Ae,c,a,d,b);"string"===typeof c&&this.tc(a,c)}}else u.jb(a,c,b)}};
P.prototype.addLabelKeyForLinkData=P.prototype.fB=function(a,b){if(!(b===m||b===f))if(Xe(b)||u.Ec(b,"number or string",P,"addLabelKeyForLinkData:key"),a!==m){var c=this.Mh;if(""!==c){var d=u.bb(a,c);d===f?this.FD(a,[b]):u.isArray(d)?0<=u.Rx(d,b)||(u.bi(d,Infinity,b),this.fi(a)&&(this.nh(b)===m&&this.sg(b,a),Ve(this,"linkLabelKeys",Be,c,a,m,b))):u.g(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
P.prototype.removeLabelKeyForLinkData=P.prototype.OG=function(a,b){if(!(b===m||b===f))if(Xe(b)||u.Ec(b,"number or string",P,"removeLabelKeyForLinkData:key"),a!==m){var c=this.Mh;if(""!==c){var d=u.bb(a,c);if(u.isArray(d)){var e=u.Rx(d,b);0>e||(u.ci(d,e),this.fi(a)&&(this.ph(b,a),Ve(this,"linkLabelKeys",Ce,c,a,b,m)))}else d!==f&&u.g(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};u.a(P,"linkDataArray",P.prototype.wg);
u.defineProperty(P,{wg:"linkDataArray"},s("Wj"),function(a){var b=this.Wj;if(b!==a){u.Bu(a,P,"linkDataArray");for(var c=u.Hb(a),d=0;d<c;d++){var e=u.wb(a,d);if(!u.Ta(e)){u.g("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}u.Qn(e)}this.Wj=a;for(var g=new ta(Object),d=0;d<c;d++)e=u.wb(a,d),g.add(e);this.Tp=g;Ve(this,"linkDataArray",Ae,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=u.wb(a,d),Ye(this,e)}});
P.prototype.containsLinkData=P.prototype.fi=function(a){return a===m?p:this.Tp.contains(a)};P.prototype.addLinkData=P.prototype.gB=function(a){if(a!==m){if(u.qc(a)===f)u.Qb(a);else if(this.fi(a))return;this.Tp.add(a);var b=u.Hb(this.Wj);u.bi(this.Wj,b,a);Ve(this,"linkDataArray",Be,"linkDataArray",this,m,a,m,b);Ye(this,a)}};
P.prototype.removeLinkData=P.prototype.PG=function(a){if(a!==m){this.Tp.remove(a);var b=this.Wj.indexOf(a);if(!(0>b)){u.ci(this.Wj,b);Ve(this,"linkDataArray",Ce,"linkDataArray",this,a,m,b,m);b=this.On(a);this.ph(b,a);b=this.Pn(a);this.ph(b,a);for(var c=this.Ml(a),d=u.Hb(c),e=0;e<d;e++)b=u.wb(c,e),this.ph(b,a)}}};function Ye(a,b){var c=a.On(b);a.nh(c)===m&&a.sg(c,b);c=a.Pn(b);a.nh(c)===m&&a.sg(c,b);for(var d=a.Ml(b),e=u.Hb(d),g=0;g<e;g++)c=u.wb(d,g),a.nh(c)===m&&a.sg(c,b)}
u.a(P,"copyLinkDataFunction",P.prototype.uF);u.defineProperty(P,{uF:"copyLinkDataFunction"},s("Ps"),function(a){var b=this.Ps;b!==a&&(a!==m&&u.e(a,"function",P,"copyLinkDataFunction"),this.Ps=a,this.d("copyLinkDataFunction",b,a))});
P.prototype.copyLinkData=P.prototype.DB=function(a){if(a===m)return m;var b=m,b=this.Ps;if(b!==m)b=b(a);else{var b=new a.constructor,c;for(c in a)u.jb(b,c,u.bb(a,c))}b&&(u.Qb(b),""!==this.Xj&&u.jb(b,this.Xj,f),""!==this.Zj&&u.jb(b,this.Zj,f),""!==this.Mh&&u.jb(b,this.Mh,[]));return b};u.a(P,"nodeIsGroupProperty",P.prototype.jo);u.defineProperty(P,{jo:"nodeIsGroupProperty"},s("Gt"),function(a){var b=this.Gt;b!==a&&(We(a,P,"nodeIsGroupProperty"),this.Gt=a,this.d("nodeIsGroupProperty",b,a))});
P.prototype.isGroupForNodeData=P.prototype.Ay=function(a){if(a===m)return p;var b=this.Gt;return""===b?p:u.bb(a,b)?h:p};u.a(P,"nodeGroupKeyProperty",P.prototype.io);u.defineProperty(P,{io:"nodeGroupKeyProperty"},s("bk"),function(a){var b=this.bk;b!==a&&(We(a,P,"nodeGroupKeyProperty"),this.bk=a,this.d("nodeGroupKeyProperty",b,a))});
P.prototype.getGroupKeyForNodeData=P.prototype.Pr=function(a){if(a!==m){var b=this.bk;if(""!==b&&(b=u.bb(a,b),b!==f)){if(Xe(b))return b;t&&u.trace("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
P.prototype.setGroupKeyForNodeData=P.prototype.hz=function(a,b){b===m&&(b=f);b!==f&&!Xe(b)&&u.Ec(b,"number or string",P,"setGroupKeyForNodeData:key");if(a!==m){var c=this.bk;if(""!==c)if(this.Si(a)){var d=u.bb(a,c);d!==b&&(this.ph(d,a),u.jb(a,c,b),this.nh(b)===m&&this.sg(b,a),Ve(this,"nodeGroupKey",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};P.prototype.copyNodeData=P.prototype.Cn=function(a){if(a===m)return m;a=D.prototype.Cn.call(this,a);""!==this.bk&&u.jb(a,this.bk,f);return a};
P.prototype.setDataProperty=P.prototype.$G=function(a,b,c){t&&(u.e(a,"object",P,"setDataProperty:data"),u.e(b,"string",P,"setDataProperty:propname"),""===b&&u.g("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.Si(a))if(b===this.Vl)u.g("GraphLinksModel.setDataProperty: property name must not be the key for the node data: "+b);else{if(b===this.Ul&&"string"===typeof c){this.fz(a,c);return}if(b===this.io&&("string"===typeof c||"number"===
typeof c)){this.hz(a,c);return}b===this.jo?u.g("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b):b===this.ko&&u.g("GraphLinksModel.setDataProperty: property name must not be the nodeIsLinkLabelProperty: "+b)}else if(this.fi(a)){if(b===this.Wn&&("string"===typeof c||"number"===typeof c)){this.rv(a,c);return}if(b===this.$n&&("string"===typeof c||"number"===typeof c)){this.sv(a,c);return}if(b===this.Xn&&"string"===typeof c){this.ns(a,c);return}if(b===this.ao&&
"string"===typeof c){this.os(a,c);return}if(b===this.Vn&&"string"===typeof c){this.ED(a,c);return}if(b===this.Yn&&u.isArray(c)){this.FD(a,c);return}}var d=u.bb(a,b);d!==c&&(u.jb(a,b,c),Ve(this,"",Ae,b,a,d,c))};P.prototype.sz=function(){D.prototype.sz.call(this);for(var a=this.wg,b=u.Hb(a),c=0;c<b;c++)Ye(this,u.wb(a,c))};
P.prototype.lv=function(a){D.prototype.lv.call(this,a);var a=this.gc(a),b=this.cC(a);if(b!==m){for(var c=new A(Object),b=b.f;b.next();){var d=b.value;if(this.Si(d)){if(this.Pr(d)===a){var e=this.bk;Ve(this,"nodeGroupKey",Ae,e,d,a,a);"string"===typeof e&&this.tc(d,e);c.add(d)}}else{this.On(d)===a&&(e=this.Xj,Ve(this,"linkFromKey",Ae,e,d,a,a),"string"===typeof e&&this.tc(d,e),c.add(d));this.Pn(d)===a&&(e=this.Zj,Ve(this,"linkToKey",Ae,e,d,a,a),"string"===typeof e&&this.tc(d,e),c.add(d));for(var g=this.Ml(d),
i=u.Hb(g),e=this.Mh,j=0;j<i;j++)u.wb(g,j)===a&&(Ve(this,"linkLabelKeys",Be,e,d,a,a),c.add(d))}}for(c=c.f;c.next();)this.ph(a,c.value)}};P.prototype.kv=function(a){D.prototype.kv.call(this,a);var b=this.Pr(a);this.nh(b)===m&&this.sg(b,a)};P.prototype.tz=function(a){D.prototype.tz.call(this,a);var b=this.Pr(a);this.ph(b,a)};u.a(P,"linkCategoryProperty",P.prototype.Vn);
u.defineProperty(P,{Vn:"linkCategoryProperty"},s("Rp"),function(a){var b=this.Rp;b!==a&&(We(a,P,"linkCategoryProperty"),this.Rp=a,this.d("linkCategoryProperty",b,a))});P.prototype.getCategoryForLinkData=P.prototype.jC=function(a){if(a===m)return"";var b=this.Rp;if(""===b)return"";b=u.bb(a,b);if(b===f)return"";if("string"===typeof b)return b;t&&u.trace("getCategoryForLinkData found a non-string category for "+a+": "+b);return b};
P.prototype.setCategoryForLinkData=P.prototype.ED=function(a,b){u.e(b,"string",P,"setCategoryForLinkData:val");if(a!==m){var c=this.Rp;if(""===c)return"";if(this.fi(a)){var d=u.bb(a,c);d===f&&(d="");d!==b&&(u.jb(a,c,b),Ve(this,"linkCategory",Ae,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else u.jb(a,c,b)}};
function Ze(a,b,c){u.Qb(this);a===f?a="":u.e(a,"string",Ze,"constructor:targetprop");b===f?b=a:u.e(b,"string",Ze,"constructor:sourceprop");c===f?c=m:c!==m&&u.e(c,"function",Ze,"constructor:conv");this.VA="";this.sf=m;this.lu=a;this.ju=this.vx=0;this.MA=m;this.eu=b;this.ow=c;this.Ww=$e;this.iw=m}u.J("Binding",Ze);var $e;Ze.OneWay=$e=u.l(Ze,"OneWay",1);var af;Ze.TwoWay=af=u.l(Ze,"TwoWay",2);
Ze.parseEnum=function(a,b){u.e(a,"function",Ze,"parseEnum:ctor");u.Ya(b,a,Ze,"parseEnum:defval");return function(c){return u.Jl(a,c)||b}};var De;Ze.toString=De=function(a){var b=a;u.Ta(a)&&(a.text?b=a.text:a.name?b=a.name:a.key!==f?b=a.key:a.id!==f&&(b=a.id));return b===f?"undefined":b===m?"null":b.toString()};Ze.prototype.toString=function(){return"Binding("+this.bm+" "+this.oz+":"+this.jz+")"};Ze.prototype.freeze=function(){this.Ra=h;return this};Ze.prototype.wa=function(){this.Ra=p;return this};
u.a(Ze,"targetId",Ze.prototype.bm);u.defineProperty(Ze,{bm:"targetId"},s("VA"),function(a){u.u(this);u.e(a,"string",Ze,"targetId");this.VA=a});u.a(Ze,"targetProperty",Ze.prototype.oz);u.defineProperty(Ze,{oz:"targetProperty"},s("lu"),function(a){u.u(this);u.e(a,"string",Ze,"targetProperty");this.lu=a});u.a(Ze,"sourceName",Ze.prototype.to);u.defineProperty(Ze,{to:"sourceName"},s("MA"),function(a){u.u(this);u.e(a,"string",Ze,"sourceName");this.MA=a});u.a(Ze,"sourceProperty",Ze.prototype.jz);
u.defineProperty(Ze,{jz:"sourceProperty"},s("eu"),function(a){u.u(this);u.e(a,"string",Ze,"sourceProperty");this.eu=a});u.a(Ze,"converter",Ze.prototype.AB);u.defineProperty(Ze,{AB:"converter"},s("ow"),function(a){u.u(this);a!==m&&u.e(a,"function",Ze,"converter");this.ow=a});u.a(Ze,"backConverter",Ze.prototype.sB);u.defineProperty(Ze,{sB:"backConverter"},s("iw"),function(a){u.u(this);a!==m&&u.e(a,"function",Ze,"backConverter");this.iw=a});u.a(Ze,"mode",Ze.prototype.mode);
u.defineProperty(Ze,{mode:"mode"},s("Ww"),function(a){u.u(this);u.Ya(a,Ze,Ze,"mode");this.Ww=a});Ze.prototype.makeTwoWay=Ze.prototype.KJ=function(a){a===f&&(a=m);this.mode=af;this.sB=a;return this};Ze.prototype.ofObject=Ze.prototype.Xy=function(a){a===f&&(a="");t&&u.e(a,"string",Ze,"ofObject:srcname");this.to=a;return this};
Ze.prototype.updateTarget=Ze.prototype.bE=function(a,b,c){var d=this.eu;if(!(c&&d!==c)){var c=this.lu,e=this.ow;if(!(e===m&&""===c)){t&&("string"===typeof c&&"function"!==typeof a.setAttribute&&!u.xy(a,c))&&u.trace("Binding error: undefined target property: "+c+" on "+a.toString());var g=b;""!==d&&(g=u.bb(b,d));if(g!==f)if(e===m)""!==c&&u.jb(a,c,g);else try{if(""!==c){var i=e(g,a);u.jb(a,c,i)}else e(g,a)}catch(j){t&&u.trace("Binding error: "+j.toString())}}}};
Ze.prototype.updateSource=Ze.prototype.aE=function(a,b,c){if(this.Ww===af){var d=this.lu;if(!(c&&d!==c)){var c=this.eu,e=this.iw;if(!(e===m&&""===c)){var g=a;""!==d&&(g=u.bb(a,d));if(g!==f)if(e===m)u.jb(b,c,g);else try{if(""!==c){var i=e(g,b);u.jb(b,c,i)}else e(g,b)}catch(j){t&&u.trace("Binding error: "+j.toString())}}}}};function bf(){this.mE=(new A(ye)).freeze();this.Bb="";this.hA=p}u.J("Transaction",bf);
bf.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.ih.count.toString()+(this.Rn?"":", incomplete");if(a!==f&&0<a)for(var c=this.ih.count,d=0;d<c;d++){var e=this.ih.R(d);e!==m&&(b+="\n  "+e.toString(a-1))}return b};bf.prototype.clear=bf.prototype.clear=function(){var a=this.ih;a.wa();for(var b=a.count-1;0<=b;b--){var c=a.R(b);c!==m&&c.clear()}a.clear();a.freeze()};bf.prototype.canUndo=bf.prototype.rk=s("Rn");
bf.prototype.undo=bf.prototype.Jk=function(){if(this.rk())for(var a=this.ih.count-1;0<=a;a--){var b=this.ih.R(a);b!==m&&b.Jk()}};bf.prototype.canRedo=bf.prototype.qk=s("Rn");bf.prototype.redo=bf.prototype.mo=function(){if(this.qk())for(var a=this.ih.count,b=0;b<a;b++){var c=this.ih.R(b);c!==m&&c.mo()}};u.m(bf,{ih:"changes"},s("mE"));u.a(bf,"name",bf.prototype.name);u.defineProperty(bf,{name:"name"},s("Bb"),ba("Bb"));u.a(bf,"isComplete",bf.prototype.Rn);
u.defineProperty(bf,{Rn:"isComplete"},s("hA"),ba("hA"));function Oe(){this.Xw=new ta(D);this.Ih=p;this.tE=(new A(bf)).freeze();this.Oj=-1;this.nA=999;this.Jh=p;this.Us=m;this.mk=0;this.lw=p;t&&(this.lw=h);this.ig=(new A("string")).freeze();this.Sm=new A("number");this.Dw=h}u.J("UndoManager",Oe);
Oe.prototype.toString=function(a){for(var b="UndoManager "+this.dj+"<"+this.history.count+"<="+this.Ny,b=b+"[",c=this.ZC.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.ZC.R(d);b+="]";if(a!==f&&0<a){c=this.history.count;for(d=0;d<c;d++)b+="\n "+this.history.R(d).toString(a-1)}return b};
Oe.prototype.clear=Oe.prototype.clear=function(){var a=this.history;a.wa();for(var b=a.count-1;0<=b;b--){var c=a.R(b);c!==m&&c.clear()}a.clear();this.Oj=-1;a.freeze();this.Jh=p;this.Us=m;this.mk=0;this.ig.wa();this.ig.clear();this.ig.freeze();this.Sm.clear()};Oe.prototype.addModel=Oe.prototype.PE=function(a){this.Xw.add(a)};Oe.prototype.removeModel=Oe.prototype.QG=function(a){this.Xw.remove(a)};
Oe.prototype.startTransaction=Oe.prototype.Pb=function(a){a===m&&(a="");if(this.hb)return p;this.Dw===h&&(this.Dw=p,this.mk++,this.Bd("StartingFirstTransaction",a,this.El),0<this.mk&&this.mk--);this.isEnabled&&(this.ig.wa(),this.ig.add(a),this.ig.freeze(),this.El===m?this.Sm.add(0):this.Sm.add(this.El.ih.count));this.mk++;var b=1===this.Ik;b&&this.Bd("StartedTransaction",a);return b};Oe.prototype.commitTransaction=Oe.prototype.Vd=function(a){return cf(this,h,a)};
Oe.prototype.rollbackTransaction=Oe.prototype.js=function(){return cf(this,p,"")};
function cf(a,b,c){if(a.hb)return p;a.Xx&&1>a.Ik&&u.trace("Ending transaction without having started a transaction: "+c);var d=1===a.Ik;d&&(b&&a.isEnabled)&&a.Bd("CommittingTransaction",c,a.El);var e=0;if(0<a.Ik&&(a.mk--,a.isEnabled)){var g=a.ig.count;0<g&&(""===c&&(c=a.ig.R(0)),a.ig.wa(),a.ig.te(g-1),a.ig.freeze());g=a.Sm.count;0<g&&(e=a.Sm.R(g-1),a.Sm.te(g-1))}g=a.El;if(d){if(b){if(a.isEnabled&&g!==m){b=g;b.Rn=h;b.name=c;d=a.history;d.wa();for(e=d.count-1;e>a.dj;e--)g=d.R(e),g!==m&&g.clear(),d.te(e);
e=a.Ny;0===e&&(e=1);0<e&&d.count>=e&&(g=d.R(0),g!==m&&g.clear(),d.te(0),a.Oj--);d.add(b);a.Oj++;d.freeze();g=b}a.Bd("CommittedTransaction",c,g)}else{a.Jh=h;try{a.isEnabled&&g!==m&&(g.Rn=h,g.Jk())}finally{a.Bd("RolledBackTransaction",c,g),a.Jh=p}g!==m&&g.clear()}a.Us=m;return h}if(a.isEnabled&&!b&&g!==m){a=e;c=g.ih;c.wa();for(b=c.count-1;b>=a;b--)d=c.R(b),d!==m&&d.Jk(),c.te(b);c.freeze()}return p}
Oe.prototype.canUndo=Oe.prototype.rk=function(){if(!this.isEnabled||0<this.Ik||this.hb)return p;var a=this.VD;return a!==m&&a.rk()?h:p};Oe.prototype.undo=Oe.prototype.Jk=function(){if(this.rk()){var a=this.VD;try{this.Bd("StartingUndo","Undo",a),this.Jh=h,this.Oj--,a.Jk()}catch(b){u.trace("undo error: "+b.toString())}finally{this.Jh=p,this.Bd("FinishedUndo","Undo",a)}}};
Oe.prototype.canRedo=Oe.prototype.qk=function(){if(!this.isEnabled||0<this.Ik||this.hb)return p;var a=this.UD;return a!==m&&a.qk()?h:p};Oe.prototype.redo=Oe.prototype.mo=function(){if(this.qk()){var a=this.UD;try{this.Bd("StartingRedo","Redo",a),this.Jh=h,this.Oj++,a.mo()}catch(b){u.trace("redo error: "+b.toString())}finally{this.Jh=p,this.Bd("FinishedRedo","Redo",a)}}};
Oe.prototype.Bd=function(a,b,c){c===f&&(c=m);var d=new ye;d.Wc=ze;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.AG;a.next();)b=a.value,d.S=b,b.zu(d)};Oe.prototype.handleChanged=Oe.prototype.rC=function(a){if(this.isEnabled&&!this.hb&&!this.skipsEvent(a)){var b=this.El;b===m&&(this.Us=b=new bf);var c=a.copy(),b=b.ih;b.wa();b.add(c);b.freeze();this.Xx&&(0>=this.Ik&&!this.Dw)&&(a=a.b,a!==m&&a.$f===p||u.trace("Change not within a transaction: "+c.toString()))}};
Oe.prototype.skipsEvent=Oe.prototype.yK=function(a){if(a===m||0>a.Wc.value)return h;a=a.object;if(a instanceof Q){if(a=a.za,a!==m&&a.Yc)return h}else if(a instanceof df&&a.Yc)return h;return p};u.m(Oe,{AG:"models"},function(){return this.Xw.f});u.a(Oe,"isEnabled",Oe.prototype.isEnabled);u.defineProperty(Oe,{isEnabled:"isEnabled"},s("Ih"),ba("Ih"));u.m(Oe,{VD:"transactionToUndo"},function(){return 0<=this.dj&&this.dj<=this.history.count-1?this.history.R(this.dj):m});
u.m(Oe,{UD:"transactionToRedo"},function(){return this.dj<this.history.count-1?this.history.R(this.dj+1):m});u.m(Oe,{hb:"isUndoingRedoing"},s("Jh"));u.m(Oe,{history:"history"},s("tE"));u.a(Oe,"maxHistoryLength",Oe.prototype.Ny);u.defineProperty(Oe,{Ny:"maxHistoryLength"},s("nA"),ba("nA"));u.m(Oe,{dj:"historyIndex"},s("Oj"));u.m(Oe,{El:"currentTransaction"},s("Us"));u.m(Oe,{Ik:"transactionLevel"},s("mk"));u.m(Oe,{iG:"isInTransaction"},function(){return 0<this.mk});
u.defineProperty(Oe,{Xx:"checksTransactionLevel"},s("lw"),ba("lw"));u.m(Oe,{ZC:"nestedTransactionNames"},s("ig"));function wa(){this.N=m;this.Tz=this.Oz=p;this.ak=this.Hz=m}u.J("CommandHandler",wa);var ef=m,ff="";wa.prototype.toString=ca("CommandHandler");u.m(wa,{b:"diagram"},s("N"));wa.prototype.If=function(a){t&&a!==m&&u.c(a,B,wa,"setDiagram");this.N=a};
wa.prototype.doKeyDown=wa.prototype.jy=function(){var a=this.b;if(a!==m){var b=a.H,c=b.tk,d=b.shift,e=b.alt,g=b.key;c&&("C"===g||"Insert"===g)?this.canCopySelection()&&this.copySelection():c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():"Del"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&
this.undo():c&&"A"===g?this.canSelectAll()&&this.selectAll():c&&"P"===g?this.canPrint()&&this.print():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.Me&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.Me&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.Le&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.Le&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?a.Le?a.scroll("page","left"):!c&&a.Me&&a.scroll("page","up"):
"PageDown"===g?a.Le?a.scroll("page","right"):!c&&a.Me&&a.scroll("page","down"):"Home"===g?(b=a.nc,c&&a.Me?a.position=new E(a.position.x,b.y):!c&&a.Le&&(a.position=new E(b.x,a.position.y))):"End"===g?(b=a.nc,d=a.ub,c&&a.Me?a.position=new E(d.x,b.bottom-d.height):!c&&a.Le&&(a.position=new E(b.right-d.width,d.y))):"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():c&&!d&&"G"===g?this.canGroupSelection()&&
this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.bubbles=h}};wa.prototype.doKeyUp=wa.prototype.ky=function(){var a=this.b;a!==m&&(a.H.bubbles=h)};wa.prototype.stopCommand=wa.prototype.FK=function(){var a=this.b;if(a!==m){var b=a.xa;b instanceof gf&&a.Sd&&a.Zx();b!==m&&b.doCancel()}};wa.prototype.canStopCommand=wa.prototype.cI=ca(h);
wa.prototype.selectAll=wa.prototype.sK=function(){var a=this.b;if(a!==m)try{a.Cc="wait";a.la("ChangingSelection");for(var b=a.jj;b.next();)b.value.Ka=h;for(b=a.Bk;b.next();)b.value.Ka=h;for(b=a.links;b.next();)b.value.Ka=h}finally{a.la("ChangedSelection"),a.Cc=""}};wa.prototype.canSelectAll=wa.prototype.bI=function(){var a=this.b;return a!==m&&a.Sd};
wa.prototype.deleteSelection=wa.prototype.BI=function(){var a=this.b;if(a!==m&&!a.la("SelectionDeleting",a.selection))try{a.Cc="wait";a.Pb("Delete");a.la("ChangingSelection");for(var b=new ta(R),c=a.selection.f;c.next();)rf(b,c.value,h,this.SB,function(a){return a.canDelete()});this.deleteParts(b,h);a.la("SelectionDeleted",b)}finally{a.la("ChangedSelection"),a.Vd("Delete"),a.Cc=""}};
wa.prototype.canDeleteSelection=wa.prototype.MH=function(){var a=this.b;return a===m||(a.Ua||a.Yd)||!a.ok||0===a.selection.count?p:h};wa.prototype.deleteParts=wa.prototype.AF=function(a,b){for(var c=a.f;c.next();){var d=c.value;if(!b||d.canDelete()){var e=d.b;e!==m&&e.remove(d)}}};
function rf(a,b,c,d,e){if(!a.contains(b)&&(e===f&&(e=m),(e===m||e(b))&&!(b instanceof sf)))if(a.add(b),b instanceof U){if(c&&b instanceof tf)for(var g=b.sc;g.next();){var i=g.value;rf(a,i,c,d,e)}for(i=b.pe;i.next();)if(g=i.value,!a.contains(g)){var j=g.ja,k=g.na;j!==m&&a.contains(j)&&k!==m&&a.contains(k)?rf(a,g,c,d,e):(j===m||k===m)&&rf(a,g,c,d,e)}if(d){i=h;g=b.b;g!==m&&(i=g.Cf);for(b=i?b.Jn():b.In();b.next();)i=b.value,rf(a,i,c,d,e)}}else if(b instanceof V)for(i=b.oi;i.next();)rf(a,i.value,c,d,e)}
wa.prototype.copyParts=wa.prototype.tI=function(a,b,c){for(var d=new sa(R,R),a=a.f;a.next();)uf(this,a.value,b,d,c);if(b!==m){c=new ta(V);for(a=d.f;a.next();){var e=a.value;e instanceof V&&(e.ja===m||e.na===m)&&c.add(e)}0<c.count&&b.Ed.AF(c,p)}for(b=d.f;b.next();)b.value.tc();return d};
function uf(a,b,c,d,e){if(b===m||e&&!b.canCopy())return m;if(d.contains(b))return a=d.ga(b),a instanceof R?a:m;var g=m,i=b.data;if(i!==m&&c!==m){var j=c.S;b instanceof V?j instanceof P&&(i=j.DB(i),u.Ta(i)&&(j.gB(i),g=c.vg(i))):(i=j.Cn(i),u.Ta(i)&&(j.uu(i),g=c.vg(i)))}else vf(b),g=b.copy(),c!==m&&g instanceof R&&c.add(g);if(!(g instanceof R))return m;g.Ka=p;d.add(b,g);if(b instanceof U){for(j=b.pe;j.next();){i=j.value;if(i.ja===b){var k=d.ga(i);k!==m&&(k.ja=g)}i.na===b&&(k=d.ga(i),k!==m&&(k.na=g))}if(b instanceof
tf&&g instanceof tf)for(b=b.sc;b.next();)j=uf(a,b.value,c,d,e),!(j instanceof V)&&j!==m&&(j.Za=g)}else if(b instanceof V){j=b.ja;j!==m&&(j=d.ga(j),j!==m&&(g.ja=j));j=b.na;j!==m&&(j=d.ga(j),j!==m&&(g.na=j));for(b=b.oi;b.next();)j=uf(a,b.value,c,d,e),j!==m&&(j.oe=g)}return g}wa.prototype.copySelection=wa.prototype.vI=function(){var a=this.b;if(a!==m){for(var b=new ta(R),a=a.selection.f;a.next();)rf(b,a.value,h,this.CB,function(a){return a.canCopy()});this.copyToClipboard(b)}};
wa.prototype.canCopySelection=wa.prototype.IH=function(){var a=this.b;return a===m||(!a.Zh||!a.wu)||0===a.selection.count?p:h};wa.prototype.cutSelection=wa.prototype.yI=function(){this.copySelection();this.deleteSelection()};wa.prototype.canCutSelection=wa.prototype.JH=function(){var a=this.b;return a===m||(a.Ua||a.Yd)||(!a.Zh||!a.ok||!a.wu)||0===a.selection.count?p:h};
wa.prototype.copyToClipboard=wa.prototype.wI=function(a){var b=this.b;if(b!==m){var c=m;a===m?(ef=m,ff=""):(a=this.copyParts(a,m,h),c=new A(R),c.pg(a),ef=c,ff=b.S.Fl);b.la("ClipboardChanged",c)}};
wa.prototype.pasteFromClipboard=wa.prototype.aK=function(){var a=ef;if(a===m)return u.Of;var b=this.b;if(b===m||ff!==b.S.Fl)return u.Of;b=this.copyParts(a,b,p);a=new ta(R);for(b=b.f;b.next();){var c=b.value;c.location.ca()||(c.location=b.key.location.copy());c.position.ca()||(c.position=b.key.position.copy());a.add(c)}return a};
wa.prototype.pasteSelection=wa.prototype.bK=function(a){var b=this.b;if(b!==m)try{b.Cc="wait";b.Pb("Paste");b.la("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&wf(b);for(var d=c.f;d.next();)d.value.Ka=h;b.la("ChangedSelection");if(a instanceof E){var e=this.computeBounds(b.selection);if(e){var g=b.Xb.le,i=g.computeEffectiveCollection(b.selection);g.moveParts(i,new E(a.x-e.Da,a.y-e.Ea),p)}}b.la("ClipboardPasted",c)}finally{b.Vd("Paste"),b.Cc=""}};
wa.prototype.canPasteSelection=wa.prototype.VH=function(){var a=this.b;return a===m||(a.Ua||a.Yd)||(!a.tn||!a.wu)||ef===m||ff!==a.S.Fl?p:h};wa.prototype.computeBounds=wa.prototype.Oe=function(a){for(var b=m,a=a.f;a.next();){var c=a.value;c instanceof V||(c.ji(),b===m?b=c.pa:b.qj(c.pa))}return b};wa.prototype.undo=wa.prototype.Jk=function(){var a=this.b;a!==m&&a.ia.Jk()};wa.prototype.canUndo=wa.prototype.rk=function(){var a=this.b;return a===m||a.Ua||a.Yd?p:a.Ox&&a.ia.rk()};
wa.prototype.redo=wa.prototype.mo=function(){var a=this.b;a!==m&&a.ia.mo()};wa.prototype.canRedo=wa.prototype.qk=function(){var a=this.b;return a===m||a.Ua||a.Yd?p:a.Ox&&a.ia.qk()};wa.prototype.decreaseZoom=wa.prototype.wF=function(a){a===f&&(a=1/1.05);var b=this.b;b!==m&&(a*=b.scale,a<b.ij||a>b.hj||(b.scale=a,xf(b)))};wa.prototype.canDecreaseZoom=wa.prototype.KH=function(a){a===f&&(a=1/1.05);var b=this.b;if(b===m)return p;a*=b.scale;return a<b.ij||a>b.hj?p:b.tr};
wa.prototype.increaseZoom=wa.prototype.bG=function(a){a===f&&(a=1.05);var b=this.b;b!==m&&(a*=b.scale,a<b.ij||a>b.hj||(b.scale=a,xf(b)))};wa.prototype.canIncreaseZoom=wa.prototype.TH=function(a){a===f&&(a=1.05);var b=this.b;if(b===m)return p;a*=b.scale;return a<b.ij||a>b.hj?p:b.tr};wa.prototype.resetZoom=wa.prototype.nK=function(a){a===f&&(a=1);var b=this.b;if(b!==m&&!(a<b.ij||a>b.hj))b.scale=a,xf(b)};
wa.prototype.canResetZoom=wa.prototype.YH=function(a){a===f&&(a=1);var b=this.b;return b===m||a<b.ij||a>b.hj?p:b.tr};wa.prototype.collapseTree=wa.prototype.yr=function(a){a===f&&(a=m);var b=this.b;if(b===m)return p;b.Pb("Collapse Tree");var c=new A(U);if(a instanceof U&&a.Zd)a.yr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof U&&d.Zd&&(d.yr(),c.add(d))}b.la("TreeCollapsed",c);b.Vd("Collapse Tree")};
wa.prototype.canCollapseTree=wa.prototype.GH=function(a){a===f&&(a=m);var b=this.b;if(b===m||b.Ua)return p;if(a instanceof U){if(!a.Zd)return p;if(b.Cf){if(0<a.Jn().count)return h}else if(0<a.In().count)return h}else for(a=b.selection.f;a.next();){var c=a.value;if(c instanceof U&&c.Zd)if(b.Cf){if(0<c.Jn().count)return h}else if(0<c.In().count)return h}return p};
wa.prototype.expandTree=wa.prototype.Fr=function(a){a===f&&(a=m);var b=this.b;if(b===m)return p;b.Pb("Expand Tree");var c=new A(U);if(a instanceof U&&!a.Zd)a.Fr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof U&&!d.Zd&&(d.Fr(),c.add(d))}b.la("TreeExpanded",c);b.Vd("Expand Tree")};
wa.prototype.canExpandTree=wa.prototype.QH=function(a){a===f&&(a=m);var b=this.b;if(b===m||b.Ua)return p;if(a instanceof U){if(a.Zd)return p;if(b.Cf){if(0<a.Jn().count)return h}else if(0<a.In().count)return h}else for(a=b.selection.f;a.next();){var c=a.value;if(c instanceof U&&!c.Zd)if(b.Cf){if(0<c.Jn().count)return h}else if(0<c.In().count)return h}return p};
wa.prototype.groupSelection=wa.prototype.jJ=function(){var a=this.b;if(a!==m){var b=a.S;if(b!==m&&b instanceof P){var c=this.Px;if(c!==m)try{a.Cc="wait";a.Pb("Group");a.la("ChangingSelection");for(var d=new A(R),e=a.selection.f;e.next();){var g=e.value;(g instanceof U||g.constructor===R)&&g.canGroup()&&d.add(g)}for(var i=new A(R),j=d.f;j.next();){for(var k=j.value,g=p,e=d.f;e.next();)if(k.Ql(e.value)){g=h;break}g||i.add(k)}if(0<i.count){e=i.f;e.next();var l=e.value.Za;if(l!==m)for(;l!==m;){e=i.f;
e.next();for(d=p;e.next();)if(k=e.value,!k.Ql(l)){d=h;break}if(d)l=l.Za;else break}var n=m;if(c instanceof tf)vf(c),n=c.copy(),n instanceof tf&&a.add(n);else if(b.Ay(c)){var r=b.Cn(c);u.Ta(r)&&(b.uu(r),n=a.vg(r))}if(n instanceof tf){l!==m&&this.isValidMember(l,n)&&(n.Za=l);for(e=i.f;e.next();)k=e.value,this.isValidMember(n,k)&&(k.Za=n);a.select(n)}}a.la("ChangedSelection");a.la("SelectionGrouped",n)}finally{a.Vd("Group"),a.Cc=""}}}};
wa.prototype.canGroupSelection=wa.prototype.SH=function(){var a=this.b;if(a===m||a.Ua||a.Yd||!a.tn||!a.sn)return p;var b=a.S;if(b===m||!(b instanceof P)||this.Px===m)return p;for(a=a.selection.f;a.next();)if(b=a.value,(b instanceof U||b.constructor===R)&&b.canGroup())return h;return p};
wa.prototype.findUnnestedNodes=wa.prototype.qy=function(a){for(var b=[],a=a.f;a.next();){var c=a.value;c instanceof V||b.push(c)}for(var a=new ta(R),c=b.length,d=0;d<c;d++){for(var e=b[d],g=h,i=0;i<c;i++)if(e.Ql(b[i])){g=p;break}g&&a.add(e)}return a};
wa.prototype.isValidMember=wa.prototype.Gy=function(a,b){if(b===m||a===b||b instanceof V)return p;if(a!==m){if(a===b||a.Ql(b))return p;var c=a.$r;if(c!==m&&!c(a,b)||a.data===m&&b.data!==m||a.data!==m&&b.data===m)return p}c=this.$r;return c!==m?c(a,b):h};
wa.prototype.ungroupSelection=wa.prototype.KK=function(a){a===f&&(a=m);var b=this.b;if(b!==m){var c=b.S;if(c!==m&&c instanceof P)try{b.Cc="wait";b.Pb("Ungroup");b.la("ChangingSelection");var d=new A(tf);if(a instanceof tf)d.add(a);else for(var e=b.selection.f;e.next();){var g=e.value;g instanceof tf&&g.canUngroup()&&d.add(g)}if(0<d.count){b.Zx();for(e=d.f;e.next();){var i=e.value,j=i.data,k=i.Za,l=k!==m&&k.data!==m?c.gc(k.data):f,n=new A(R);n.pg(i.sc);for(var r=n.f;r.next();){var q=r.value;if(!(q instanceof
V)){var v=q.data;v!==m?c.hz(v,l):q.Za=k;q.Ka=h}}j!==m?c.mD(j):b.remove(i)}}b.la("ChangedSelection");b.la("SelectionUngrouped",d)}finally{b.Vd("Ungroup"),b.Cc=""}}};wa.prototype.canUngroupSelection=wa.prototype.eI=function(a){a===f&&(a=m);var b=this.b;if(b===m||b.Ua||b.Yd||!b.ok||!b.zn)return p;var c=b.S;if(c===m||!(c instanceof P))return p;if(a instanceof tf){if(a.canUngroup())return h}else for(a=b.selection.f;a.next();)if(b=a.value,b instanceof tf&&b.canUngroup())return h;return p};
wa.prototype.addTopLevelParts=wa.prototype.BH=function(a,b){for(var c=h,d=this.qy(a).f;d.next();){var e=d.value;e.Za!==m&&(!b||this.Gy(m,e)?e.Za=m:c=p)}return c};wa.prototype.collapseSubGraph=wa.prototype.xr=function(a){a===f&&(a=m);var b=this.b;if(b===m)return p;b.Pb("Collapse SubGraph");var c=new A(tf);if(a instanceof tf&&a.ne)a.xr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof tf&&d.ne&&(d.xr(),c.add(d))}b.la("SubGraphCollapsed",c);b.Vd("Collapse SubGraph")};
wa.prototype.canCollapseSubGraph=wa.prototype.FH=function(a){a===f&&(a=m);var b=this.b;if(b===m||b.Ua)return p;if(a instanceof tf)return!a.ne?p:h;for(a=b.selection.f;a.next();)if(b=a.value,b instanceof tf&&b.ne)return h;return p};
wa.prototype.expandSubGraph=wa.prototype.Er=function(a){a===f&&(a=m);var b=this.b;if(b===m)return p;b.Pb("Expand SubGraph");var c=new A(tf);if(a instanceof tf&&!a.ne)a.Er(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof tf&&!d.ne&&(d.Er(),c.add(d))}b.la("SubGraphExpanded",c);b.Vd("Expand SubGraph")};
wa.prototype.canExpandSubGraph=wa.prototype.PH=function(a){a===f&&(a=m);var b=this.b;if(b===m||b.Ua)return p;if(a instanceof tf)return a.ne?p:h;for(a=b.selection.f;a.next();)if(b=a.value,b instanceof tf&&!b.ne)return h;return p};
wa.prototype.editTextBlock=wa.prototype.LI=function(a){a===f&&(a=m);var b=this.b;if(b!==m&&b.Xb!==m){var c=b.Xb.wv;if(c!==m){if(a===m){for(var a=b.selection.f,d=m;a.next();){var e=a.value;if(e.canEdit()){d=e;break}}if(d===m)return;a=d.eC(function(a){return a instanceof ua&&a.Mu})}a!==m&&a instanceof ua&&(c.Mf=a,b.xa=c)}}};
wa.prototype.canEditTextBlock=wa.prototype.OH=function(a){a===f&&(a=m);var b=this.b;if(b===m||(b.Ua||b.Yd)||!b.yn||b.Xb===m||b.Xb.wv===m)return p;if(a instanceof ua){if(a=a.aa,a!==m&&a.canEdit())return h}else for(b=b.selection.f;b.next();)if(a=b.value,a.canEdit()&&(a=a.eC(function(a){return a instanceof ua&&a.Mu}),a!==m))return h;return p};wa.prototype.print=wa.prototype.print=aa();wa.prototype.canPrint=wa.prototype.mF=function(){var a=this.b;return a!==m&&a.un};u.a(wa,"copiesTree",wa.prototype.CB);
u.defineProperty(wa,{CB:"copiesTree"},s("Oz"),ba("Oz"));u.a(wa,"deletesTree",wa.prototype.SB);u.defineProperty(wa,{SB:"deletesTree"},s("Tz"),ba("Tz"));u.a(wa,"archetypeGroupData",wa.prototype.Px);
u.defineProperty(wa,{Px:"archetypeGroupData"},s("Hz"),function(a){a!==m&&u.c(a,Object,wa,"archetypeGroupData");var b=this.b;b!==m&&(b=b.S,b!==m&&!(a instanceof tf)&&!b.Ay(a)&&u.g("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a));this.Hz=a});u.a(wa,"memberValidation",wa.prototype.$r);u.defineProperty(wa,{$r:"memberValidation"},s("ak"),function(a){a!==m&&u.e(a,"function",wa,"memberValidation");this.ak=a});
function yf(){u.Qb(this);this.N=m;this.Bb="";this.Ih=h;this.fA=p;this.$A=m;this.ru=-1}u.J("Tool",yf);yf.prototype.If=function(a){t&&a!==m&&u.c(a,B,yf,"setDiagram");this.N=a};yf.prototype.toString=function(){return""!==this.name?this.name+" Tool":u.cj(Object.getPrototypeOf(this))};yf.prototype.updateAdornments=yf.prototype.ti=aa();yf.prototype.canStart=yf.prototype.vf=s("isEnabled");yf.prototype.doStart=yf.prototype.ly=aa();yf.prototype.doActivate=yf.prototype.ii=function(){this.V=h};
yf.prototype.doDeactivate=yf.prototype.vk=function(){this.V=p};yf.prototype.doStop=yf.prototype.Zi=aa();yf.prototype.doCancel=yf.prototype.Yi=function(){this.stopTool()};yf.prototype.stopTool=yf.prototype.GK=function(){var a=this.b;a!==m&&a.xa===this&&(a.xa=m,a.Cc="")};yf.prototype.doMouseDown=yf.prototype.Lu=function(){!this.V&&this.canStart()&&this.doActivate()};yf.prototype.doMouseMove=yf.prototype.mh=aa();yf.prototype.doMouseUp=yf.prototype.Re=function(){this.stopTool()};
yf.prototype.doMouseWheel=yf.prototype.FF=aa();yf.prototype.doKeyDown=yf.prototype.jy=function(){var a=this.b;a!==m&&"Esc"===a.H.key&&this.doCancel()};yf.prototype.doKeyUp=yf.prototype.ky=aa();yf.prototype.startTransaction=yf.prototype.Pb=function(a){this.xe=m;var b=this.b;return b===m?p:b.Pb(a)};yf.prototype.stopTransaction=yf.prototype.nj=function(){var a=this.b;return a===m?p:this.xe===m?a.js():a.Vd(this.xe)};
yf.prototype.standardMouseSelect=yf.prototype.dH=function(){var a=this.b;if(a!==m&&a.Sd){var b=a.H,c=a.Hr(b.D,h);c!==m?b.tk?(a.la("ChangingSelection"),c.Ka=!c.Ka,a.la("ChangedSelection")):b.shift?c.Ka||(a.la("ChangingSelection"),c.Ka=h,a.la("ChangedSelection")):c.Ka||a.select(c):b.left&&(!b.tk&&!b.shift)&&a.Zx()}};yf.prototype.standardMouseClick=yf.prototype.BK=function(a,b){a===f&&(a=m);b===f&&(b=function(a){return!a.za.Yc});var c=this.b;if(c!==m){var d=c.H,e=c.Xc(d.D,a,b);d.md=e;zf(e,d,c)}};
function zf(a,b,c){var d=0;b.left?d=1===b.Ne?1:2===b.Ne?2:1:b.right&&1===b.Ne&&(d=3);var e="";if(a!==m){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.la(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.la(e)}if(a!==m)for(;a!==m;){e=m;switch(d){case 1:e=a.click;break;case 2:e=a.Hl?a.Hl:a.click;break;case 3:e=a.zr}if(e!==m&&
(e(b,a),b.Fd))break;a=a.W}else{e=m;switch(d){case 1:e=c.click;break;case 2:e=c.Hl?c.Hl:c.click;break;case 3:e=c.zr}e!==m&&e(b)}}
yf.prototype.standardMouseOver=yf.prototype.CK=function(){var a=this.b;if(a!==m){var b=a.H,c=a.Xc(b.D,m,m);b.md=c;var d=a.tb;a.tb=h;var e=p;if(c!==a.qm){var g=a.qm;a.lx=g;a.qm=c;for(this.doCurrentObjectChanged(g,c);g!==m;){var i=g.Ry;if(i!==m){if(c===g)break;if(c!==m&&c.ni(g))break;i(b,g,c);e=h;if(b.Fd)break}g=g.W}for(g=a.lx;c!==m;){i=c.Qy;if(i!==m){if(g===c)break;if(g!==m&&g.ni(c))break;i(b,c,g);e=h;if(b.Fd)break}c=c.W}c=a.qm}if(c!==m){g=c;for(i="";g!==m;){i=g.cursor;if(""!==i)break;g=g.W}a.Cc=i;
for(g=c;g!==m;){i=g.ds;if(i!==m&&(i(b,g),e=h,b.Fd))break;g=g.W}}else a.Cc="",i=a.ds,i!==m&&(i(b),e=h);e&&a.update();a.tb=d}};yf.prototype.doCurrentObjectChanged=yf.prototype.EF=aa();
yf.prototype.standardMouseWheel=yf.prototype.DK=function(){var a=this.b;if(a!==m){var b=a.H,c=b.Wi;if(0!==c){var d=a.Xb.Tl;if(a.tr&&(d===Af&&!b.shift||d===Bf&&b.tk)){d=a.Mk;a.Mk=b.Fc;var e=a.Ed;e!==m?0<c?e.bG():e.wF():a.scale=0<c?1.05*a.scale:a.scale/1.05;a.Mk=d;b.bubbles=p}else if(d===Af&&b.shift||d===Bf&&!b.tk)d=a.position.copy(),!b.shift&&a.Me?0<c?a.scroll("line","up",3):a.scroll("line","down",3):b.shift&&a.Le&&(0<c?a.scroll("line","left",3):a.scroll("line","right",3)),a.position.z(d)||(b.bubbles=
p)}}};yf.prototype.standardWaitAfter=yf.prototype.EK=function(a){u.e(a,"number",yf,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.ru=window.setTimeout(function(){b.doWaitAfter()},a)};yf.prototype.cancelWaitAfter=yf.prototype.fI=function(){-1!==this.ru&&window.clearTimeout(this.ru);this.ru=-1};yf.prototype.doWaitAfter=yf.prototype.IF=aa();
yf.prototype.findToolHandleAt=yf.prototype.ZI=function(a,b){var c=this.b;if(c===m)return m;c=c.Xc(a,m,function(a){a=a.aa;return a===m?p:a.Rd!==m});if(c===m)return m;var d=c.aa;return d===m||d.td!==b?m:c};yf.prototype.isBeyondDragSize=yf.prototype.wJ=function(){var a=this.b;if(a===m)return p;var b=a.pc.Fc,a=a.H.Fc,c=2;u.tx&&(c+=4);return Math.abs(a.x-b.x)>c||Math.abs(a.y-b.y)>c};u.m(yf,{b:"diagram"},s("N"));u.a(yf,"name",yf.prototype.name);u.defineProperty(yf,{name:"name"},s("Bb"),ba("Bb"));
u.a(yf,"isEnabled",yf.prototype.isEnabled);u.defineProperty(yf,{isEnabled:"isEnabled"},s("Ih"),ba("Ih"));u.a(yf,"isActive",yf.prototype.V);u.defineProperty(yf,{V:"isActive"},s("fA"),ba("fA"));u.a(yf,"transactionResult",yf.prototype.xe);u.defineProperty(yf,{xe:"transactionResult"},s("$A"),ba("$A"));function Cf(a){this.ix=a!==f?a.copy():new E;this.LA=m}Cf.prototype.toString=function(){return this.ix.toString()};u.a(Cf,"point",Cf.prototype.vh);u.defineProperty(Cf,{vh:"point"},s("ix"),ba("ix"));
function Df(){yf.call(this);this.name="Dragging";this.Nz=h;this.cl=this.$z=p;this.Gw=(new L(NaN,NaN)).freeze();this.Hw=nc;this.Iw=(new E(NaN,NaN)).freeze();this.Xz=this.iA=p;this.Yz=this.Mz=this.Zz=this.Qz=m;this.gp=this.Wz=p;this.an=new E(NaN,NaN);this.Wh=new E;this.hu=p;this.du=h;this.um=100;this.Wk=this.St=m}u.J("DraggingTool",Df);u.va(Df,yf);u.a(Df,"copiesEffectiveCollection",Df.prototype.BB);u.defineProperty(Df,{BB:"copiesEffectiveCollection"},s("Nz"),ba("Nz"));u.a(Df,"dragsTree",Df.prototype.WB);
u.defineProperty(Df,{WB:"dragsTree"},s("$z"),ba("$z"));u.a(Df,"isGridSnapEnabled",Df.prototype.Sn);u.defineProperty(Df,{Sn:"isGridSnapEnabled"},s("cl"),function(a){this.cl!==a&&(u.e(a,"boolean",Df,"isGridSnapEnabled"),this.cl=a)});u.a(Df,"gridSnapCellSize",Df.prototype.vy);u.defineProperty(Df,{vy:"gridSnapCellSize"},s("Gw"),function(a){this.Gw.z(a)||(u.c(a,L,Df,"gridSnapCellSize"),this.Gw=a=a.F())});u.a(Df,"gridSnapCellSpot",Df.prototype.nC);
u.defineProperty(Df,{nC:"gridSnapCellSpot"},s("Hw"),function(a){this.Hw.z(a)||(u.c(a,K,Df,"gridSnapCellSpot"),this.Hw=a=a.F())});u.a(Df,"gridSnapOrigin",Df.prototype.oC);u.defineProperty(Df,{oC:"gridSnapOrigin"},s("Iw"),function(a){this.Iw.z(a)||(u.c(a,E,Df,"gridSnapOrigin"),this.Iw=a=a.F())});u.a(Df,"isDragSnapEnabled",Df.prototype.hG);u.defineProperty(Df,{hG:"isDragSnapEnabled"},s("iA"),ba("iA"));u.a(Df,"draggableLinks",Df.prototype.Il);u.defineProperty(Df,{Il:"draggableLinks"},s("Xz"),ba("Xz"));
u.a(Df,"currentPart",Df.prototype.Dl);u.defineProperty(Df,{Dl:"currentPart"},s("Qz"),ba("Qz"));u.a(Df,"copiedParts",Df.prototype.Bc);u.defineProperty(Df,{Bc:"copiedParts"},s("Mz"),ba("Mz"));u.a(Df,"draggedParts",Df.prototype.Lb);u.defineProperty(Df,{Lb:"draggedParts"},s("Zz"),ba("Zz"));u.a(Df,"draggedLink",Df.prototype.Kb);u.defineProperty(Df,{Kb:"draggedLink"},s("Yz"),ba("Yz"));u.a(Df,"dragOutStarted",Df.prototype.ny);u.defineProperty(Df,{ny:"dragOutStarted"},s("Wz"),ba("Wz"));u.a(Df,"delay",Df.prototype.Ju);
u.defineProperty(Df,{Ju:"delay"},s("um"),ba("um"));Df.prototype.canStart=Df.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m||!a.pk&&!a.Zh&&!a.xu||!a.Sd)return p;var b=a.H;return!b.left||a.xa!==this&&(!this.isBeyondDragSize()||window.TouchEvent&&(b.yi!==m&&b.yi instanceof window.TouchEvent)&&b.timestamp-a.pc.timestamp<this.um)?p:this.findDraggablePart()!==m};
Df.prototype.findDraggablePart=Df.prototype.RI=function(){var a=this.b;if(a===m)return m;a=a.Hr(a.pc.D,h);return a!==m&&(a.canMove()||a.canCopy())?a:m};Df.prototype.standardMouseSelect=Df.prototype.dH=function(){var a=this.b;if(a!==m&&a.Sd&&(this.Dl=a.Hr(a.pc.D,h),this.Dl!==m&&!this.Dl.Ka)){a.la("ChangingSelection");var b=a.H;!b.tk&&!b.shift&&wf(a);this.Dl.Ka=h;a.la("ChangedSelection")}};
Df.prototype.doActivate=Df.prototype.ii=function(){var a=this.b;if(a!==m){this.standardMouseSelect();var b=this.Dl;b===m||!b.canMove()&&!b.canCopy()||(this.V=h,this.an.set(a.position),Ef(this,a.selection),this.Wk=this.St=m,this.Lb=this.computeEffectiveCollection(a.selection),Ff(this,this.Lb),this.Pb("Drag"),this.Wh.set(a.pc.D),a.xu?(this.ny=h,this.gp=p,Gf=this,this.b.Oc=h):a.Oc=h)}};
function Ef(a,b){if(a.Il){var c=a.b;c!==m&&c.Qi&&(1===b.count?(c=b.f,c.next(),a.Kb=c.value,a.Kb!==m&&(a.Kb.canRelinkFrom()&&a.Kb.canRelinkTo())&&a.Kb.jh()):a.Kb=m)}}
Df.prototype.computeEffectiveCollection=Df.prototype.kI=function(a){var b=this.b!==m&&this.b.xa===this,c=new sa(R,Cf);if(a===m)return c;for(var d=a.f;d.next();){var e=d.value;Hf(this,c,e,b)}if(this.Kb!==m&&this.Il)return c;for(d=a.f;d.next();)e=d.value,e instanceof V&&(a=e,b=a.ja,b!==m&&!c.contains(b)?c.remove(a):(b=a.na,b!==m&&!c.contains(b)&&c.remove(a)));return c};
function Hf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof U){b.add(c,new Cf(c.location));if(c instanceof tf)for(var e=c.sc;e.next();){var g=e.value;Hf(a,b,g,d)}for(g=c.pe;g.next();)if(e=g.value,!b.contains(e)){var i=e.ja,j=e.na;i!==m&&(b.contains(i)&&j!==m&&b.contains(j))&&Hf(a,b,e,d)}if(a.WB){g=h;e=c.b;e!==m&&(g=e.Cf);for(c=g?c.Jn():c.In();c.next();)g=c.value,Hf(a,b,g,d)}}else if(c instanceof V){e=c;b.add(e,new Cf);for(g=e.oi;g.next();)Hf(a,b,g.value,d)}else c.constructor===
R&&b.add(c,new Cf(c.location))}Df.prototype.doStop=Df.prototype.Zi=function(){var a=this.b;a!==m&&If(a);Jf(this);Kf(this,this.Lb);this.Lb=m;this.gp=this.ny=p;if(0<Lf.count){for(var b=Lf.length,c=0;c<b;c++){var d=Lf.j[c];d.Kb!==m&&(d.Kb=m);Vf(d);Jf(d);d.b!==m&&If(d.b)}Lf.clear()}this.Kb!==m&&(this.Kb=m);this.an.ro(NaN,NaN);Gf=Wf=m;Vf(this);a.Oc=p;this.nj()};
function Jf(a){var b=a.b;if(b!==m){var c=b.tb;b.tb=h;for(var d=b.H,e=a.Wk;e!==m;){var g=e.Py;if(g!==m&&(g(d,e,m),d.Fd))break;e=e.W}b.tb=c}a.St=m;a.Wk=m}Df.prototype.doCancel=Df.prototype.Yi=function(){Vf(this);Xf(this);var a=this.b;a!==m&&this.an.ca()&&(a.position=this.an);this.stopTool()};function Ff(a,b){if(b!==m){a.hu=h;for(var c=b.f;c.next();){var d=c.key;d instanceof V&&(d.en=h)}}}
function Kf(a,b){if(b!==m&&a.hu){for(var c=b.f;c.next();){var d=c.key;d instanceof V&&(d.en=p,d.af===Yf?d.Vb():d.L())}a.hu=p}}Df.prototype.doKeyDown=Df.prototype.jy=function(){var a=this.b;a!==m&&(a=a.H,a!==m&&this.V&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};Df.prototype.doKeyUp=Df.prototype.ky=function(){var a=this.b;a!==m&&(a.H!==m&&this.V)&&this.doMouseMove()};
function Zf(a){for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,a=a.f;a.next();){var g=a.value;if(g instanceof U||g.constructor===R){var i=g.location,g=i.x,i=i.y;!isNaN(g)&&!isNaN(i)&&(g<b&&(b=g),i<c&&(c=i),g>d&&(d=g),i>e&&(e=i))}}return Infinity===b?new F(0,0,0,0):new F(b,c,d-b,e-c)}
function $f(a,b){if(a.Bc===m){var c=a.b;if(!(c===m||c.Ua||c.Yd)&&a.Lb!==m){c.tb=!b;c.sr=!b;Xf(a);a.Wh.set(c.pc.D);for(var c=a.BB?c.Ed.copyParts(a.Lb.pj(),c,h):c.Ed.copyParts(c.selection,c,h),d=c.f;d.next();)d.value.location=d.key.location.copy();d=Zf(c);new E(d.x+d.width/2,d.y+d.height/2);for(var d=new sa(R,Cf),e=a.Lb.f;e.next();){var g=e.key;if((g instanceof U||g.constructor===R)&&g.canCopy())g=c.ga(g),g!==m&&(g.ji(),d.add(g,new Cf(g.location)))}for(c=c.f;c.next();)e=c.value,e instanceof V&&e.canCopy()&&
d.add(e,new Cf);a.Bc=d;Ef(a,d.pj());a.Kb!==m&&(c=a.Kb,d=yb(c.sb),c.Ak(a.Wh.x-(d.x+d.width/2),a.Wh.y-(d.y+d.height/2)))}}}function Vf(a){var b=a.b;b!==m&&(a.Bc!==m&&(b.Ed.deleteParts(a.Bc.pj(),p),a.Bc=m),b.tb=p,b.sr=p,a.Wh.set(b.pc.D))}function ag(a,b){var c=a.b;if(c!==m){var d=a.Wh;a.moveParts(b,c.H.D.copy().rs(d),h)}}
Df.prototype.moveParts=Df.prototype.WJ=function(a,b,c){if(!(a===m||0===a.count)){var d=b.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);var e=this.hu;e||Ff(this,a);for(var g=new A,i=new A(Ya),j=a.f;j.next();){var k=j.key;if(k instanceof U||k.constructor===R){var l=bg(this,k,a);if(l!==m)g.add({th:k,info:j.value,YF:l});else if(!c||k.canMove()){var l=j.value.vh,n=this.computeMove(k,l.copy().add(d),a);k.location=n;j.value.LA=n.copy().rs(l)}}else j.key instanceof V&&i.add(j.ee)}for(c=g.f;c.next();)g=c.value,
l=g.info.vh,n=l.copy().add(g.YF.LA),g.th.location=n;for(i=i.f;i.next();)if(j=i.value,l=j.key,l instanceof V)if(l.en)if(c=l.ja,g=l.na,this.Kb!==m&&this.Il)j=j.value.vh,a.add(l,new Cf(d)),n=b.x-j.x,c=b.y-j.y,l.Ak(n,c);else{n=new E(0,0);if(c!==m){n.set(c.location);var r=a.ga(c);r!==m&&n.rs(r.vh)}k=new E(0,0);g!==m&&(k.set(g.location),r=a.ga(g),r!==m&&k.rs(r.vh));c!==m&&g!==m?n.ug(k)?(j=j.value.vh,c=n.copy(),c.rs(j),a.add(l,new Cf(n)),l.Ak(c.x,c.y)):(l.en=p,l.Vb()):(j=j.value.vh,a.add(l,new Cf(c!==m?
n:g!==m?k:b)),n=d.x-j.x,c=d.y-j.y,l.Ak(n,c))}else if(l.ja===m||l.na===m)j=j.value.vh,a.add(l,new Cf(b)),n=d.x-j.x,c=d.y-j.y,l.Ak(n,c);e||Kf(this,a)}};function bg(a,b,c){b=b.Za;if(b!==m){a=bg(a,b,c);if(a!==m)return a;a=c.ga(b);if(a!==m&&a instanceof Cf)return a}return m}
function Xf(a){if(a.Lb!==m){var b=a.b,c=p;b!==m&&(c=b.tb,b.tb=h);for(var d=a.Lb.f;d.next();){var e=d.key;if(e instanceof U||e.constructor===R)e.location=d.value.vh}for(d=a.Lb.f;d.next();)if(e=d.key,e instanceof V&&e.en){var g=d.value.vh;a.Lb.add(e,new Cf);e.Ak(-g.x,-g.y)}b!==m&&(b.tb=c,b.li())}}
Df.prototype.computeMove=Df.prototype.nI=function(a,b){if(a===m)return b;var c=b,c=b;if(this.Sn&&(c=b.copy(),a!==m)){var d=this.b;if(d!==m){var e=d.Wu,g=this.vy,d=g.width,g=g.height,i=this.oC,j=i.x,i=i.y,k=this.nC;if(e!==m){var l=e.Qr;isNaN(d)&&(d=l.width);isNaN(g)&&(g=l.height);e=e.uy;isNaN(j)&&(j=e.x);isNaN(i)&&(i=e.y)}e=(new E).$l(0,0,d,g,k);c=Bd(c.x,c.y,j+e.x,i+e.y,d,g)}}c=a.my!==m?a.my(a,b,c):c;g=a.VC;d=g.x;isNaN(d)&&(d=a.location.x);g=g.y;isNaN(g)&&(g=a.location.y);e=a.PC;j=e.x;isNaN(j)&&(j=
a.location.x);e=e.y;isNaN(e)&&(e=a.location.y);return new E(Math.max(d,Math.min(c.x,j)),Math.max(g,Math.min(c.y,e)))};function cg(a,b){if(b===m)return h;var c=b.aa;return c===m||c.Ka||c instanceof sf||c.za.Yc||a.Lb&&a.Lb.contains(c)||a.Bc&&a.Bc.contains(c)?h:p}
Df.prototype.dragOver=Df.prototype.GI=function(a,b,c){var d=this.b;if(d!==m){if(this.Il&&this.Kb!==m){var e=this.b.S;e instanceof P&&(this.Kb.ja!==m&&e.ns(this.Kb.data,""),this.Kb.na!==m&&e.os(this.Kb.data,""))}e=p;this.du===p&&(e=d.tb,d.tb=h);var g=p,i=this,j=dg(d,a,m,function(a){return!cg(i,a)}),k=d.H;k.md=j;var l=d.tb;d.tb=h;if(j!==this.Wk){var n=this.Wk;this.St=n;for(this.Wk=j;n!==m;){var r=n.Py;if(r!==m){if(j===n)break;if(j!==m&&j.ni(n))break;r(k,n,j);g=h;if(k.Fd)break}n=n.W}for(n=this.St;j!==
m;){r=j.WC;if(r!==m){if(n===j)break;if(n!==m&&n.ni(j))break;r(k,j,n);g=h;if(k.Fd)break}j=j.W}j=this.Wk}j===m&&(r=d.XC,r!==m&&(r(k),g=h));d.tb=l;g&&d.update();this.du===p&&(d.tb=e);if((d.Le||d.Me)&&(b||c))d.hw=d.vo(a),eg(d,d.hw).ug(d.position)?If(d):fg(d)}};
Df.prototype.dropOnto=Df.prototype.JI=function(a){var b=this.b;if(b!==m&&b.S!==m){var c=this;Jf(this);var d=dg(b,a,m,function(a){return!cg(c,a)}),a=b.H;a.md=d;if(d!==m)for(;d!==m;){var e=d.as;if(e!==m&&(e(a,d),a.Fd))break;d=d.W}else e=b.as,e!==m&&e(a);for(a=b.selection.f;a.next();)d=a.value,d instanceof U&&gg(b,d.pa)}};
Df.prototype.doMouseMove=Df.prototype.mh=function(){if(this.V){var a=this.b;if(a!==m&&this.Dl!==m&&this.Lb!==m){var b=p,c=p;this.mayCopy()?(b=h,$f(this,p),ag(this,this.Bc)):this.mayMove()?(c=h,Vf(this),ag(this,this.Lb)):Vf(this);this.dragOver(a.H.D,c,b);xf(a)}}};
Df.prototype.doMouseUp=Df.prototype.Re=function(){if(this.V){this.gp=h;var a=this.b;if(a!==m){var b=p,c=this.mayCopy();c&&this.Bc!==m?(Xf(this),Vf(this),$f(this,h),ag(this,this.Bc),this.Bc!==m&&a.ez(this.Bc.pj())):(b=h,Vf(this),this.mayMove()&&(ag(this,this.Lb),this.du=p,this.dragOver(a.H.D,h,p),this.du=h));this.dropOnto(a.H.D);if(this.V){this.Bc=m;if(b&&this.Lb!==m)for(b=this.Lb.f;b.next();){var d=b.key;d instanceof U&&(d=d.Za,d!==m&&d.placeholder!==m&&!this.Lb.contains(d)&&d.ey&&d.L())}a.li();Kf(this,
this.Lb);this.xe=c?"Copy":"Move";a.la(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};Df.prototype.mayCopy=Df.prototype.PJ=function(){var a=this.b;if(a===m||(a.Ua||a.Yd||!a.tn||!a.Zh)||!a.H.tk)return p;for(a=a.selection.f;a.next();){var b=a.value;if((b instanceof U||b.constructor===R)&&b.canCopy())return h}return this.Kb!==m&&this.Il&&this.Kb.canCopy()?h:p};
Df.prototype.mayMove=Df.prototype.RJ=function(){var a=this.b;if(a===m||a.Ua||!a.pk)return p;for(a=a.selection.f;a.next();){var b=a.value;if((b instanceof U||b.constructor===R)&&b.canMove())return h}return this.Kb!==m&&this.Il&&this.Kb.canMove()?h:p};var Lf=new A(Df),Gf=m,Wf=m;Df.prototype.mayCopyExternal=Df.prototype.QJ=function(){var a=this.b;return a===m||(!a.kB||a.Ua||a.Yd||!a.tn)||a.S===m?p:h};
Df.prototype.doSimulatedDragEnter=Df.prototype.TB=function(){this.mayCopyExternal()&&(Lf.contains(this)||Lf.add(this))};Df.prototype.doSimulatedDragLeave=Df.prototype.UB=function(){Vf(this);var a=this.b;a!==m&&(a.xa!==this&&this.an.ca())&&(a.position=this.an)};Df.prototype.doSimulatedDragOver=Df.prototype.GF=function(){if(this.mayCopyExternal()){var a=this.b;if(a!==m){var b=Gf;b!==m&&b.Lb!==m&&(hg(this,b.Lb.pj(),p),ag(this,this.Bc),a.ez(this.Bc.pj()),this.dragOver(a.H.D,p,h),xf(a))}}};
Df.prototype.doSimulatedDrop=Df.prototype.HF=function(){var a=Gf;if(a!==m&&(a.gp=h,Vf(this),this.mayCopyExternal())){var b=this.b;b!==m&&(this.Pb("Drop"),hg(this,a.Lb.pj(),h),ag(this,this.Bc),this.Bc!==m&&b.ez(this.Bc.pj()),this.xe="ExternalCopy",this.dropOnto(b.H.D),this.Bc=m,b.la("ExternalObjectsDropped",b.selection),this.nj(),b.li())}};
function hg(a,b,c){if(a.Bc===m){var d=a.b;if(!(d===m||d.Ua||d.Yd)&&d.S!==m){d.tb=!c;d.sr=!c;a.Wh.set(d.H.D);for(var d=d.Ed.copyParts(b,d,h),c=Zf(b),e=new E(c.x+c.width/2,c.y+c.height/2),g=a.Wh,c=new sa(R,Cf),b=b.f;b.next();){var i=b.value;if((i instanceof U||i.constructor===R)&&i.canCopy()){var j=i.location,i=d.ga(i);i.location=new E(g.x-(e.x-j.x),g.y-(e.y-j.y));i.ji();c.add(i,new Cf(i.location))}}for(d=d.f;d.next();)e=d.value,e instanceof V&&e.canCopy()&&c.add(e,new Cf);a.Bc=c;Ef(a,c.pj());a.Kb!==
m&&(c=a.Kb,d=yb(c.sb),c.Ak(a.Wh.x-(d.x+d.width/2),a.Wh.y-(d.y+d.height/2)))}}}
function ig(){yf.call(this);this.jx=100;this.Gx=p;var a=new V;a.po="PATH";var b=new W;b.fj=h;b.name="PATH";b.stroke="blue";a.add(b);b=new W;b.em="Standard";b.fill="blue";a.add(b);a.Id="Tool";this.zx=a;a=new U;b=new W;b.se="";b.$a="Rectangle";b.fill=m;b.stroke="magenta";b.Wa=2;b.ta=new L(1,1);a.add(b);a.Ek=p;a.Id="Tool";this.xx=a;this.yx=b;a=new U;b=new W;b.se="";b.$a="Rectangle";b.fill=m;b.stroke="magenta";b.Wa=2;b.ta=new L(1,1);a.add(b);a.Ek=p;a.Id="Tool";this.Ax=a;this.Bx=b;this.hx=this.gx=this.dx=
this.cx=this.ex=m;this.ht=h;this.FE=new sa(Q,"boolean");this.mA=this.wx=m}u.J("LinkingBaseTool",ig);u.va(ig,yf);ig.prototype.doStop=ig.prototype.Zi=function(){this.Hf=this.$e=this.Gf=this.Ze=this.Nb=m;this.yv.clear();this.ue=m};u.a(ig,"portGravity",ig.prototype.eD);u.defineProperty(ig,{eD:"portGravity"},s("jx"),function(a){this.jx!==a&&(t&&u.e(a,"number",ig,"portGravity"),this.jx=a)});u.a(ig,"validUnconnectedLinks",ig.prototype.wo);
u.defineProperty(ig,{wo:"validUnconnectedLinks"},s("Gx"),function(a){this.Gx!==a&&(t&&u.e(a,"boolean",ig,"validUnconnectedLinks"),this.Gx=a)});u.a(ig,"temporaryLink",ig.prototype.yh);u.defineProperty(ig,{yh:"temporaryLink"},s("zx"),function(a){this.zx!==a&&(t&&u.c(a,V,ig,"temporaryLink"),this.zx=a)});u.a(ig,"temporaryFromNode",ig.prototype.ve);u.defineProperty(ig,{ve:"temporaryFromNode"},s("xx"),function(a){this.xx!==a&&(t&&u.c(a,U,ig,"temporaryFromNode"),this.xx=a)});u.a(ig,"temporaryFromPort",ig.prototype.cm);
u.defineProperty(ig,{cm:"temporaryFromPort"},s("yx"),function(a){this.yx!==a&&(t&&u.c(a,Q,ig,"temporaryFromPort"),this.yx=a)});u.a(ig,"temporaryToNode",ig.prototype.we);u.defineProperty(ig,{we:"temporaryToNode"},s("Ax"),function(a){this.Ax!==a&&(t&&u.c(a,U,ig,"temporaryToNode"),this.Ax=a)});u.a(ig,"temporaryToPort",ig.prototype.dm);u.defineProperty(ig,{dm:"temporaryToPort"},s("Bx"),function(a){this.Bx!==a&&(t&&u.c(a,Q,ig,"temporaryToPort"),this.Bx=a)});u.a(ig,"originalLink",ig.prototype.Nb);
u.defineProperty(ig,{Nb:"originalLink"},s("ex"),function(a){this.ex!==a&&(t&&a!==m&&u.c(a,V,ig,"originalLink"),this.ex=a)});u.a(ig,"originalFromNode",ig.prototype.Ze);u.defineProperty(ig,{Ze:"originalFromNode"},s("cx"),function(a){this.cx!==a&&(t&&a!==m&&u.c(a,U,ig,"originalFromNode"),this.cx=a)});u.a(ig,"originalFromPort",ig.prototype.Gf);u.defineProperty(ig,{Gf:"originalFromPort"},s("dx"),function(a){this.dx!==a&&(t&&a!==m&&u.c(a,Q,ig,"originalFromPort"),this.dx=a)});u.a(ig,"originalToNode",ig.prototype.$e);
u.defineProperty(ig,{$e:"originalToNode"},s("gx"),function(a){this.gx!==a&&(t&&a!==m&&u.c(a,U,ig,"originalToNode"),this.gx=a)});u.a(ig,"originalToPort",ig.prototype.Hf);u.defineProperty(ig,{Hf:"originalToPort"},s("hx"),function(a){this.hx!==a&&(t&&a!==m&&u.c(a,Q,ig,"originalToPort"),this.hx=a)});u.m(ig,{Hd:"isForwards"},s("ht"));u.m(ig,{yv:"validPortsCache"},s("FE"));u.a(ig,"targetPort",ig.prototype.ue);
u.defineProperty(ig,{ue:"targetPort"},s("wx"),function(a){this.wx!==a&&(t&&a!==m&&u.c(a,Q,ig,"targetPort"),this.wx=a)});ig.prototype.copyPortProperties=ig.prototype.uI=function(a,b,c,d,e){a===m||(b===m||c===m||d===m)||(d.ta=b.pa.size,e?(d.cb=b.cb,d.Hk=b.Hk):(d.ab=b.ab,d.wk=b.wk),c.Df=qc,c.location=b.Db(qc),d.Va=b.Nn(),c.zf())};ig.prototype.setNoTargetPortProperties=ig.prototype.uK=function(a,b){b!==m&&(b.ta=new L(1,1),b.ab=hc,b.cb=hc);a!==m&&(a.location=this.b.H.D)};
ig.prototype.doMouseMove=ig.prototype.mh=function(){if(this.V){var a=this.b;if(a!==m){this.ue=this.findTargetPort(this.Hd);if(this.ue!==m){var b=this.ue.aa;if(b instanceof U){this.Hd?this.copyPortProperties(b,this.ue,this.we,this.dm,h):this.copyPortProperties(b,this.ue,this.ve,this.cm,p);xf(a);return}}this.Hd?this.setNoTargetPortProperties(this.we,this.dm):this.setNoTargetPortProperties(this.ve,this.cm);xf(a)}}};
ig.prototype.findValidLinkablePort=ig.prototype.aJ=function(a,b){if(a===m)return m;var c=a.aa;if(!(c instanceof U))return m;for(;a!==m;){var d=b?a.qz:a.ry;if(d===h&&(a.se!==m||a instanceof U)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(d===p)break;a=a.W}return m};
ig.prototype.findTargetPort=ig.prototype.WI=function(a){for(var b=this.b,c=b.H.D,d=this.eD,e=this,g=b.Ln(c,d,function(b){return e.findValidLinkablePort(b,a)},m),b=d*d,d=m,g=g.f;g.next();){var i=g.value,j=i.aa;if(j instanceof U){var k=i.Db(qc),l=c.x-k.x,k=c.y-k.y,l=l*l+k*k;l<b&&(k=this.yv.ga(i),k!==m?k&&(d=i,b=l):a&&this.isValidLink(this.Ze,this.Gf,j,i)||!a&&this.isValidLink(j,i,this.$e,this.Hf)?(this.yv.add(i,h),d=i,b=l):this.yv.add(i,p))}}return d!==m&&(c=d.aa,c instanceof U&&(c.za===m||c.za.xl))?
d:m};ig.prototype.isValidFrom=ig.prototype.CJ=function(a,b){if(a===m||b===m)return this.wo;if(this.b.xa===this&&(a.za!==m&&!a.za.xl||b.ry!==h))return p;var c=b.iC;if(Infinity>c){if(this.Nb!==m&&a===this.Ze&&b===this.Gf)return h;var d=b.se;d===m&&(d="");if(a.Gr(d).count>=c)return p}return h};
ig.prototype.isValidTo=ig.prototype.FJ=function(a,b){if(a===m||b===m)return this.wo;if(this.b.xa===this&&(a.za!==m&&!a.za.xl||b.qz!==h))return p;var c=b.QD;if(Infinity>c){if(this.Nb!==m&&a===this.$e&&b===this.Hf)return h;var d=b.se;d===m&&(d="");if(a.Se(d).count>=c)return p}return h};ig.prototype.isInSameNode=ig.prototype.yJ=function(a,b){if(a===m||b===m)return p;if(a===b)return h;var c=a.aa,d=b.aa;return c!==m&&c===d};
ig.prototype.isLinked=ig.prototype.AJ=function(a,b){if(a===m||b===m)return p;var c=a.aa;if(!(c instanceof U))return p;var d=a.se;d===m&&(d="");var e=b.aa;if(!(e instanceof U))return p;var g=b.se;g===m&&(g="");for(e=e.Se(g);e.next();)if(g=e.value,g.ja===c&&g.qh===d)return h;return p};
ig.prototype.isValidLink=ig.prototype.DJ=function(a,b,c,d){return!this.isValidFrom(a,b)||!this.isValidTo(c,d)||b!==m&&d!==m&&((!b.hC||!d.PD)&&this.isInSameNode(b,d)||(!b.gC||!d.OD)&&this.isLinked(b,d))||this.Nb!==m&&(a!==m&&a.Ql(this.Nb)||c!==m&&c.Ql(this.Nb))||a!==m&&c!==m&&(a.data===m&&c.data!==m||a.data!==m&&c.data===m)||!jg(this,a,c,this.Nb)?p:this.Ly!==m?this.Ly(a,b,c,d,this.Nb):h};
function jg(a,b,c,d){if(b===m||c===m)return p;var e=a.b.cE;if(e!==kg){if(e===lg){for(e=c.pe;e.next();){var g=e.value;if(g!==d&&g.na===c)return p}return!sg(a,b,c,d)}if(e===tg){for(e=b.pe;e.next();)if(g=e.value,g!==d&&g.ja===b)return p;return!sg(a,b,c,d)}if(e===ug)return b===c?a=h:(e=new ta(U),e.add(c),a=vg(a,e,b,c,d)),!a;if(e===wg)return!sg(a,b,c,d);if(e===xg)return b===c?a=h:(e=new ta(U),e.add(c),a=yg(a,e,b,c,d)),!a}return h}
function sg(a,b,c,d){if(b===c)return h;if(b===m||c===m)return p;for(var e=b.pe;e.next();){var g=e.value;if(g!==d&&g.na===b&&(g=g.ja,g!==b&&sg(a,g,c,d)))return h}return p}function vg(a,b,c,d,e){if(c===d)return h;if(c===m||d===m||b.contains(c))return p;b.add(c);for(var g=c.pe;g.next();){var i=g.value;if(i!==e&&i.na===c&&(i=i.ja,i!==c&&vg(a,b,i,d,e)))return h}return p}
function yg(a,b,c,d,e){if(c===d)return h;if(c===m||d===m||b.contains(c))return p;b.add(c);for(var g=c.pe;g.next();){var i=g.value;if(i!==e){var j=i.ja,i=i.na,j=j===c?i:j;if(j!==c&&yg(a,b,j,d,e))return h}}return p}u.a(ig,"linkValidation",ig.prototype.Ly);u.defineProperty(ig,{Ly:"linkValidation"},s("mA"),function(a){a!==m&&u.e(a,"function",ig,"linkValidation");this.mA=a});function ya(){ig.call(this);this.name="Linking";this.fw={};this.ew=m;this.T=zg;this.rx=this.qx=m}u.J("LinkingTool",ya);u.va(ya,ig);
var zg;ya.Either=zg=u.l(ya,"Either",0);var Ag;ya.ForwardsOnly=Ag=u.l(ya,"ForwardsOnly",0);var Bg;ya.BackwardsOnly=Bg=u.l(ya,"BackwardsOnly",0);u.a(ya,"archetypeLinkData",ya.prototype.mB);u.defineProperty(ya,{mB:"archetypeLinkData"},s("fw"),function(a){this.fw!==a&&(a!==m&&u.c(a,Object,ya,"archetypeLinkData"),this.fw=a)});u.a(ya,"archetypeLabelNodeData",ya.prototype.lB);
u.defineProperty(ya,{lB:"archetypeLabelNodeData"},s("ew"),function(a){if(this.ew!==a){a!==m&&u.c(a,Object,ya,"archetypeLabelNodeData");var b=this.b;b!==m&&(b=b.S,b!==m&&!(a instanceof U)&&!b.Ey(a)&&u.g("CommandHandler.archetypeLabelNodeData must be either a Node or a data object for which GraphLinksModel.isLinkLabelForNodeData is true: "+a));this.ew=a}});u.a(ya,"direction",ya.prototype.direction);
u.defineProperty(ya,{direction:"direction"},s("T"),function(a){this.T!==a&&(t&&u.Ya(a,ya,ya,"direction"),this.T=a)});u.a(ya,"startObject",ya.prototype.kz);u.defineProperty(ya,{kz:"startObject"},s("qx"),function(a){this.qx!==a&&(t&&a!==m&&u.c(a,Q,ya,"startObject"),this.qx=a)});u.m(ya,{uv:"startPort"},s("rx"));
ya.prototype.canStart=ya.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m||(a.Ua||a.Yd)||!a.xl)return p;var b=a.S;return b===m||!(b instanceof P)||!a.H.left||a.xa!==this&&!this.isBeyondDragSize()?p:this.findLinkablePort()!==m};
ya.prototype.findLinkablePort=ya.prototype.SI=function(){var a=this.b;if(a===m)return m;var b=this.kz;b===m&&(b=a.Xc(a.pc.D,m,m));if(b===m||!(b.aa instanceof U))return m;var c=this.direction;if(c===zg||c===Ag)if(a=this.findValidLinkablePort(b,p),a!==m)return this.ht=h,a;if(c===zg||c===Bg)if(a=this.findValidLinkablePort(b,h),a!==m)return this.ht=p,a;return m};
ya.prototype.doActivate=ya.prototype.ii=function(){var a=this.b;if(a!==m&&(this.uv===m&&(this.rx=this.findLinkablePort()),this.uv!==m)){this.Pb(this.name);a.Oc=h;a.Cc="hand";a.add(this.ve);a.add(this.we);if(this.Hd){this.Gf=this.uv;var b=this.Gf.aa;b instanceof U&&(this.Ze=b);this.copyPortProperties(this.Ze,this.Gf,this.ve,this.cm,p)}else this.Hf=this.uv,b=this.Hf.aa,b instanceof U&&(this.$e=b),this.copyPortProperties(this.$e,this.Hf,this.we,this.dm,h);this.yh&&(this.ve!==m&&(this.yh.ja=this.ve),
this.we!==m&&(this.yh.na=this.we),a.add(this.yh));this.V=h}};ya.prototype.doDeactivate=ya.prototype.vk=function(){this.V=p;var a=this.b;a!==m&&(a.remove(this.yh),a.remove(this.ve),a.remove(this.we),a.Oc=p,a.Cc="",this.nj())};ya.prototype.doStop=ya.prototype.Zi=function(){ig.prototype.Zi.call(this);this.kz=this.rx=m};
ya.prototype.doMouseUp=ya.prototype.Re=function(){if(this.V){var a=this.b;if(a===m)return;var b=this.xe=m,c=m,d=m,e=m,g=this.ue=this.findTargetPort(this.Hd),i=m;g!==m?(i=g.aa,i instanceof U&&(this.Hd?(this.Ze!==m&&(b=this.Ze,c=this.Gf),d=i,e=g):(b=i,c=g,this.$e!==m&&(d=this.$e,e=this.Hf)))):this.Hd?this.Ze!==m&&this.wo&&(b=this.Ze,c=this.Gf):this.$e!==m&&this.wo&&(d=this.$e,e=this.Hf);if(b!==m||d!==m)b=this.insertLink(b,c,d,e),b!==m?(g===m&&(this.Hd?b.yF=a.H.D:b.xF=a.H.D),a.Sd&&a.select(b),this.xe=
this.name,a.la("LinkDrawn",b)):a.S.uB()}this.stopTool()};
ya.prototype.insertLink=ya.prototype.sJ=function(a,b,c,d){var e=this.b;if(e===m)return m;var g=e.S;if(g===m||!(g instanceof P))return m;b===m&&(b=a);b=b.se;b===m&&(b="");d===m&&(d=c);var i=d.se;i===m&&(i="");d=this.mB;if(d instanceof V){if(vf(d),g=d.copy(),g instanceof V)return g.ja=a,g.qh=b,g.na=c,g.ri=i,e.add(g),g}else if(d!==m&&(d=g.DB(d),u.Ta(d)))return g.rv(d,g.gc(a.data)),g.ns(d,b),g.sv(d,g.gc(c.data)),g.os(d,i),g.gB(d),a=this.lB,a!==m&&g.Ey(a)&&(a=g.Cn(a),u.Ta(a)&&(g.uu(a),a=g.gc(a),a!==f&&
g.fB(d,a))),g=e.bj(d);return m};function Cg(){ig.call(this);this.name="Relinking";var a=new W;a.$a="Diamond";a.ta=new L(8,8);a.fill="cyan";a.cursor="pointer";a.wh=0;this.bA=a;a=new W;a.$a="Diamond";a.ta=new L(8,8);a.fill="cyan";a.cursor="pointer";a.wh=-1;this.XA=a;this.cc=m;this.zA=new F}u.J("RelinkingTool",Cg);u.va(Cg,ig);
Cg.prototype.updateAdornments=Cg.prototype.ti=function(a){if(a instanceof V){var b=m,c="RelinkFrom";if(a.Ka){var d=a.oo;d!==m&&(a.ib()&&a.canRelinkFrom()&&d.zk()&&d.pa.ca())&&(b=a.Hn(c),b===m&&(b=this.makeAdornment(d,p),b.td=c),b!==m&&b.L());a.nn(c,b)}else a.Zl(c);b=m;c="RelinkTo";a.Ka?(d=a.oo,d!==m&&(a.ib()&&a.canRelinkTo()&&d.zk()&&d.pa.ca())&&(b=a.Hn(c),b===m&&(b=this.makeAdornment(d,h),b.td=c),b!==m&&b.L()),a.nn(c,b)):a.Zl(c)}};
Cg.prototype.makeAdornment=Cg.prototype.My=function(a,b){var c=new sf;c.type=Dg;var d=b?this.iH:this.TF;d!==m&&c.add(d.copy());c.Rd=a;return c};u.defineProperty(Cg,{TF:"fromHandleArchetype"},s("bA"),function(a){a&&u.c(a,Q,Cg,"fromHandleArchetype");this.bA=a});u.defineProperty(Cg,{iH:"toHandleArchetype"},s("XA"),function(a){a&&u.c(a,Q,Cg,"toHandleArchetype");this.XA=a});u.m(Cg,{handle:"handle"},s("cc"));
Cg.prototype.canStart=Cg.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m||(a.Ua||a.Yd)||!a.Qi)return p;var b=a.S;if(b===m||!(b instanceof P)||!a.H.left)return p;b=this.findToolHandleAt(a.pc.D,"RelinkFrom");b===m&&(b=this.findToolHandleAt(a.pc.D,"RelinkTo"));return b!==m};
Cg.prototype.doActivate=Cg.prototype.ii=function(){var a=this.b;if(a!==m){var b=this.findToolHandleAt(a.pc.D,"RelinkFrom");b===m&&(b=this.findToolHandleAt(a.pc.D,"RelinkTo"));if(b!==m){var c=b.aa;c instanceof sf&&c.rn instanceof V&&(this.cc=b,this.Pb(this.name),a.Oc=h,a.Cc="hand",this.ht=c===m||"RelinkTo"===c.td,this.Nb=c.rn,this.Gf=this.Nb.Nc,this.Ze=this.Nb.ja,this.Hf=this.Nb.wd,this.$e=this.Nb.na,this.zA=this.Nb.pa,a.add(this.ve),a.add(this.we),this.Hd?this.copyPortProperties(this.Ze,this.Gf,this.ve,
this.cm,h):this.copyPortProperties(this.$e,this.Hf,this.we,this.dm,p),this.Nb!==m&&0<this.Nb.da&&(this.Ze===m&&(this.cm!==m&&(this.cm.ta=new L(0,0)),this.ve!==m&&(this.ve.location=this.Nb.h(0))),this.$e===m&&(this.dm!==m&&(this.dm.ta=new L(0,0)),this.we!==m&&(this.we.location=this.Nb.h(this.Nb.da-1)))),this.yh!==m&&(this.ve!==m&&(this.yh.ja=this.ve),this.we!==m&&(this.yh.na=this.we),a.add(this.yh)),this.V=h)}}};
Cg.prototype.doDeactivate=Cg.prototype.vk=function(){this.V=p;var a=this.b;a!==m&&(a.remove(this.yh),a.remove(this.ve),a.remove(this.we),a.Oc=p,a.Cc="",this.nj())};Cg.prototype.doStop=Cg.prototype.Zi=function(){ig.prototype.Zi.call(this);this.cc=m};
Cg.prototype.doMouseUp=Cg.prototype.Re=function(){if(this.V){var a=this.b;if(a===m)return;this.xe=m;var b=this.Ze,c=this.Gf,d=this.$e,e=this.Hf,g=this.Nb;this.ue=this.findTargetPort(this.Hd);if(this.ue!==m){var i=this.ue.aa;i instanceof U&&(this.Hd?(d=i,e=this.ue):(b=i,c=this.ue))}else this.wo?this.Hd?e=d=m:c=b=m:g=m;g!==m&&(this.reconnectLink(g,this.Hd?d:b,this.Hd?e:c,this.Hd),this.ue===m&&(this.Hd?g.yF=a.H.D:g.xF=a.H.D,g.Vb()),a.Sd&&(g.Ka=h),this.xe=this.name,a.la("LinkRelinked",g,this.Hd?this.Hf:
this.Gf));Eg(this.Nb,this.zA)}this.stopTool()};Cg.prototype.reconnectLink=Cg.prototype.gK=function(a,b,c,d){var e=this.b;if(e===m)return p;var g=b!==m?b.data:m,g=g!==m?e.S.gc(g):f,c=c.se!==m?c.se:"",a=a.data;if(a!==m&&g!==f){b=e.S;if(b===m||!(b instanceof P))return p;d?(b.sv(a,g),b.os(a,c)):(b.rv(a,g),b.ns(a,c))}else d?(this.Nb.na=b,this.Nb.ri=c):(this.Nb.ja=b,this.Nb.qh=c);return h};
function Jg(){yf.call(this);this.name="LinkReshaping";var a=new W;a.$a="Rectangle";a.ta=new L(6,6);a.fill="cyan";this.Nj=a;this.fx=this.BA=this.cw=this.cc=m}u.J("LinkReshapingTool",Jg);u.va(Jg,yf);var Og;Jg.None=Og=u.l(Jg,"None",0);var Pg;Jg.Horizontal=Pg=u.l(Jg,"Horizontal",1);var Qg;Jg.Vertical=Qg=u.l(Jg,"Vertical",2);var Rg;Jg.All=Rg=u.l(Jg,"All",3);
Jg.prototype.updateAdornments=Jg.prototype.ti=function(a){if(a instanceof V){var b=m;if(a.Ka){var c=a.path;c!==m&&(a.ib()&&a.canReshape()&&c.zk()&&c.pa.ca())&&(b=a.Hn(this.name),b===m&&(b=this.makeAdornment(c),b.td=this.name),b!==m&&(b.location=a.position,b.L()));a.nn(this.name,b)}else a.Zl(this.name)}};
Jg.prototype.makeAdornment=Jg.prototype.My=function(a){var b=new sf;b.type=Dg;var c=a.aa,d=c.da,e=Sg(c);if(c.sb!==m&&2<d){for(var d=c.Ru,g=c.Iy,i=d+1;i<=g-1;i++){var j=this.makeHandle(a,i);if(j!==m){j.wh=i;if(i!==d)if(i===d+1&&e){var k=c.h(d),l=c.h(d+1);nb(k.x,l.x)&&nb(k.y,l.y)&&(l=c.h(d-1));nb(k.x,l.x)?(j.no=Qg,j.cursor="n-resize"):nb(k.y,l.y)&&(j.no=Pg,j.cursor="w-resize")}else i===g-1&&e?(k=c.h(g-1),l=c.h(g),nb(k.x,l.x)&&nb(k.y,l.y)&&(k=c.h(g+1)),nb(k.x,l.x)?(j.no=Qg,j.cursor="n-resize"):nb(k.y,
l.y)&&(j.no=Pg,j.cursor="w-resize")):i!==g&&(j.no=Rg,j.cursor="move");b.add(j)}}b.Rd=a}return b};Jg.prototype.makeHandle=Jg.prototype.uG=function(){var a=this.Rr;return a===m?m:a.copy()};u.defineProperty(Jg,{Rr:"handleArchetype"},s("Nj"),function(a){a&&u.c(a,Q,Jg,"handleArchetype");this.Nj=a});u.m(Jg,{handle:"handle"},s("cc"));u.m(Jg,{qn:"adornedLink"},s("cw"));
Jg.prototype.canStart=Jg.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;return a===m||a.Ua||!a.vn?p:this.findToolHandleAt(a.pc.D,this.name)!==m};Jg.prototype.doActivate=Jg.prototype.ii=function(){var a=this.b;if(a!==m&&(this.cc=this.findToolHandleAt(a.pc.D,this.name),this.cc!==m)){var b=this.cc.aa.rn;b instanceof V&&(this.cw=b,a.Oc=h,this.BA=b.h(this.cc.wh),this.fx=b.sb.copy(),this.Pb(this.name),this.V=h)}};
Jg.prototype.doDeactivate=Jg.prototype.vk=function(){this.nj();this.fx=this.BA=this.cw=this.cc=m;var a=this.b;a!==m&&(a.Oc=p);this.V=p};Jg.prototype.doCancel=Jg.prototype.Yi=function(){var a=this.qn;a!==m&&(a.sb=this.fx);this.stopTool()};Jg.prototype.doMouseMove=Jg.prototype.mh=function(){var a=this.b;this.V&&a!==m&&(a=this.computeReshape(a.H.D),this.reshape(a))};
Jg.prototype.doMouseUp=Jg.prototype.Re=function(){var a=this.b;if(this.V&&a!==m){var b=this.computeReshape(a.H.D);this.reshape(b);b=this.qn;b!==m&&(b.sb=this.qn.sb);a.li();this.xe=this.name;a.la("LinkReshaped",this.qn)}this.stopTool()};
Jg.prototype.reshape=Jg.prototype.oK=function(a){var b=this.qn;b.Gk();var c=this.handle.wh,d=this.handle.no;if(Sg(b))if(c===b.Ru+1)c=b.Ru+1,d==Qg?(b.A(c,new E(b.h(c-1).x,a.y)),b.A(c+1,new E(b.h(c+2).x,a.y))):d==Pg&&(b.A(c,new E(a.x,b.h(c-1).y)),b.A(c+1,new E(a.x,b.h(c+2).y)));else if(c===b.Iy-1)c=b.Iy-1,d===Qg?(b.A(c-1,new E(b.h(c-2).x,a.y)),b.A(c,new E(b.h(c+1).x,a.y))):d===Pg&&(b.A(c-1,new E(a.x,b.h(c-2).y)),b.A(c,new E(a.x,b.h(c+1).y)));else{var d=c,e=b.h(d),g=b.h(d-1),i=b.h(d+1);nb(g.x,e.x)&&
nb(e.y,i.y)?(nb(g.x,b.h(d-2).x)&&!nb(g.y,b.h(d-2).y)?(e=b.sb,e.rc(d,new E(a.x,g.y)),b.sb=e,c++,d++):b.A(d-1,new E(a.x,g.y)),nb(i.y,b.h(d+2).y)&&!nb(i.x,b.h(d+2).x)?(e=b.sb,e.rc(d+1,new E(i.x,a.y)),b.sb=e):b.A(d+1,new E(i.x,a.y))):nb(g.y,e.y)&&nb(e.x,i.x)?(nb(g.y,b.h(d-2).y)&&!nb(g.x,b.h(d-2).x)?(e=b.sb,e.rc(d,new E(g.x,a.y)),b.sb=e,c++,d++):b.A(d-1,new E(g.x,a.y)),nb(i.x,b.h(d+2).x)&&!nb(i.y,b.h(d+2).y)?(e=b.sb,e.rc(d+1,new E(a.x,i.y)),b.sb=e):b.A(d+1,new E(a.x,i.y))):nb(g.x,e.x)&&nb(e.x,i.x)?(nb(g.x,
b.h(d-2).x)&&!nb(g.y,b.h(d-2).y)?(e=b.sb,e.rc(d,new E(a.x,g.y)),b.sb=e,c++,d++):b.A(d-1,new E(a.x,g.y)),nb(i.x,b.h(d+2).x)&&!nb(i.y,b.h(d+2).y)?(e=b.sb,e.rc(d+1,new E(a.x,i.y)),b.sb=e):b.A(d+1,new E(a.x,i.y))):nb(g.y,e.y)&&nb(e.y,i.y)&&(nb(g.y,b.h(d-2).y)&&!nb(g.x,b.h(d-2).x)?(e=b.sb,e.rc(d,new E(g.x,a.y)),b.sb=e,c++,d++):b.A(d-1,new E(g.x,a.y)),nb(i.y,b.h(d+2).y)&&!nb(i.x,b.h(d+2).x)?(e=b.sb,e.rc(d+1,new E(i.x,a.y)),b.sb=e):b.A(d+1,new E(i.x,a.y)));b.A(c,a.copy())}else b.A(c,a.copy());b.ei()};
Jg.prototype.computeReshape=Jg.prototype.oI=function(a){var b=this.qn,c=this.handle.wh;switch(this.handle.no){case Rg:return a;case Qg:return b=b.h(c),new E(b.x,a.y);case Pg:return b=b.h(c),new E(a.x,b.y);default:case Og:return b.h(c)}};
function Tg(){yf.call(this);this.name="Resizing";this.Ad=(new L(1,1)).freeze();this.Gi=(new L(9999,9999)).freeze();this.vi=(new L(NaN,NaN)).freeze();this.cl=p;this.Aa=m;var a=new W;a.Pi=qc;a.$a="Rectangle";a.ta=new L(6,6);a.fill="cyan";a.stroke="black";a.Wa=1;a.cursor="pointer";this.Nj=a;this.cc=m;this.pq=0;this.xE=new F;this.bx=new L;this.AA=new E;this.Cw=new L(0,0);this.Bw=new L(Infinity,Infinity);this.Aw=new L(1,1)}u.J("ResizingTool",Tg);u.va(Tg,yf);
Tg.prototype.updateAdornments=Tg.prototype.ti=function(a){if(!(a===m||a instanceof V)){var b=m;if(a.Ka){var c=a.SG;if(c!==m&&(a.ib()&&a.canResize()&&c.zk()&&c.pa.ca())&&(b=a.Hn(this.name),b===m&&(b=this.makeAdornment(c),b.td=this.name),b!==m)){var d=c.Nn();b.Va=d;b.location=c.Db(nc);var e=b.placeholder;if(e!==m){var g=c.Ll(),c=c.qa;e.ta=new L(c.width*g,c.height*g)}Ug(this,b,d)}a.nn(this.name,b)}else a.Zl(this.name)}};
Tg.prototype.makeAdornment=Tg.prototype.My=function(a){var b=m,b=a.aa.qD;if(b===m){b=new sf;b.type=Vg;var c=new Wg;c.fj=h;b.add(c);b.add(this.makeHandle(a,nc));b.add(this.makeHandle(a,pc));b.add(this.makeHandle(a,vc));b.add(this.makeHandle(a,tc));b.add(this.makeHandle(a,wc));b.add(this.makeHandle(a,Ac));b.add(this.makeHandle(a,Bc));b.add(this.makeHandle(a,xc))}else if(vf(b),b=b.copy(),!(b instanceof sf))return m;b.Rd=a;return b};
Tg.prototype.makeHandle=Tg.prototype.uG=function(a,b){var c=this.Rr;if(c===m)return m;c=c.copy();c.vb=b;return c};
function Ug(a,b,c){if(b!==m)if(!gc(b.vb)&&""!==b.cursor)a:{a=b.vb;fc(a)&&(a=qc);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof w)for(b=b.elements;b.next();)Ug(a,b.value,c)}
u.defineProperty(Tg,{Rr:"handleArchetype"},s("Nj"),function(a){a&&u.c(a,Q,Tg,"handleArchetype");this.Nj=a});u.m(Tg,{handle:"handle"},s("cc"));u.m(Tg,{Rd:"adornedObject"},s("Aa"));Tg.prototype.canStart=Tg.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;return a===m||a.Ua||!a.wn||!a.H.left?p:this.findToolHandleAt(a.pc.D,this.name)!==m?h:p};
Tg.prototype.doActivate=Tg.prototype.ii=function(){var a=this.b;a!==m&&(this.cc=this.findToolHandleAt(a.pc.D,this.name),this.cc!==m&&(this.Aa=this.cc.aa.Rd,this.pq=this.Aa.Va,this.xE.set(this.Aa.qa),this.AA.set(this.Aa.aa.location),this.bx.set(this.Aa.ta),this.Aw=this.computeCellSize(),this.Cw=this.computeMinSize(),this.Bw=this.computeMaxSize(),a.Oc=h,this.Pb(this.name),this.V=h))};Tg.prototype.doDeactivate=Tg.prototype.vk=function(){var a=this.b;a!==m&&(this.nj(),this.Aa=this.cc=m,this.V=a.Oc=p)};
Tg.prototype.doCancel=Tg.prototype.Yi=function(){this.Aa.ta=this.bx;this.Aa.aa.location=this.AA;this.stopTool()};Tg.prototype.doMouseMove=Tg.prototype.mh=function(){var a=this.b;if(this.V&&a!==m){var b=this.Cw,c=this.Bw,d=this.Aw,e=this.Aa.lC(a.H.D),g=this.Aa.Mn;g===Xg&&(g=this.Aa.Ba.Rb);b=this.computeResize(e,this.cc.vb,b,c,d,!(g===Yg||g===Zg||a.H.shift));this.resize(b);$g(a)}};
Tg.prototype.doMouseUp=Tg.prototype.Re=function(){var a=this.b;if(this.V&&a!==m){var b=this.Cw,c=this.Bw,d=this.Aw,e=this.Aa.lC(a.H.D),g=this.Aa.Mn;g===Xg&&(g=this.Aa.Ba.Rb);b=this.computeResize(e,this.cc.vb,b,c,d,!(g===Yg||g===Zg||a.H.shift));this.resize(b);a.li();this.xe=this.name;a.la("PartResized",this.Aa,this.bx)}this.stopTool()};
Tg.prototype.resize=Tg.prototype.pK=function(a){var b=this.b;if(b!==m){var c=this.Aa.aa,d=c.position.copy(),e=this.Aa.qa.copy(),g=this.Aa.Nn();360<=g?g-=360:0>g&&(g+=360);var i=Math.PI*g/180,j=Math.cos(i),i=Math.sin(i),k=a.width-e.width,e=a.height-e.height,l=90<g&&270>g?1:0;d.x+=(a.x+k*l)*j-(a.y+e*(0<g&&180>g?1:0))*i;d.y+=(a.x+k*(180<g&&360>g?1:0))*i+(a.y+e*l)*j;this.Aa.ta=a.size;c.ji();c.position=d;xf(b)}};
Tg.prototype.computeResize=Tg.prototype.pI=function(a,b,c,d,e,g){fc(b)&&(b=qc);var i=this.Aa.qa,j=i.x,k=i.y,l=i.x+i.width,n=i.y+i.height,r=1;if(!g){var r=i.width,q=i.height;0>=r&&(r=1);0>=q&&(q=1);r=q/r}a=Bd(a.x,a.y,j,k,e.width,e.height);e=i.copy();0>=b.x?0>=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.y=Math.max(a.y,n-d.height),e.y=Math.min(e.y,n-c.height),e.height=Math.max(n-e.y,c.height),g||(a=e.height/e.width,r<a?(e.height=r*e.width,e.y=n-e.height):
(e.width=e.height/r,e.x=l-e.width))):1<=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,r<a?e.height=r*e.width:(e.width=e.height/r,e.x=l-e.width))):(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=l-e.x,g||(e.height=r*e.width,e.y=k+0.5*(n-k-e.height))):1<=b.x?0>=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.y=Math.max(a.y,n-d.height),e.y=Math.min(e.y,
n-c.height),e.height=Math.max(n-e.y,c.height),g||(a=e.height/e.width,r<a?(e.height=r*e.width,e.y=n-e.height):e.width=e.height/r)):1<=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,r<a?e.height=r*e.width:e.width=e.height/r)):(e.width=Math.max(Math.min(a.x-j,d.width),c.width),g||(e.height=r*e.width,e.y=k+0.5*(n-k-e.height))):0>=b.y?(e.y=Math.max(a.y,n-d.height),e.y=Math.min(e.y,n-c.height),e.height=n-e.y,g||(e.width=
e.height/r,e.x=j+0.5*(l-j-e.width))):1<=b.y&&(e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(e.width=e.height/r,e.x=j+0.5*(l-j-e.width)));return e};Tg.prototype.computeMinSize=Tg.prototype.mI=function(){var a=this.Aa.$d.copy(),b=this.$d;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
Tg.prototype.computeMaxSize=Tg.prototype.lI=function(){var a=this.Aa.Jd.copy(),b=this.Jd;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
Tg.prototype.computeCellSize=Tg.prototype.jI=function(){var a=new L(NaN,NaN),b=this.Aa.aa;if(b){var c=b.rD;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.sk;isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width);isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height);b=this.b;if((isNaN(a.width)||isNaN(a.height))&&b)c=b.Xb.le,c!==m&&c.Sn&&(c=c.vy,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&
(!isNaN(c.height)&&0<c.height)&&(a.height=c.height)),b=b.Wu,b!==m&&(b.visible&&this.Sn)&&(c=b.Qr,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};u.a(Tg,"minSize",Tg.prototype.$d);
u.defineProperty(Tg,{$d:"minSize"},s("Ad"),function(a){this.Ad.z(a)||(t&&u.c(a,L,Tg,"minSize"),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),this.Ad.Xa(a))});u.a(Tg,"maxSize",Tg.prototype.Jd);u.defineProperty(Tg,{Jd:"maxSize"},s("Gi"),function(a){this.Gi.z(a)||(t&&u.c(a,L,Tg,"maxSize"),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),this.Gi.Xa(a))});u.a(Tg,"cellSize",Tg.prototype.sk);
u.defineProperty(Tg,{sk:"cellSize"},s("vi"),function(a){this.vi.z(a)||(t&&u.c(a,L,Tg,"cellSize"),this.vi.Xa(a))});u.a(Tg,"isGridSnapEnabled",Tg.prototype.Sn);u.defineProperty(Tg,{Sn:"isGridSnapEnabled"},s("cl"),function(a){this.cl!==a&&(u.e(a,"boolean",Tg,"isGridSnapEnabled"),this.cl=a)});
function ah(){yf.call(this);this.name="Rotating";this.px=45;this.ox=2;this.Aa=m;var a=new W;a.$a="Ellipse";a.ta=new L(6,6);a.fill="yellow";a.stroke="black";a.Wa=1;a.cursor="pointer";this.Nj=a;this.cc=m;this.pq=0;this.FA=new E}u.J("RotatingTool",ah);u.va(ah,yf);
ah.prototype.updateAdornments=ah.prototype.ti=function(a){if(!(a===m||a instanceof V)){var b=m;if(a.Ka){var c=a.WG;if(c!==m&&(a.ib()&&a.canRotate()&&c.zk()&&c.pa.ca())&&(b=a.Hn(this.name),b===m&&(b=this.makeAdornment(c),b.td=this.name),b!==m)){b.Va=c.Nn();var d=m,e=m;c===a||c===a.Eb?(d=a.Eb,e=a.Df):(d=c,e=qc);for(var g=d.qa,e=new E(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);d!==m&&d!==c;)d.transform.Fb(e),d=d.W;d=e.y;e=Math.max(e.x-c.qa.width,0);b.Df=qc;b.location=c.Db(new K(1,0,50+e,d))}a.nn(this.name,
b)}else a.Zl(this.name)}};ah.prototype.makeAdornment=ah.prototype.My=function(a){var b=m,b=a.aa.vD;if(b===m){b=new sf;b.type=bh;var c=this.Rr;c!==m&&b.add(c.copy())}else if(vf(b),b=b.copy(),!(b instanceof sf))return m;b.Rd=a;return b};u.defineProperty(ah,{Rr:"handleArchetype"},s("Nj"),function(a){a&&u.c(a,Q,ah,"handleArchetype");this.Nj=a});u.m(ah,{handle:"handle"},s("cc"));u.m(ah,{Rd:"adornedObject"},s("Aa"));
ah.prototype.canStart=ah.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;return a===m||a.Ua||!a.xn||!a.H.left?p:this.findToolHandleAt(a.pc.D,this.name)!==m?h:p};ah.prototype.doActivate=ah.prototype.ii=function(){var a=this.b;if(a!==m&&(this.cc=this.findToolHandleAt(a.pc.D,this.name),this.cc!==m)){this.Aa=this.cc.aa.Rd;var b=this.Aa.aa,c=b.Eb;this.FA=this.Aa===b||this.Aa===c?c.Db(b.Df):this.Aa.Db(qc);this.pq=this.Aa.Va;a.Oc=h;this.Pb(this.name);this.V=h}};
ah.prototype.doDeactivate=ah.prototype.vk=function(){var a=this.b;a!==m&&(this.nj(),this.Aa=this.cc=m,this.V=a.Oc=p)};ah.prototype.doCancel=ah.prototype.Yi=function(){this.rotate(this.pq);this.stopTool()};ah.prototype.doMouseMove=ah.prototype.mh=function(){var a=this.b;this.V&&a!==m&&(a=this.computeRotate(a.H.D),this.rotate(a))};
ah.prototype.doMouseUp=ah.prototype.Re=function(){var a=this.b;if(this.V&&a!==m){var b=this.computeRotate(a.H.D);this.rotate(b);a.li();this.xe=this.name;a.la("PartRotated",this.Aa,this.pq)}this.stopTool()};ah.prototype.rotate=ah.prototype.rotate=function(a){this.Aa!==m&&(this.Aa.Va=a,xf(this.b))};
ah.prototype.computeRotate=ah.prototype.qI=function(a){var a=this.FA.gi(a),b=this.Aa.W;b&&(a-=b.Nn(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.JD),180),c=Math.min(Math.abs(this.ID),b/2);!this.b.H.shift&&(0<b&&0<c)&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};u.a(ah,"snapAngleMultiple",ah.prototype.JD);
u.defineProperty(ah,{JD:"snapAngleMultiple"},s("px"),function(a){this.px!==a&&(t&&u.e(a,"number",ah,"snapAngleMultiple"),this.px=a)});u.a(ah,"snapAngleEpsilon",ah.prototype.ID);u.defineProperty(ah,{ID:"snapAngleEpsilon"},s("ox"),function(a){this.ox!==a&&(t&&u.e(a,"number",ah,"snapAngleEpsilon"),this.ox=a)});function ch(){yf.call(this);this.name="ClickSelecting"}u.J("ClickSelectingTool",ch);u.va(ch,yf);
ch.prototype.canStart=ch.prototype.vf=function(){return!this.isEnabled||this.b===m||this.isBeyondDragSize()?p:h};ch.prototype.doMouseUp=ch.prototype.Re=function(){this.V&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function dh(){yf.call(this);this.name="Action";this.im=m}u.J("ActionTool",dh);u.va(dh,yf);
dh.prototype.canStart=dh.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m)return p;var b=a.H,c=a.Xc(b.D,function(a){for(;a.W!==m;){if(a.Yu)return a;a=a.W}return m},function(a){return a.Yu});return c!==m?(this.im=c,a.qm=a.Xc(b.D,m,m),h):p};dh.prototype.doMouseDown=dh.prototype.Lu=function(){if(this.V){var a=this.b.H,b=this.im;b!==m&&(a.md=b,b.Kx!==m&&b.Kx(a,b))}else this.canStart()&&this.doActivate()};
dh.prototype.doMouseMove=dh.prototype.mh=function(){if(this.V){var a=this.b.H,b=this.im;b!==m&&(a.md=b,b.Lx!==m&&b.Lx(a,b))}};dh.prototype.doMouseUp=dh.prototype.Re=function(){if(this.V){var a=this.b,b=a.H,c=this.im;if(c===m)return;b.md=c;c.Mx!==m&&c.Mx(b,c);this.isBeyondDragSize()||zf(c,b,a)}this.stopTool()};dh.prototype.doCancel=dh.prototype.Yi=function(){var a=this.b;if(a!==m){var a=a.H,b=this.im;if(b===m)return;a.md=b;b.Jx!==m&&b.Jx(a,b)}this.stopTool()};
dh.prototype.doStop=dh.prototype.Zi=function(){this.im=m};function za(){yf.call(this);this.name="ClickCreating";this.gw=m;this.Nw=h}u.J("ClickCreatingTool",za);u.va(za,yf);za.prototype.canStart=za.prototype.vf=function(){if(!this.isEnabled||this.Qx===m)return p;var a=this.b;if(a===m||(a.Ua||a.Yd)||!a.tn||!a.H.left||this.isBeyondDragSize())return p;if(this.AC){if(2!==a.H.Ne)return p}else if(1!==a.H.Ne)return p;return a.xa!==this&&a.Hr(a.H.D,h)!==m?p:h};
za.prototype.doMouseUp=za.prototype.Re=function(){var a=this.b;this.V&&a!==m&&this.insertPart(a.H.D);this.stopTool()};za.prototype.insertPart=za.prototype.tJ=function(a){var b=this.b;if(b!==m){var c=this.Qx;if(c!==m){this.Pb(this.name);var d=m;c instanceof U||c.constructor===R?(vf(c),d=c.copy(),d instanceof R&&b.add(d)):c!==m&&(c=b.S.Cn(c),u.Ta(c)&&(b.S.uu(c),d=b.vg(c)));d instanceof R&&(d.location=a,b.Sd&&b.select(d));b.li();this.xe=this.name;b.la("PartCreated",d);this.nj()}}};
u.a(za,"archetypeNodeData",za.prototype.Qx);u.defineProperty(za,{Qx:"archetypeNodeData"},s("gw"),function(a){this.gw!==a&&(a!==m&&u.c(a,Object,za,"archetypeNodeData"),this.gw=a)});u.a(za,"isDoubleClick",za.prototype.AC);u.defineProperty(za,{AC:"isDoubleClick"},s("Nw"),function(a){this.Nw!==a&&(u.e(a,"boolean",za,"isDoubleClick"),this.Nw=a)});
function eh(){yf.call(this);this.name="ContextMenu";this.Pz=m;this.qA=new E;this.tm=m;if(u.tx===h){this.tm=new sf;this.sw=m;var a=this;this.YA=function(){a.stopTool()};if(u.Sz===p){var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
var d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 6px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();
return p},p);b.addEventListener("selectstart",function(a){a.preventDefault();return p},p);c.addEventListener("contextmenu",function(a){a.preventDefault();return p},p);document.body&&(document.body.appendChild(b),document.body.appendChild(c));u.Ms=b;u.Ls=c;u.Sz=h}}}u.J("ContextMenuTool",eh);u.va(eh,yf);eh.prototype.canStart=eh.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;return a===m||this.isBeyondDragSize()||!a.H.right?p:this.tm!==m||this.findObjectWithContextMenu()!==m?h:p};
eh.prototype.doStart=eh.prototype.ly=function(){var a=this.b;a!==m&&this.qA.set(a.pc.D)};eh.prototype.doStop=eh.prototype.Zi=function(){this.hideDefaultContextMenu();this.hideContextMenu()};eh.prototype.findObjectWithContextMenu=eh.prototype.UI=function(){var a=this.b;if(a===m)return m;var b=a.Xc(a.H.D,m,function(a){return!a.za.Yc});if(b!==m){for(a=b;a!==m;){var c=a.contextMenu;if(c!==m)return a;a=a.W}if(this.tm!==m)return b.aa}else if(c=a.contextMenu,c!==m)return a;return m};
eh.prototype.doActivate=eh.prototype.ii=aa();eh.prototype.doMouseDown=eh.prototype.Lu=function(){this.V&&fh(this,p)};eh.prototype.doMouseUp=eh.prototype.Re=function(){!this.V&&this.canStart()&&(this.V=h);fh(this,h)};
function fh(a,b){if(a.ke===m){a.standardMouseSelect();var c=a.findObjectWithContextMenu();if(c!==m){var d=c.contextMenu;d!==m?a.showContextMenu(d,c instanceof Q?c:m):a.showDefaultContextMenu()}else a.showDefaultContextMenu()}else c=a.b,d=c.Xc(c.H.D,m,m),d!==m&&d.ni(a.ke)?(a.standardMouseClick(m,m),a.stopTool()):(a.stopTool(),b?c.xa.doMouseUp():c.xa.doMouseDown())}eh.prototype.doMouseMove=eh.prototype.mh=function(){this.V&&this.standardMouseOver()};
eh.prototype.showContextMenu=eh.prototype.vK=function(a,b){u.c(a,sf,eh,"showContextMenu:contextmenu");b!==m&&u.c(b,Q,eh,"showContextMenu:obj");var c=this.b;if(c!==m){a!==this.ke&&this.hideContextMenu();a.Id="Tool";a.Ek=p;c.add(a);if(b!==m){var d=m,e=b.Jr();e!==m&&(d=e.data);a.Rd=b;a.data=d}else a.data=c.S;a.ji();this.positionContextMenu(a,b);this.ke=a;xf(c)}};
eh.prototype.positionContextMenu=eh.prototype.dK=function(a){var b=this.b;if(b!==m){var c=b.H.D.copy(),d=a.ua,b=b.ub;c.x+d.width>b.right&&(c.x-=d.width+5);c.y+d.height>b.bottom&&(c.y-=d.height+5);a.position=c}};eh.prototype.hideContextMenu=eh.prototype.lJ=function(){var a=this.b;a!==m&&this.ke!==m&&(this.ke.data=m,this.ke.Rd=m,a.remove(this.ke),this.ke=m,this.standardMouseOver(),xf(a))};
eh.prototype.initializeDefaultButtons=eh.prototype.pJ=function(){if(this.b===m)return m;var a=new A,b=this.b.Ed;a.add({text:"Copy",wf:function(){b.copySelection()},visible:function(){return b.canCopySelection()}});a.add({text:"Cut",wf:function(){b.cutSelection()},visible:function(){return b.canCutSelection()}});a.add({text:"Delete",wf:function(){b.deleteSelection()},visible:function(){return b.canDeleteSelection()}});a.add({text:"Paste",wf:function(a){b.pasteSelection(a.H.D)},visible:function(){return b.canPasteSelection()}});
a.add({text:"Select All",wf:function(){b.selectAll()},visible:function(){return b.canSelectAll()}});a.add({text:"Undo",wf:function(){b.undo()},visible:function(){return b.canUndo()}});a.add({text:"Redo",wf:function(){b.redo()},visible:function(){return b.canRedo()}});a.add({text:"Zoom Out",wf:function(){b.decreaseZoom()},visible:function(){return b.canDecreaseZoom()}});a.add({text:"Zoom In",wf:function(){b.increaseZoom()},visible:function(){return b.canIncreaseZoom()}});a.add({text:"Reset Zoom",wf:function(){b.resetZoom()},
visible:function(){return b.canResetZoom()}});a.add({text:"Group Selection",wf:function(){b.groupSelection()},visible:function(){return b.canGroupSelection()}});a.add({text:"Ungroup Selection",wf:function(){b.ungroupSelection()},visible:function(){return b.canUngroupSelection()}});a.add({text:"Edit Text",wf:function(){b.editTextBlock()},visible:function(){return b.canEditTextBlock()}});return a};
eh.prototype.showDefaultContextMenu=eh.prototype.wK=function(){var a=this.b;if(a!==m){this.sw===m&&(this.sw=this.initializeDefaultButtons());this.tm!==this.ke&&this.hideContextMenu();u.Ms.innerHTML="";u.Ls.addEventListener("click",this.YA,p);var b=this,c=document.createElement("ul");c.className="defaultCXul";u.Ms.appendChild(c);c.innerHTML="";for(var d=this.sw.f;d.next();){var e=d.value,g=e.text,i=e.visible;if("function"!==typeof i||i()){i=document.createElement("li");i.className="defaultCXli";var j=
document.createElement("a");j.className="defaultCXa";j.href="#";j.nE=e.wf;j.addEventListener("click",function(c){this.nE(a);b.stopTool();c.preventDefault();return p},p);j.textContent=g;i.appendChild(j);c.appendChild(i)}}u.Ms.style.display="block";u.Ls.style.display="block";this.ke=this.tm}};eh.prototype.hideDefaultContextMenu=eh.prototype.mJ=function(){this.ke!==m&&this.ke===this.tm&&(u.Ms.style.display="none",u.Ls.style.display="none",u.Ls.removeEventListener("click",this.YA,p),this.ke=m)};
u.a(eh,"currentContextMenu",eh.prototype.ke);u.defineProperty(eh,{ke:"currentContextMenu"},s("Pz"),ba("Pz"));u.m(eh,{VJ:"mouseDownPoint"},s("qA"));function gh(){yf.call(this);this.name="DragSelecting";this.um=175;this.lA=p;var a=new R;a.Id="Tool";a.Ek=p;var b=new W;b.name="Shape";b.$a="Rectangle";b.fill=m;b.stroke="magenta";b.position=new E(0,0);a.add(b);this.mm=a}u.J("DragSelectingTool",gh);u.va(gh,yf);
gh.prototype.canStart=gh.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m||!a.Sd)return p;var b=a.H;return!b.left||a.xa!==this&&(!this.isBeyondDragSize()||b.timestamp-a.pc.timestamp<this.Ju||a.Hr(b.D,h)!==m)?p:h};gh.prototype.doActivate=gh.prototype.ii=function(){var a=this.b;a!==m&&(this.V=h,a.Oc=h,a.tb=h,a.add(this.qg))};gh.prototype.doDeactivate=gh.prototype.vk=function(){var a=this.b;a!==m&&(a.remove(this.qg),a.tb=p,this.V=a.Oc=p,xf(a))};
gh.prototype.doMouseMove=gh.prototype.mh=function(){var a=this.b;if(a!==m&&this.V&&this.qg!==m){var b=this.computeBoxBounds();this.qg.Te("Shape").ta=b.size;this.qg.position=b.position;xf(a)}};gh.prototype.doMouseUp=gh.prototype.Re=function(){if(this.V){var a=this.b;a.remove(this.qg);try{a.Cc="wait",this.selectInRect(this.computeBoxBounds())}finally{a.Cc=""}}this.stopTool()};gh.prototype.computeBoxBounds=gh.prototype.iI=function(){var a=this.b;return a===m?new F(0,0,0,0):new F(a.pc.D,a.H.D)};
gh.prototype.selectInRect=gh.prototype.tK=function(a){var b=this.b;if(b!==m){var c=b.H;b.la("ChangingSelection");a=b.Kl(a,m,function(a){return a instanceof R&&a.Vx()},this.EC);if(c.tk)if(c.shift)for(a=a.f;a.next();)c=a.value,c.Ka&&(c.Ka=p);else for(a=a.f;a.next();)c=a.value,c.Ka=!c.Ka;else{if(!c.shift){for(var d=new A(R),e=b.selection.f;e.next();)c=e.value,a.contains(c)||d.add(c);for(d=d.f;d.next();)c=d.value,c.Ka=p}for(a=a.f;a.next();)c=a.value,c.Ka||(c.Ka=h)}b.la("ChangedSelection")}};
u.a(gh,"delay",gh.prototype.Ju);u.defineProperty(gh,{Ju:"delay"},s("um"),ba("um"));u.a(gh,"isPartialInclusion",gh.prototype.EC);u.defineProperty(gh,{EC:"isPartialInclusion"},s("lA"),ba("lA"));u.a(gh,"box",gh.prototype.qg);u.defineProperty(gh,{qg:"box"},s("mm"),ba("mm"));function hh(){yf.call(this);this.name="Panning";this.CA=new E;this.ui=p;var a=this;this.NA=function(){document.removeEventListener("scroll",a.NA,p);a.stopTool()}}u.J("PanningTool",hh);u.va(hh,yf);
hh.prototype.canStart=hh.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;return a===m||!a.Le&&!a.Me||!a.H.left||a.xa!==this&&!this.isBeyondDragSize()?p:h};hh.prototype.doActivate=hh.prototype.ii=function(){var a=this.b;a!==m&&(this.ui?(a.H.bubbles=h,document.addEventListener("scroll",this.NA,p)):(a.Cc="move",a.Oc=h,this.CA=a.position),this.V=h)};hh.prototype.doDeactivate=hh.prototype.vk=function(){var a=this.b;a!==m&&(a.Cc="",this.V=a.Oc=p)};
hh.prototype.doCancel=hh.prototype.Yi=function(){var a=this.b;a!==m&&(a.position=this.CA,a.Oc=p);this.stopTool()};hh.prototype.doMouseMove=hh.prototype.mh=function(){var a=this.b;if(this.V&&a)if(this.ui)a.H.bubbles=h;else{var b=a.position,c=a.pc.D,d=a.H.D,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.Le||(e=b.x);a.Me||(c=b.y);a.position=new E(e,c);a.update()}};u.a(hh,"bubbles",hh.prototype.bubbles);u.defineProperty(hh,{bubbles:"bubbles"},s("ui"),ba("ui"));
function ih(){yf.call(this);this.name="TextEditing";this.tw=this.Rz=this.Cx=m;this.sx=jh;this.Oi=m;this.gb=kh;this.ck=m}u.J("TextEditingTool",ih);u.va(ih,yf);var lh;ih.LostFocus=lh=u.l(ih,"LostFocus",0);var mh;ih.MouseDown=mh=u.l(ih,"MouseDown",1);var nh;ih.Tab=nh=u.l(ih,"Tab",2);var oh;ih.Enter=oh=u.l(ih,"Enter",3);ih.SingleClick=u.l(ih,"SingleClick",0);var jh;ih.SingleClickSelected=jh=u.l(ih,"SingleClickSelected",1);
var kh=u.l(ih,"StateNone",0),ph=u.l(ih,"StateActive",1),qh=u.l(ih,"StateEditing",2),vh=u.l(ih,"StateEditing2",3),wh=u.l(ih,"StateValidating",4),xh=u.l(ih,"StateValidated",5);u.a(ih,"textBlock",ih.prototype.Mf);u.defineProperty(ih,{Mf:"textBlock"},s("Cx"),ba("Cx"));u.a(ih,"currentTextEditor",ih.prototype.rg);u.defineProperty(ih,{rg:"currentTextEditor"},s("Rz"),ba("Rz"));u.a(ih,"defaultTextEditor",ih.prototype.NB);u.defineProperty(ih,{NB:"defaultTextEditor"},s("tw"),ba("tw"));u.a(ih,"starting",ih.prototype.KD);
u.defineProperty(ih,{KD:"starting"},s("sx"),function(a){this.sx!==a&&(t&&u.Ya(a,ih,ih,"starting"),this.sx=a)});ih.prototype.canStart=ih.prototype.vf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===m||a.Ua||!a.H.left||this.isBeyondDragSize())return p;a=a.Xc(a.H.D,m,function(a){return a instanceof ua});if(!(a instanceof ua)||!a.Mu)return p;a=a.aa;return a===m||this.KD===jh&&!a.Ka?p:h};ih.prototype.doStart=ih.prototype.ly=function(){!this.V&&this.Mf!==m&&this.doActivate()};
ih.prototype.doActivate=ih.prototype.ii=function(){if(!this.V){var a=this.b;if(a!==m){var b=this.Mf;b===m&&(b=a.Xc(a.H.D,function(a){return a instanceof ua?a:m}),b=b instanceof ua?b:m);if(b!==m&&(this.Mf=b,b.aa!==m)){this.V=h;this.gb=ph;this.Pb(this.name);var c=this.NB,d=p;b.pz!==m&&(c=b.pz);c!==m&&!c.Ez&&(d=h);if(c===m){c=document.createElement("textarea");c.Ez=h;this.tw=c;var e=this.Mf.copy();c.addEventListener("input",function(){e.text=this.value;yh(e,Infinity,Infinity);this.style.width=20+e.ua.width*
this.hH+"px";this.rows=e.hl},p);c.addEventListener("keydown",function(a){var b=a.which,c=this.textEditingTool;if(c!==m)if(13==b)c.Ix(oh);else{if(9==b)return c.Ix(nh),a.preventDefault(),p;27==b&&(c.doCancel(),c.b&&c.b.focus())}},p);c.addEventListener("focus",function(){var a=this.textEditingTool;a.gb===ph?a.gb=qh:a.gb===xh?a.gb=vh:a.gb===vh&&(a.gb=qh)},p)}if(c.Ez){var g=b.Db(qc),i=a.position,j=a.scale,k=b.Ll()*j,l=b.qa.width*k;zh(b,b.font);g=new E((g.x-i.x)*j,(g.y-i.y)*j);c.value=b.text;a.hi.style.font=
b.font;c.style.font="inherit";c.style.fontSize=100*k+"%";c.style.lineHeight="normal";l=20+l;c.style.width=l+"px";c.style.height="";c.rows=b.hl;a.hi.appendChild(c);c.style.left=(g.x-l/2|0)+"px";c.style.top=(g.y-c.clientHeight/2|0)+"px";c.style.textAlign=b.textAlign}else a.hi.appendChild(c);c.style.position="absolute";c.style.zIndex=100;c.className="start";c.textEditingTool=this;c.hH=k;if(d&&c.onActivate!==f)c.onActivate();this.rg=c;c.focus()}}}};
ih.prototype.doCancel=ih.prototype.Yi=function(){this.ck!==m&&(this.rg.style.border=this.ck,this.ck=m);this.stopTool()};ih.prototype.doMouseUp=ih.prototype.Re=function(){!this.V&&this.canStart()&&this.doActivate()};ih.prototype.doMouseDown=ih.prototype.Lu=function(){this.V&&this.Ix(mh)};
ih.prototype.acceptText=ih.prototype.Ix=function(a){switch(a){case mh:if(this.gb===xh||this.gb===vh)this.rg.focus();else if(this.gb===ph||this.gb===qh)this.gb=wh,Ah(this);break;case lh:case oh:case nh:if(oh===a&&this.Cx.av===h)break;if(this.gb===ph||this.gb===qh)this.gb=wh,Ah(this)}};
function Ah(a){if(a.Mf!==m&&a.rg!==m){var b=a.Mf,c=a.Mf.text,d=a.rg.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.Mf,c,e)){a.gb=qh;b.Dr!==m&&b.Dr(a,c,e);a.ck===m&&(a.ck=a.rg.style.border,a.rg.style.border="3px solid red");a.rg.focus();return}a.gb=xh;c!==e&&(a.Mf.text=e);a.xe=a.name;b=a.b;b!==m&&b.la("TextEdited",a.Mf,c);a.stopTool();b!==m&&b.focus()}a.ck!==m&&(a.rg.style.border=a.ck,a.ck=m)}
ih.prototype.doDeactivate=ih.prototype.vk=function(){var a=this.b;if(a!==m){this.V&&this.nj();this.gb=kh;this.Mf=m;if(this.rg!==m){var b=this.rg;if(b.onDeactivate!==f)b.onDeactivate();b!==m&&a.hi.removeChild(b)}this.V=p}};ih.prototype.isValidText=ih.prototype.EJ=function(a,b,c){u.c(a,ua,ih,"isValidText:textblock");var d=this.ss;if(d!==m&&!d(a,b,c))return p;d=a.ss;return d!==m&&!d(a,b,c)?p:h};u.a(ih,"textValidation",ih.prototype.ss);
u.defineProperty(ih,{ss:"textValidation"},s("Oi"),function(a){this.Oi!==a&&(this.Oi=a)});function gf(){yf.call(this);this.name="ToolManager";this.rA=new A(yf);this.sA=new A(yf);this.tA=new A(yf);this.dA=this.eA=1E3;this.Ts=this.qw=m;this.uA=Bf}u.J("ToolManager",gf);u.va(gf,yf);var Bf;gf.WheelScroll=Bf=u.l(gf,"WheelScroll",0);var Af;gf.WheelZoom=Af=u.l(gf,"WheelZoom",1);u.a(gf,"mouseWheelBehavior",gf.prototype.Tl);u.defineProperty(gf,{Tl:"mouseWheelBehavior"},s("uA"),ba("uA"));
gf.prototype.initializeStandardTools=gf.prototype.qJ=function(){this.bB=new dh;this.kD=new Cg;this.LC=new Jg;this.tD=new Tg;this.xD=new ah;this.NC=new ya;this.le=new Df;this.VB=new gh;this.cD=new hh;this.zB=new eh;this.wv=new ih;this.vB=new za;this.wB=new ch};
gf.prototype.doMouseDown=gf.prototype.Lu=function(){var a=this.b;if(a!==m){var b=a.ia;b.Xx&&0!==b.Ik&&u.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.re.length,c=0;c<b;c++){var d=this.re.R(c);if(d.canStart()){a.xa=d;a.xa===d&&(d.V||d.doActivate(),d.doMouseDown());return}}1===a.H.button&&(this.Tl===Bf?this.Tl=Af:this.Tl===Af&&(this.Tl=Bf));this.doActivate();this.standardWaitAfter(this.yy)}};
gf.prototype.doMouseMove=gf.prototype.mh=function(){var a=this.b;if(a!==m){if(this.V)for(var b=this.xg.length,c=0;c<b;c++){var d=this.xg.R(c);if(d.canStart()){a.xa=d;a.xa===d&&(d.V||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.V?this.yy:this.vC)}};gf.prototype.doCurrentObjectChanged=gf.prototype.EF=function(a,b){var c=this.uk;c!==m&&!(b!==m&&(b===c||b.ni(c)))&&this.hideToolTip()};
gf.prototype.doWaitAfter=gf.prototype.IF=function(){this.b&&this.b.ma&&(this.doMouseHover(),this.V||this.doToolTip())};gf.prototype.doMouseHover=gf.prototype.EI=function(){var a=this.b;if(a!==m){var b=a.H;b.md===m&&(b.md=a.Xc(b.D,m,m));var c=b.md;if(c!==m)for(;c!==m;){a=this.V?c.bs:c.cs;if(a!==m&&(a(b,c),b.Fd))break;c=c.W}else a=this.V?a.bs:a.cs,a!==m&&a(b)}};
gf.prototype.doToolTip=gf.prototype.FI=function(){var a=this.b;if(a!==m){var b=a.H;b.md===m&&(b.md=a.Xc(b.D,m,m));b=b.md;if(b!==m){if(!(b===this.uk||b.ni(this.uk))){for(;b!==m;){a=b.vs;if(a!==m){this.showToolTip(a,b);return}b=b.W}this.hideToolTip()}}else a=a.vs,a!==m?this.showToolTip(a,m):this.hideToolTip()}};
gf.prototype.showToolTip=gf.prototype.xK=function(a,b){u.c(a,sf,gf,"showToolTip:tooltip");b!==m&&u.c(b,Q,gf,"showToolTip:obj");var c=this.b;if(c!==m){a!==this.uk&&this.hideToolTip();a.Id="Tool";a.Ek=p;c.add(a);if(b!==m&&b!==this.Ts){var d=m,e=b.aa;e!==m&&(d=e.data);a.Rd=b;a.data=d}else b===m&&(a.data=c.S);if(b===m||b!==this.Ts)a.ji(),this.positionToolTip(a,b);this.qw=a;this.Ts=b;xf(c)}};
gf.prototype.positionToolTip=gf.prototype.eK=function(a){var b=this.b;if(b!==m){var c=b.H.D.copy(),d=a.ua,b=b.ub;c.x+d.width>b.right&&(c.x-=d.width+5);c.y=c.y+20+d.height>b.bottom?c.y-(d.height+5):c.y+20;a.position=c}};gf.prototype.hideToolTip=gf.prototype.nJ=function(){if(this.uk!==m){var a=this.b;a!==m&&(this.uk.data=m,this.uk.Rd=m,a.remove(this.uk),this.Ts=this.qw=m,xf(a))}};u.m(gf,{uk:"currentToolTip"},s("qw"));
gf.prototype.doMouseUp=gf.prototype.Re=function(){this.cancelWaitAfter();if(this.V){var a=this.b;if(a===m)return;for(var b=this.yg.length,c=0;c<b;c++){var d=this.yg.R(c);if(d.canStart()){a.xa=d;a.xa===d&&(d.V||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};gf.prototype.doMouseWheel=gf.prototype.FF=function(){this.standardMouseWheel()};gf.prototype.doKeyDown=gf.prototype.jy=function(){var a=this.b;a!==m&&a.Ed.doKeyDown()};
gf.prototype.doKeyUp=gf.prototype.ky=function(){var a=this.b;a!==m&&a.Ed.doKeyUp()};gf.prototype.doCancel=gf.prototype.Yi=function(){Gf!==m&&Gf.doCancel();yf.prototype.Yi.call(this)};gf.prototype.findTool=gf.prototype.Ue=function(a){u.e(a,"string",gf,"findTool:name");for(var b=this.re.length,c=0;c<b;c++){var d=this.re.R(c);if(d.name===a)return d}b=this.xg.length;for(c=0;c<b;c++)if(d=this.xg.R(c),d.name===a)return d;b=this.yg.length;for(c=0;c<b;c++)if(d=this.yg.R(c),d.name===a)return d;return m};
gf.prototype.replaceTool=gf.prototype.RG=function(a,b){u.e(a,"string",gf,"replaceTool:name");b!==m&&(u.c(b,yf,gf,"replaceTool:newtool"),b.b&&b.b!==this.b&&u.g("Cannot share tools between Diagrams: "+b.toString()),b.If(this.b));for(var c=this.re.length,d=0;d<c;d++){var e=this.re.R(d);if(e.name===a)return b!==m?this.re.qv(d,b):this.re.te(d),e}c=this.xg.length;for(d=0;d<c;d++)if(e=this.xg.R(d),e.name===a)return b!==m?this.xg.qv(d,b):this.xg.te(d),e;c=this.yg.length;for(d=0;d<c;d++)if(e=this.yg.R(d),
e.name===a)return b!==m?this.yg.qv(d,b):this.yg.te(d),e;return m};function Bh(a,b,c,d){u.e(b,"string",gf,"replaceStandardTool:name");u.c(d,A,gf,"replaceStandardTool:list");c!==m&&(u.c(c,yf,gf,"replaceStandardTool:newtool"),c.b&&c.b!==a.b&&u.g("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.If(a.b));a.Ue(b)?a.RG(b,c):c!==m&&d.add(c)}u.m(gf,{re:"mouseDownTools"},s("rA"));u.m(gf,{xg:"mouseMoveTools"},s("sA"));u.m(gf,{yg:"mouseUpTools"},s("tA"));u.a(gf,"hoverDelay",gf.prototype.vC);
u.defineProperty(gf,{vC:"hoverDelay"},s("eA"),ba("eA"));u.a(gf,"holdDelay",gf.prototype.yy);u.defineProperty(gf,{yy:"holdDelay"},s("dA"),ba("dA"));u.a(gf,"actionTool",gf.prototype.bB);u.defineProperty(gf,{bB:"actionTool"},function(){return this.Ue("Action")},function(a){Bh(this,"Action",a,this.re)});u.a(gf,"relinkingTool",gf.prototype.kD);u.defineProperty(gf,{kD:"relinkingTool"},function(){return this.Ue("Relinking")},function(a){Bh(this,"Relinking",a,this.re)});u.a(gf,"linkReshapingTool",gf.prototype.LC);
u.defineProperty(gf,{LC:"linkReshapingTool"},function(){return this.Ue("LinkReshaping")},function(a){Bh(this,"LinkReshaping",a,this.re)});u.a(gf,"resizingTool",gf.prototype.tD);u.defineProperty(gf,{tD:"resizingTool"},function(){return this.Ue("Resizing")},function(a){Bh(this,"Resizing",a,this.re)});u.a(gf,"rotatingTool",gf.prototype.xD);u.defineProperty(gf,{xD:"rotatingTool"},function(){return this.Ue("Rotating")},function(a){Bh(this,"Rotating",a,this.re)});u.a(gf,"linkingTool",gf.prototype.NC);
u.defineProperty(gf,{NC:"linkingTool"},function(){return this.Ue("Linking")},function(a){Bh(this,"Linking",a,this.xg)});u.a(gf,"draggingTool",gf.prototype.le);u.defineProperty(gf,{le:"draggingTool"},function(){return this.Ue("Dragging")},function(a){Bh(this,"Dragging",a,this.xg)});u.a(gf,"dragSelectingTool",gf.prototype.VB);u.defineProperty(gf,{VB:"dragSelectingTool"},function(){return this.Ue("DragSelecting")},function(a){Bh(this,"DragSelecting",a,this.xg)});u.a(gf,"panningTool",gf.prototype.cD);
u.defineProperty(gf,{cD:"panningTool"},function(){return this.Ue("Panning")},function(a){Bh(this,"Panning",a,this.xg)});u.a(gf,"contextMenuTool",gf.prototype.zB);u.defineProperty(gf,{zB:"contextMenuTool"},function(){return this.Ue("ContextMenu")},function(a){Bh(this,"ContextMenu",a,this.yg)});u.a(gf,"textEditingTool",gf.prototype.wv);u.defineProperty(gf,{wv:"textEditingTool"},function(){return this.Ue("TextEditing")},function(a){Bh(this,"TextEditing",a,this.yg)});u.a(gf,"clickCreatingTool",gf.prototype.vB);
u.defineProperty(gf,{vB:"clickCreatingTool"},function(){return this.Ue("ClickCreating")},function(a){Bh(this,"ClickCreating",a,this.yg)});u.a(gf,"clickSelectingTool",gf.prototype.wB);u.defineProperty(gf,{wB:"clickSelectingTool"},function(){return this.Ue("ClickSelecting")},function(a){Bh(this,"ClickSelecting",a,this.yg)});
function df(){u.Qb(this);this.N=m;this.nb=new A(R);this.Bb="";this.Pw=p;this.hh=this.Cj=this.Bj=this.Aj=this.zj=this.xj=this.wj=this.yj=this.vj=this.Ej=this.uj=this.Dj=this.tj=this.sj=h;this.yE=[]}u.J("Layer",df);df.prototype.If=ba("N");
df.prototype.toString=function(a){a===f&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,i=0,j=this.nb.f;j.next();){var k=j.value.constructor;k===R?c++:k===U?d++:k===tf?e++:k===V?g++:k===sf&&i++}j="";0<c&&(j+=c+" Parts ");0<d&&(j+=d+" Nodes ");0<e&&(j+=e+" Groups ");0<g&&(j+=g+" Links ");0<i&&(j+=i+" Adornments ");if(1<a)for(c=this.nb.f;c.next();)d=c.value,j+="\n    "+d.toString(a-1),(e=d.data)&&u.qc(e)&&(j+=" #"+u.qc(e)),d instanceof U?j+=" "+De(e):d instanceof V&&(j+=
" "+De(d.ja)+" "+De(d.na));return b+" "+this.nb.count+": "+j};df.prototype.findObjectAt=df.prototype.Xc=function(a,b,c){b===f&&(b=m);c===f&&(c=m);var d=this.nb,e=p;this.b.ub.ka(a)&&(e=h);for(var g=new E,i=d.length;i--;){var j=d.R(i);if(!(e===h&&j.ff===p)&&j.ib()&&(qb(g.set(a),j.je),j=j.Xc(g,b,c),j!==m&&(b!==m&&(j=b(j)),j&&(c===m||c(j)))))return j}return m};
df.prototype.findObjectsAt=df.prototype.Kn=function(a,b,c,d){b===f&&(b=m);c===f&&(c=m);!(d instanceof A)&&!(d instanceof ta)&&(d=new A(Q));var e=this.nb,g=p;this.b.ub.ka(a)&&(g=h);for(var i=new E,j=e.length;j--;){var k=e.R(j);!(g===h&&k.ff===p)&&k.ib()&&(qb(i.set(a),k.je),k.Kn(i,b,c,d)&&(b!==m&&(k=b(k)),k&&(c===m||c(k))&&d.add(k)))}return d};
df.prototype.findObjectsIn=df.prototype.Kl=function(a,b,c,d,e){b===f&&(b=m);c===f&&(c=m);d===f&&(d=p);!(e instanceof A)&&!(e instanceof ta)&&(e=new A(Q));var g=this.nb,i=p;this.b.ub.Cl(a)&&(i=h);for(var j=g.length;j--;){var k=g.R(j);!(i===h&&k.ff===p)&&(k.ib()&&k.Kl(a,b,c,d,e))&&(b!==m&&(k=b(k)),k&&(c===m||c(k))&&e.add(k))}return e};
df.prototype.findObjectsNear=df.prototype.Ln=function(a,b,c,d,e){c===f&&(c=m);d===f&&(d=m);!(e instanceof A)&&!(e instanceof ta)&&(e=new A(Q));var g=this.nb,i=p;this.b.ub.ka(a)&&(i=h);for(var j=new E,k=g.length;k--;){var l=g.j[k];if(!(i===h&&l.ff===p)&&l.ib()){qb(j.set(a),l.je);var n=new E(a.x+b,a.y);qb(n,l.je);l.Ln(j,n,c,d,e)&&(c!==m&&(l=c(l)),l&&(d===m||d(l))&&e.add(l))}}return e};da=df.prototype;
da.tg=function(a,b){if(this.visible){var c=this.nb,d=b.ub,e=[];if(b.Im)for(var g=c.length,i=0;i<g;i++){var j=c.j[i];j.wE=i;if(j instanceof V&&((j.Mi===Yf||j.Mi===Ch)&&e.push(j),j.ul===p))continue;j.pa.Ve(d)?(j.tg(a,b),j.ff=h):j.ff=p}else{g=c.length;for(i=0;i<g;i++)if(j=c.j[i],j.ff){if(j instanceof V&&((j.Mi===Yf||j.Mi===Ch)&&e.push(j),j.ul===p))continue;j.tg(a,b)}}this.yE=e}};da.d=function(a,b,c,d,e){var g=this.b;g!==m&&g.ae(Ae,a,this,b,c,d,e)};
da.xk=function(a,b,c){var d=this.nb;b.w=this;if(a>=d.count)a=d.count;else if(d.R(a)===b)return-1;d.rc(a,b);b.Sr();d=this.b;d!==m&&(c?Dh(d):d.xk(b));b instanceof tf&&this.tv(b);return a};da.Gd=function(a,b,c){var d=this.nb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.R(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.Tr();d.te(a);d=this.b;d!==m&&(c?Dh(d):d.Gd(b));b.w=m;return a};
da.tv=function(a){for(;a!==m;){if(a.za===this){var b=a;if(b.sc.next()){for(var c=-1,d=-1,e=this.nb.j,g=e.length,i=0;i<g;i++){var j=e[i];if(j===b&&(c=i,0<=d))break;if(0>d&&j.Za===b&&(d=i,0<=c))break}!(0>d)&&d<c&&(e=this.nb,e.te(c),e.rc(d,b))}}a=a.Za}};da.clear=function(){for(var a=this.nb.Nf(),b=a.length,c=0;c<b;c++)a[c].ff=p,this.Gd(-1,a[c])};u.m(df,{jj:"parts"},function(){return this.nb.f});u.m(df,{$J:"partsBackwards"},function(){return this.nb.Tn});u.m(df,{b:"diagram"},s("N"));u.a(df,"name",df.prototype.name);
u.defineProperty(df,{name:"name"},s("Bb"),function(a){u.e(a,"string",df,"name");var b=this.Bb;if(b!==a){var c=this.b;if(c!==m){""===b&&u.g("Cannot rename default Layer to: "+a);for(c=c.Un;c.next();)c.value.name===a&&u.g("Layer.name is already present in this diagram: "+a)}this.Bb=a;this.d("name",b,a)}});u.a(df,"isTemporary",df.prototype.Yc);u.defineProperty(df,{Yc:"isTemporary"},s("Pw"),function(a){var b=this.Pw;b!==a&&(u.e(a,"boolean",df,"isTemporary"),this.Pw=a,this.d("isTemporary",b,a))});
u.a(df,"visible",df.prototype.visible);u.defineProperty(df,{visible:"visible"},s("hh"),function(a){var b=this.hh;if(b!==a){u.e(a,"boolean",df,"visible");this.hh=a;this.d("visible",b,a);for(a=this.nb.f;a.next();)a.value.updateAdornments();a=this.b;a!==m&&Dh(a)}});u.a(df,"allowCopy",df.prototype.Zh);u.defineProperty(df,{Zh:"allowCopy"},s("sj"),function(a){var b=this.sj;b!==a&&(u.e(a,"boolean",df,"allowCopy"),this.sj=a,this.d("allowCopy",b,a))});u.a(df,"allowDelete",df.prototype.ok);
u.defineProperty(df,{ok:"allowDelete"},s("tj"),function(a){var b=this.tj;b!==a&&(u.e(a,"boolean",df,"allowDelete"),this.tj=a,this.d("allowDelete",b,a))});u.a(df,"allowTextEdit",df.prototype.yn);u.defineProperty(df,{yn:"allowTextEdit"},s("Dj"),function(a){var b=this.Dj;b!==a&&(u.e(a,"boolean",df,"allowTextEdit"),this.Dj=a,this.d("allowTextEdit",b,a))});u.a(df,"allowGroup",df.prototype.sn);
u.defineProperty(df,{sn:"allowGroup"},s("uj"),function(a){var b=this.uj;b!==a&&(u.e(a,"boolean",df,"allowGroup"),this.uj=a,this.d("allowGroup",b,a))});u.a(df,"allowUngroup",df.prototype.zn);u.defineProperty(df,{zn:"allowUngroup"},s("Ej"),function(a){var b=this.Ej;b!==a&&(u.e(a,"boolean",df,"allowUngroup"),this.Ej=a,this.d("allowUngroup",b,a))});u.a(df,"allowLink",df.prototype.xl);
u.defineProperty(df,{xl:"allowLink"},s("vj"),function(a){var b=this.vj;b!==a&&(u.e(a,"boolean",df,"allowLink"),this.vj=a,this.d("allowLink",b,a))});u.a(df,"allowRelink",df.prototype.Qi);u.defineProperty(df,{Qi:"allowRelink"},s("yj"),function(a){var b=this.yj;b!==a&&(u.e(a,"boolean",df,"allowRelink"),this.yj=a,this.d("allowRelink",b,a))});u.a(df,"allowMove",df.prototype.pk);
u.defineProperty(df,{pk:"allowMove"},s("wj"),function(a){var b=this.wj;b!==a&&(u.e(a,"boolean",df,"allowMove"),this.wj=a,this.d("allowMove",b,a))});u.a(df,"allowPrint",df.prototype.un);u.defineProperty(df,{un:"allowPrint"},s("xj"),function(a){var b=this.xj;b!==a&&(u.e(a,"boolean",df,"allowPrint"),this.xj=a,this.d("allowPrint",b,a))});u.a(df,"allowReshape",df.prototype.vn);
u.defineProperty(df,{vn:"allowReshape"},s("zj"),function(a){var b=this.zj;b!==a&&(u.e(a,"boolean",df,"allowReshape"),this.zj=a,this.d("allowReshape",b,a))});u.a(df,"allowResize",df.prototype.wn);u.defineProperty(df,{wn:"allowResize"},s("Aj"),function(a){var b=this.Aj;b!==a&&(u.e(a,"boolean",df,"allowResize"),this.Aj=a,this.d("allowResize",b,a))});u.a(df,"allowRotate",df.prototype.xn);
u.defineProperty(df,{xn:"allowRotate"},s("Bj"),function(a){var b=this.Bj;b!==a&&(u.e(a,"boolean",df,"allowRotate"),this.Bj=a,this.d("allowRotate",b,a))});u.a(df,"allowSelect",df.prototype.Sd);u.defineProperty(df,{Sd:"allowSelect"},s("Cj"),function(a){var b=this.Cj;b!==a&&(u.e(a,"boolean",df,"allowSelect"),this.Cj=a,this.d("allowSelect",b,a))});
function B(a){function b(a){var b=a.toLowerCase(),c=new A("function");e.add(a,c);e.add(b,c);g.add(a,a);g.add(b,a)}function c(){document.removeEventListener("DOMContentLoaded",c,p);Eh(d)}u.Qb(this);u.Uz=[];this.jc=h;this.he=17;var d=this;document.body!==m?Eh(this):document.addEventListener("DOMContentLoaded",c,p);this.Ab=new A(df);this.PA=this.OA=this.RA=this.QA=this.Jb=this.Eg=this.ma=m;this.qb=(new E(NaN,NaN)).freeze();this.Sb=1;this.zt=1E-4;this.ut=100;this.Cd=new pb;this.su=(new E(NaN,NaN)).freeze();
this.$s=(new F(NaN,NaN,NaN,NaN)).freeze();this.Qk=Fh;this.Uk=ic;this.Qj=Fh;this.Fm=ic;this.et=this.dt=nc;this.Og=new ta(Q);this.Ai=h;this.vm=new sa(V,F);this.fp=h;this.lE=250;this.kE=1E3;this.Cg=m;this.Fs=(new Hb(16,16,16,16)).freeze();this.Vz=h;this.jr=this.gh=p;this.mp=h;this.Fx=p;this.Zf=new we;this.xc=new we;this.kc=new we;this.wi=m;this.iu=-1;this.ux=p;this.ww=new sa("string",A);this.vw=new sa("string","string");var e=new sa("string",A),g=new sa("string","string");b("BackgroundSingleClicked");
b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");
b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");this.ww=e;this.vw=g;this.It=new ta(U);this.tl=new ta(tf);this.ot=new ta(V);this.nb=new ta(R);this.lt=h;this.gA=p;this.pu=kg;this.pw=this.uw=this.ou=m;this.Ss="";this.Zo="auto";this.Eh=this.Xh=this.Oh=this.Ct=this.Ph=this.Qh=this.Rh=this.Dh=this.Fh=this.Ch=m;this.$k=h;this.dw=p;this.mw=m;this.bl=this.Th=this.Gz=p;this.Ca=h;this.lf=
m;var i=this;this.oA=function(a){if(a.S===i.S&&i.Ca){i.Ca=p;try{var b=a.Wc;""===a.qe&&b===Ae&&Gh(i,a.object,a.propertyName)}finally{i.Ca=h}}};this.pA=function(a){if(a.S===i.S&&i.Ca){i.Ca=p;try{var b=a.Wc,c=a.qe;if(""!==c)if(b===Ae)if("linkFromKey"===c){var d=a.object,e=i.bj(d);if(e!==m){var g=a.newValue,v=i.oh(g);e.ja=v}}else if("linkToKey"===c)d=a.object,e=i.bj(d),e!==m&&(g=a.newValue,v=i.oh(g),e.na=v);else if("linkFromPortId"===c){if(d=a.object,e=i.bj(d),e!==m){var x=a.newValue;"string"===typeof x&&
(e.qh=x)}}else if("linkToPortId"===c)d=a.object,e=i.bj(d),e!==m&&(x=a.newValue,"string"===typeof x&&(e.ri=x));else if("nodeGroupKey"===c){var d=a.object,C=i.vg(d);if(C!==m){var G=a.newValue;if(G!==f){var I=i.oh(G);C.Za=I instanceof tf?I:m}else C.Za=m}}else if("linkLabelKeys"===c){if(d=a.object,e=i.bj(d),e!==m){var y=a.oldValue,J=a.newValue;if(u.isArray(y))for(var z=u.Hb(y),H=0;H<z;H++){var ha=u.wb(y,H),v=i.oh(ha);v!==m&&(v.oe=m)}if(u.isArray(J)){z=u.Hb(J);for(H=0;H<z;H++)ha=u.wb(J,H),v=i.oh(ha),v!==
m&&(v.oe=e)}}}else if("nodeCategory"===c){var d=a.object,S=i.vg(d),T=a.newValue;S!==m&&"string"===typeof T&&(S.td=T)}else if("linkCategory"===c){var d=a.object,ia=i.bj(d),T=a.newValue;ia!==m&&"string"===typeof T&&(ia.td=T)}else if("nodeDataArray"===c){var la=a.oldValue;Hh(i,la);var Da=a.newValue;Ih(i,Da)}else"linkDataArray"===c&&(la=a.oldValue,Hh(i,la),Da=a.newValue,Jh(i,Da));else if(b===Be)Da=a.newValue,"nodeDataArray"===c&&u.Ta(Da)?Kh(i,Da):"linkDataArray"===c&&u.Ta(Da)?Lh(i,Da):"linkLabelKeys"===
c&&Xe(Da)&&(e=i.bj(a.object),v=i.oh(Da),e!==m&&v!==m&&(v.oe=e));else if(b===Ce)la=a.oldValue,"nodeDataArray"===c&&u.Ta(la)?Mh(i,la):"linkDataArray"===c&&u.Ta(la)?Mh(i,la):"linkLabelKeys"===c&&Xe(la)&&(v=i.oh(la),v!==m&&(v.oe=m));else{if(b===ze&&"SourceChanged"===c){var C=i.vg(a.object),Ea=a.propertyName;C!==m&&"string"===typeof Ea&&C.tc(Ea)}}else if(b===Ae){var Wa=a.propertyName,d=a.object;if(d===i.S){if("nodeKeyProperty"===Wa||"nodeCategoryProperty"===Wa||"linkFromKeyProperty"===Wa||"linkToKeyProperty"===
Wa||"linkFromPortIdProperty"===Wa||"linkToPortIdProperty"===Wa||"nodeIsLinkLabelProperty"===Wa||"linkLabelKeysProperty"===Wa||"nodeIsGroupProperty"===Wa||"nodeGroupKeyProperty"===Wa||"linkCategoryProperty"===Wa)i.ia.hb||i.Yl()}else Gh(i,d,Wa)}else if(b===Be||b===Ce){var bb=a.Wc===Be,gb=bb?a.Xe:a.Ye,Sa=bb?a.newValue:a.oldValue,lb=i.el.ga(a.object);if(Array.isArray(lb))for(a=0;a<lb.length;a++){var Za=lb[a];"number"===typeof gb&&(bb?u.Ta(Sa)&&(Nh(Za,Sa,gb),Oh(Za,Za)):(Za.Gd(gb),Oh(Za,Za)))}}else if(b===
ze){var ac=a.propertyName;if("S"!==ac[0]){if("CommittingTransaction"!==ac){if("FinishedUndo"===ac||"FinishedRedo"===ac)i.ia.Jh=h,Ph(i),i.ia.Jh=p;i.$f&&i.xa.standardMouseOver();for(var ad=i.selection.f;ad.next();)ad.value.updateAdornments()}i.jr=h;i.update();$g(i)}else"StartingFirstTransaction"===ac&&(!i.gf&&!i.$f)&&(i.jr=h,i.mp&&(i.gh=h),i.update())}}finally{i.Ca=h}}};this.Wf=new sa(Object,R);this.el=new sa(Object,Array);this.Uj=p;this.tj=this.sj=this.ws=this.Ih=h;this.ys=this.xs=p;this.Ds=this.Bs=
this.Cj=this.Bj=this.Aj=this.zj=this.xj=this.wj=this.yj=this.vj=this.As=this.Ej=this.uj=this.Dj=h;this.kA=p;this.Cs=this.zs=this.ct=this.bt=h;this.Yt=this.Xt=16;this.Wt=p;this.Nd=(new Hb(5)).freeze();this.au=(new ta(R)).freeze();this.vt=999999999;this.Im=this.Tj=this.Sj=h;this.Dm=this.Cm=p;this.ed=m;this.Es=h;this.$f=p;this.Tc=m;this.yA=1;this.aB=(new F(NaN,NaN,NaN,NaN)).freeze();this.Xs=(new F(NaN,NaN,NaN,NaN)).freeze();this.gf=p;this.Nt=new ta;Qh(this);Rh(this);this.qm=this.lx=this.bd=m;this.Xb=
new gf;this.Xb.initializeStandardTools();this.xa=this.Iu=this.Xb;this.Ed=new wa;this.S=new P;this.Th=h;this.Cb=new Sh;this.Th=p;a===f&&(a=document.createElement("div"));this.cA=new Th;Uh(this,a);this.Sq=this.pH=m;this.jc=p}u.J("Diagram",B);
function Rh(a){a.Ji=new sa("string",R);var b=new U,c=new ua;c.bind(new Ze("text","",De));b.add(c);a.rE=b;a.Ji.add("",b);b=new U;c=new ua;c.stroke="brown";c.bind(new Ze("text","",De));b.add(c);a.Ji.add("Comment",b);b=new U;b.Ek=p;b.Tx=p;c=new W;c.$a="Ellipse";c.fill="black";c.stroke=m;c.ta=new L(3,3);b.add(c);a.Ji.add("LinkLabel",b);a.Zk=new sa("string",tf);b=new tf;b.po="GROUPPANEL";b.type=Vh;c=new ua;c.font="bold 12pt sans-serif";c.bind(new Ze("text","",De));b.add(c);c=new w(Wh);c.name="GROUPPANEL";
var d=new W;d.$a="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new Wg;d.padding=new Hb(5,5,5,5);c.add(d);b.add(c);a.oE=b;a.Zk.add("",b);a.Yj=new sa("string",V);b=new V;c=new W;c.fj=h;b.add(c);c=new W;c.em="Standard";c.fill="black";c.stroke=m;b.add(c);a.qE=b;a.Yj.add("",b);b=new V;c=new W;c.fj=h;c.stroke="brown";b.add(c);a.Yj.add("Comment",b);b=new w;c=new ua;c.bind(new Ze("text","",De));b.add(c);a.pE=b;b=new sf;b.type=Wh;c=new W;c.fill=m;c.stroke="magenta";c.Wa=2;b.add(c);
c=new Wg;c.margin=new Hb(1,1,1,1);b.add(c);a.$w=b;a.Kw=b;b=new sf;b.type=Dg;c=new W;c.fj=h;c.fill=m;c.stroke="magenta";c.Wa=0;b.add(c);a.Sw=b}
function Eh(a){var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);document.body.removeChild(c);a.he=d-b}
B.prototype.toString=function(a){a===f&&(a=0);var b="";this.id&&(b=this.id);this.hi&&this.hi.id&&(b=this.hi.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.Ab.f;c.next();)b+="\n  "+c.value.toString(a-1);return b};B.prototype.dumpReferences=B.prototype.bC=function(){for(var a=this.Un;a.next();){var b=a.value;u.trace(b.toString());for(b=b.jj;b.next();)b.value.bC()}};B.prototype.checkProperties=B.prototype.hI=function(){return u.oF(this)};
B.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.N instanceof B?b.N:m};u.a(B,"div",B.prototype.hi);
u.defineProperty(B,{hi:"div"},s("Jb"),function(a){a!==m&&u.c(a,HTMLDivElement,B,"div");if(this.Jb!==a){var b=this.Jb;if(b!==m){delete b.N;b.innerHTML="";this.ma!==m&&(this.ma.N=m,this.ma.removeEventListener("touchstart",this.TD,p),this.ma.removeEventListener("touchmove",this.SD,p),this.ma.removeEventListener("touchend",this.RD,p));b=this.ou;if(b!==m){for(var c=b.rA,d=c.length,e=0;e<d;e++)c.j[e].cancelWaitAfter();c=b.sA;d=c.length;for(e=0;e<d;e++)c.j[e].cancelWaitAfter();c=b.tA;d=c.length;for(e=0;e<
d;e++)c.j[e].cancelWaitAfter()}b.cancelWaitAfter();this.Eg=this.ma=m;window.removeEventListener("resize",this.Oy,p);window.removeEventListener("mousemove",this.co,h);window.removeEventListener("mousedown",this.bo,h);window.removeEventListener("mouseup",this.fo,h);window.removeEventListener("mousewheel",this.zg,h);window.removeEventListener("DOMMouseScroll",this.zg,h);window.removeEventListener("mouseout",this.eo,h)}this.Jb=m;if(a!==m){if(b=a.N)b.hi=m;Uh(this,a)}}});
function Th(){this.TA=h;this.qH=p;this.rH=212;this.EE="63ad05bbe23a1786468a4c741b6d2e";if(this.EE===this._tk)this.Xk=h;else{var a="p",b=window[u.Oa("76a715b2f73f148a")][u.Oa("72ba13b5")];if(u.Oa("77bb5bb2f32603de")===window[u.Oa("76a715b2f73f148a")][u.Oa("6aba19a7ec351488")])try{if(this.Xk=!window[u.Oa("4da118b7ec2108")][u.Oa("5bb806bfea351a904a84515e1b6d38b6")][u.Oa("49bc19a1e6")][u.Oa("59bd04a1e6380fa5539b")][u.Oa("7bb8069ae7")]===u.Oa(u.iB),this.Xk===p)return}catch(c){}for(var d=b[u.Oa("76ad18b4f73e")],
e=b[u.Oa("73a612b6fb191d")](u.Oa("35e7"))+2;e<d;e++)a+=b[e];d=a[u.Oa("73a612b6fb191d")](u.Oa(u.iB));if(this.Xk=!(0<d&&d<a[u.Oa("73a612b6fb191d")](u.Oa("35")))){a=document[u.Oa("69bc0fbfe6051381469f4c")];d=a.length;for(e=0;e<d;e++)if(b=a[e][u.Oa("79bb0581f63a1e97")],b!==m){for(var g=b.length,i=0;i<g;i++)if(b[i][u.Oa("69ad1ab6e0221496778e4767")]==u.Oa("02cncncn")){var j=b[i][u.Oa("69bc0fbfe6")][u.Oa("78a704b7e6242f8b53a8507f1b7b")];if(!j)return;if(-1!==j.indexOf(u.Oa(u.pF))&&-1!==j.indexOf(u.Oa(u.qF))){this.Xk=
p;break}}if(this.Xk===p)break}}this.sH=new E(NaN,NaN)}}Th.prototype.Bv=function(a){a.jE();return 0<this.Xk&&this!==this.TA?h:p};Th.prototype.t=Th.prototype.IK=function(){this.TA=m};
function Uh(a,b){(b===f||b===m)&&u.g("Diagram setup requires an argument DIV.");a.Jb!==m&&u.g("Diagram has already completed setup.");"string"===typeof b?a.Jb=document.getElementById(b):b instanceof HTMLDivElement?a.Jb=b:u.g("No DIV or DIV id supplied: "+b);a.Jb===m&&u.g("Invalid DIV id; could not get element with id: "+b);a.Jb.N!==f&&u.g("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Jb,m).position&&(a.Jb.style.position="relative");a.Jb.style["-webkit-tap-highlight-color"]=
"rgba(255, 255, 255, 0)";a.Jb.innerHTML="";a.Jb.N=a;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))a.Jb.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";else{c.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.zIndex="2";c.width=a.Jb.clientWidth||1;c.height=a.Jb.clientHeight||1;document.defaultView&&document.defaultView.getComputedStyle&&
(a.QA=parseInt(document.defaultView.getComputedStyle(c,m).paddingLeft,10)||0,a.RA=parseInt(document.defaultView.getComputedStyle(c,m).paddingTop,10)||0,a.OA=parseInt(document.defaultView.getComputedStyle(c,m).borderLeftWidth,10)||0,a.PA=parseInt(document.defaultView.getComputedStyle(c,m).borderTopWidth,10)||0);a.Mw=0;a.Lw=0;if(document.body){var d=document.body.parentNode;a.Mw=d.offsetTop||0;a.Lw=d.offsetLeft||0}else document.addEventListener("load",function(){if(document.body){var b=document.body.parentNode;
a.Mw=b.offsetTop||0;a.Lw=b.offsetLeft||0}},p);c.N=a;a.ma=c;a.Eg=c.getContext("2d");d=a.Eg;a.jE=d[u.Oa("69ad0287f137159745844d7e")][u.Oa("78a118b7")](d,1,0,0,1,0,0);a.iE=d[u.Oa("7eba17a4ca3b1a8346")][u.Oa("78a118b7")](d,u.Bv,4,4);a.Jb.insertBefore(c,a.Jb.firstChild);if(a.Vz!==m){var d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),i=document.createElement("div");d.style.position="absolute";d.style.overflow="auto";d.style.width=a.ma.width+"px";d.style.height=
a.ma.height+"px";d.style.zIndex="1";e.style.position="absolute";e.style.overflow="auto";e.style.width=a.ma.width+"px";e.style.height=a.ma.height+"px";e.style.zIndex="1";g.style.position="absolute";g.style.width="1px";g.style.height="1px";i.style.position="absolute";i.style.width="1px";i.style.height="1px";a.Jb.appendChild(d);a.Jb.appendChild(e);d.appendChild(g);e.appendChild(i);d.onscroll=a.wA;d.onmousedown=a.xA;d.N=a;d.JA=h;e.onscroll=a.wA;e.onmousedown=a.xA;e.N=a;e.KA=h;a.jk=d;a.kk=e;a.HA=g;a.IA=
i}a.preventDefault=function(a){a.preventDefault();return p};a.co=function(b){if(a.isEnabled){var c=a.xc;window.TouchEvent&&c.yi!==m&&c.yi instanceof window.TouchEvent?(b.preventDefault(),b.simulated=h,a.Sq=b):(a.xc=a.kc,a.kc=c,Xh(a,b,c,h),Yh(b,new E,b.target.N)||(a.xa.doMouseMove(),a.xa.isBeyondDragSize()&&Zh(a)))}};a.bo=function(b){if(a.isEnabled){var c=a.xc;if(a.Sq!==m)a.Sq=b,b.preventDefault();else if(a.xc=a.kc,a.kc=c,Xh(a,b,c,h),c.Ne=b.detail,a.Zf=c.copy(),c.yi.simulated===h)b.preventDefault(),
b.simulated=h;else if(t&&t.Vy&&(window.Vy=a.Kn(c.D).j,t.trace(window.Vy)),Gf=m,a.xa.doMouseDown(),1===b.button)return b.preventDefault(),p}};a.fo=function(b){if(a.isEnabled){var c=a.xc;a.Sq!==m?(a.Sq=m,b.preventDefault()):(a.xc=a.kc,a.kc=c,Xh(a,b,c,h),c.Ne=b.detail,b.target.N&&(c.Lf=b.target.N),$h(a,b,new E,c.Lf)||(a.xa.doMouseUp(),If(a),ma(a,c,b)))}};a.zg=function(b){if(a.isEnabled){var c=a.xc;a.xc=a.kc;a.kc=c;Xh(a,b,c,h);c.bubbles=h;c.Wi=b.wheelDelta!==f?b.wheelDelta:-40*b.detail;a.xa.doMouseWheel();
ma(a,c,b)}};a.eo=function(){if(a.isEnabled){var b=a.xa;b.cancelWaitAfter();b instanceof gf&&b.hideToolTip()}};a.Oy=function(){var b=a.ma,c=a.Jb,d=0;a.Dm&&(d=a.he);var e=0;a.Cm&&(e=a.he);if(c.clientWidth!==b.width+d||c.clientHeight!==b.height+e)a.Tj=h,a.Ai=h;xf(a)};a.TD=function(b){if(a.isEnabled){a.ux=p;if(1<b.touches.length){a.xa.doCancel();if(a.$k&&u.SA)return b.preventDefault(),b.cancelBubble=h,p;Zh(a);b.cancelBubble=p;return h}var c=a.xc;a.xc=a.kc;a.kc=c;c.b=a;var d=a.Ng(b.targetTouches[0]);c.Fc=
a.vo(d);c.D=d;c.sh=0;c.button=0;c.Ne=1;c.Wi=0;c.Fd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Lf=b.target.N?b.target.N:m;c.md=m;a.Zf=c.copy();Gf=m;a.xa.doMouseDown();var e=c.copy();a.iu=setTimeout(function(){e.button=2;a.H=e;a.ux=h;a.xa.doMouseUp()},850);ma(a,c,b)}};a.SD=function(b){if(a.isEnabled){if(1<b.touches.length){a.xa.doCancel();Zh(a);if(a.$k&&u.SA)return b.preventDefault(),b.cancelBubble=h,p;b.cancelBubble=p;return h}var c=a.xc;a.xc=a.kc;a.kc=c;var d=m,e,g=m;0<b.changedTouches.length?
g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.b=a;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.N?(e=d.N.Ng(g),i=d.N):(e=a.Ng(b.changedTouches[0]),i=a);c.D=e;c.Fc=i.vo(e)}else a.xc!==m?(c.D=a.xc.D,c.Fc=a.xc.Fc,d=a.xc.Lf):a.Zf!==m&&(c.D=a.Zf.D,c.Fc=a.Zf.Fc,d=a.Zf.Lf);c.sh=0;c.button=0;c.Ne=1;c.Wi=0;c.Fd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Lf=d===m?b.target.N:d.N?d.N:m;c.md=m;a.xa.isBeyondDragSize()&&Zh(a);if(!Yh(g?g:b,new E,c.Lf))a.xa.doMouseMove(),
ma(a,c,b)}};a.RD=function(b){if(a.isEnabled){Zh(a);if(a.ux)return b.preventDefault(),p;var c=a.xc;a.xc=a.kc;a.kc=c;if(!(1<b.touches.length)){var d=m,e,g=m;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.b=a;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.N?(e=d.N.Ng(g),i=d.N):(e=a.Ng(b.changedTouches[0]),i=a);c.D=e;c.Fc=i.vo(e)}else a.xc!==m?(c.D=a.xc.D,c.Fc=a.xc.Fc,d=a.xc.Lf):a.Zf!==m&&(c.D=a.Zf.D,c.Fc=a.Zf.Fc,d=a.Zf.Lf);c.sh=0;
c.button=0;c.Ne=1;c.Wi=0;c.Fd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Lf=d===m?b.target.N:d.N?d.N:m;c.md=m;if(!$h(a,g?g:b,new E,c.Lf))a.xa.doMouseUp(),ma(a,c,b)}}};c.addEventListener("touchstart",a.TD,p);c.addEventListener("touchmove",a.SD,p);c.addEventListener("touchend",a.RD,p);c.addEventListener("gesturestart",function(){a.$k!==p&&(a.yA=a.scale,a.xa.doCancel())},p);c.addEventListener("gesturechange",function(b){if(a.$k!==p){var c=a.Ng(b),d=a.Mk;a.Mk=c;a.scale=a.yA*b.scale;a.Mk=d}},p);
c.addEventListener("mousemove",a.co,p);c.addEventListener("mousedown",a.bo,p);c.addEventListener("mouseup",a.fo,p);c.addEventListener("mousewheel",a.zg,p);c.addEventListener("DOMMouseScroll",a.zg,p);c.addEventListener("mouseout",a.eo,p);c.addEventListener("keydown",a.pG,p);c.addEventListener("keyup",a.qG,p);c.addEventListener("selectstart",function(a){a.preventDefault();return p},p);c.addEventListener("contextmenu",function(a){a.preventDefault();return p},p);window.addEventListener("resize",a.Oy,
p);c.tabIndex=0;gi(a)}}B.prototype.focus=B.prototype.focus=function(){this.ma.focus()};function gi(a,b){b===f&&(b=a.Eg);b.bw="";b.hm="";b.Ok=""}function Qh(a){var b=new df;b.name="Background";a.pr(b);b=new df;b.name="";a.pr(b);b=new df;b.name="Foreground";a.pr(b);b=new df;b.name="Adornment";b.Yc=h;a.pr(b);b=new df;b.name="Tool";b.Yc=h;a.pr(b);b=new df;b.name="Grid";b.Sd=p;b.Yc=h;a.OE(b,a.aj("Background"))}
function hi(a){a.bd=new w(ii);a.bd.name="GRID";var b=new W;b.$a="LineH";b.stroke="lightgray";b.Wa=0.5;b.ki=1;a.bd.add(b);b=new W;b.$a="LineH";b.stroke="gray";b.Wa=0.5;b.ki=5;a.bd.add(b);b=new W;b.$a="LineH";b.stroke="gray";b.Wa=1;b.ki=10;a.bd.add(b);b=new W;b.$a="LineV";b.stroke="lightgray";b.Wa=0.5;b.ki=1;a.bd.add(b);b=new W;b.$a="LineV";b.stroke="gray";b.Wa=0.5;b.ki=5;a.bd.add(b);b=new W;b.$a="LineV";b.stroke="gray";b.Wa=1;b.ki=10;a.bd.add(b);b=new R;b.add(a.bd);b.Id="Grid";b.$u=p;b.dD=p;b.Yr="GRID";
a.add(b);a.nb.remove(b);a.bd.visible=p}
B.prototype.wA=function(){var a=this.N;if(a.GA){a.Wt=h;var b=a.nc,c=a.ub,d=b.width,e=c.width,g=b.height,i=c.height,j=b.right,k=c.right,l=b.bottom,n=c.bottom,r=b.x,q=c.x,b=b.y,c=c.y;if(e<d||i<g)this.JA&&a.Le?a.position=new E(this.scrollLeft+r,a.position.y):this.KA&&a.Me&&(a.position=new E(a.position.x,this.scrollTop+b)),ji(a),Dh(a),a.Wt=p,a.Tj=p;else{var v=a.scale;this.JA&&a.Le&&(r<q&&(a.position=new E(this.scrollLeft+r,a.position.y)),j>k&&(a.position=new E(-(a.jk.he-a.ma.width)+this.scrollLeft-a.ma.width/
v+a.nc.right,a.position.y)));this.KA&&a.Me&&(b<c&&(a.position=new E(a.position.x,this.scrollTop+b)),l>n&&(a.position=new E(a.position.x,-(a.kk.scrollHeight-a.ma.height)+this.scrollTop-a.ma.height/v+a.nc.bottom)));ji(a);a.Wt=p;a.Tj=p;Dh(a);b=a.nc;c=a.ub;j=b.right;k=c.right;l=b.bottom;n=c.bottom;r=b.x;q=c.x;b=b.y;c=c.y;e>=d&&(r>=q&&j<=k)&&(a.HA.style.width="1px");i>=g&&(b>=c&&l<=n)&&(a.IA.style.height="1px");ki(a)}}};B.prototype.xA=function(){this.N.GA=h};
B.prototype.computeBounds=B.prototype.Oe=function(){0<this.Og.count&&Ph(this);if(this.Kr.ca()){var a=this.Kr.copy();a.qr(this.padding);return a}for(var b=h,c=this.Ab,d=c.length,e=0;e<d;e++){var g=c.j[e];if(g.visible&&!g.Yc)for(var g=g.nb,i=g.length,j=0;j<i;j++){var k=g.j[j];k.$u&&k.ib()&&(k=k.pa,k.ca()&&(b?(b=p,a=k.copy()):a.qj(k)))}}b&&(a=new F(0,0,0,0));a.qr(this.padding);return a};
function li(a,b){if((b||a.$f)&&!a.jc&&a.nc.ca()){a.jc=h;var c=a.Qk;b&&a.Qj!==Fh&&(c=a.Qj);var d=c!==Fh?mi(a,c):a.scale,c=a.ub.copy(),e=a.ma.width/d,g=a.ma.height/d;a.position.wa();var i=a.Uk;b&&Zb(a.Fm)&&(i=a.Fm);ni(a,a.qb,a.nc,e,g,i);a.position.freeze();a.scale=d;a.jc=p;d=a.ub;d.ug(c)||a.hs(c,d)}}
function mi(a,b){var c=a.nc;if(!c.ca())return 1;var d=c.width,c=c.height,e=a.ma.width,g=a.ma.height,i=e/d,j=g/c,k=1;return b===oi?(k=Math.min(j,i),1<k&&(k=1),k):b===pi?(k=j>i?(g-a.he)/c:(e-a.he)/d,1<k&&(k=1),k):a.scale}B.prototype.zoomToFit=B.prototype.OK=function(){this.scale=mi(this,oi);xf(this)};
B.prototype.alignDocument=B.prototype.CH=function(a,b){this.Sj&&qi(this,this.Oe());var c=this.nc,d=this.ub,e=this.jc;this.jc=h;this.position=new E(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.jc=e;Dh(this);this.gf||xf(this)};
function ni(a,b,c,d,e,g){Zb(g)&&(d>c.width&&(b.x=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(b.y=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY)));d<c.width?(g=b.x+d/2,g=Math.min(g,c.right-d/2),g=Math.max(g,c.left+d/2),b.x=g-d/2):b.x>c.left?b.x=c.left:b.x<c.right-d&&(b.x=c.right-d);e<c.height?(d=b.y+e/2,d=Math.min(d,c.bottom-e/2),d=Math.max(d,c.top+e/2),b.y=d-e/2):b.y>c.top?b.y=c.top:b.y<c.bottom-e&&(b.y=c.bottom-e);isFinite(b.x)||(b.x=-a.padding.left);isFinite(b.y)||(b.y=-a.padding.top)}
B.prototype.findPartAt=B.prototype.Hr=function(a,b){var c=b?dg(this,a,function(a){return a.aa},function(a){return a.Vx()}):this.Xc(a,function(a){return a.aa});return c instanceof R?c:m};B.prototype.findObjectAt=B.prototype.Xc=function(a,b,c){b===f&&(b=m);c===f&&(c=m);var d=this.Ab.Tn;for(Ph(this);d.next();){var e=d.value;if(e.visible&&(e=e.Xc(a,b,c),e!==m))return e}return m};
function dg(a,b,c,d){c===f&&(c=m);d===f&&(d=m);var e=a.Ab.Tn;for(Ph(a);e.next();)if(a=e.value,a.visible&&!a.Yc&&(a=a.Xc(b,c,d),a!==m))return a;return m}B.prototype.findObjectsAt=B.prototype.Kn=function(a,b,c,d){b===f&&(b=m);c===f&&(c=m);if(!(d instanceof A)||!(d instanceof ta))d=new A(Q);Ph(this);for(var e=this.Ab.Tn;e.next();){var g=e.value;g.visible&&g.Kn(a,b,c,d)}return d};
B.prototype.findObjectsIn=B.prototype.Kl=function(a,b,c,d,e){b===f&&(b=m);c===f&&(c=m);d===f&&(d=p);if(!(e instanceof A)||!(e instanceof ta))e=new A(Q);Ph(this);for(var g=this.Ab.Tn;g.next();){var i=g.value;i.visible&&i.Kl(a,b,c,d,e)}return e};B.prototype.findObjectsNear=B.prototype.Ln=function(a,b,c,d,e){c===f&&(c=m);d===f&&(d=m);!(e instanceof A)&&!(e instanceof ta)&&(e=new A(Q));Ph(this);for(var g=this.Ab.Tn;g.next();){var i=g.value;i.visible&&i.Ln(a,b,c,d,e)}return e};
function Zh(a){-1!==a.iu&&(clearTimeout(a.iu),a.iu=-1)}function Xh(a,b,c,d){c.b=a;d?(d=a.Ng(b),c.Fc=a.vo(d),c.D=d):(c.Fc=a.kc.Fc,c.D=a.kc.D);a=0;b.ctrlKey&&(a+=1);b.altKey&&(a+=2);b.shiftKey&&(a+=4);c.sh=a;c.button=b.button;c.Ne=1;c.Wi=0;c.Fd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Lf=b.target.N?b.target.N:m;c.md=m}
function ma(a,b,c){if(b.bubbles)return t&&(t.trace&&t.sC)&&t.trace("NOT handled "+c.type+" "+b.toString()),h;t&&(t.trace&&t.sC)&&t.trace("handled "+c.type+" "+a.xa.name+" "+b.toString());c.stopPropagation!==f&&c.stopPropagation();c.preventDefault!==f&&"touchstart"!==c.type&&c.preventDefault();c.cancelBubble=h;return p}
B.prototype.pG=function(a){if(this.N.isEnabled){var b=this.N.kc;Xh(this.N,a,b,p);b.key=String.fromCharCode(a.which);switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:b.key="Add";break;case 189:b.key="Subtract";break;case 107:b.key=
"Add";break;case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.N.xa.doKeyDown();return(187===a.which||189===a.which||48===a.which||107===a.which||109===a.which)&&a.ctrlKey===h?(a.cancelBubble=h,a.preventDefault!==f?a.preventDefault():a.returnValue=p,Event.stop&&(u.g("Event.stop can fire for this browser"),Event.stop(a)),a.stopPropagation!==f&&a.stopPropagation(),p):ma(this.N,b,a)}};
B.prototype.qG=function(a){if(this.N.isEnabled){var b=this.N.kc;Xh(this.N,a,b,p);b.key=String.fromCharCode(a.which);switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del"}this.N.xa.doKeyUp();return ma(this.N,b,a)}};
B.prototype.Ng=function(a){if(this.dw){var b=this.ma,c=0,d=0;if(b.offsetParent!==f){do c+=b.offsetLeft+b.clientLeft,d+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c+=this.QA+this.OA+this.Lw;d+=this.RA+this.PA+this.Mw;b=a.pageX-c;a=a.pageY-d;this.Cd!==m&&(a=new E(b,a),qb(a,this.Cd),b=a.x,a=a.y);return new E(b,a)}b=this.ma;c=b.getBoundingClientRect();d=a.clientX-c.left*(b.width/c.width);a=a.clientY-c.top*(b.height/c.height);this.Cd!==m&&(a=new E(d,a),qb(a,this.Cd),d=a.x,a=a.y);return new E(d,a)};
u.a(B,"alternateCoordinates",B.prototype.ZE);u.defineProperty(B,{ZE:m},s("dw"),function(a){u.e(a,"boolean",B,"alternateCoordinates");this.dw=a});B.prototype.invalidateDocumentBounds=B.prototype.li=function(){if(!this.gf&&(ri(this),this.Fx===p)){this.Fx=h;var a=this;requestAnimationFrame(function(){a.ma===m||a.gh===h||($g(a),a.Fx=p)})}};function $g(a){a.gf||Ph(a);a.Sj&&qi(a,a.Oe());li(a);!a.jc&&a.Tj&&si(a);for(a=a.Nt.f;a.next();)$g(a.value)}
B.prototype.redraw=B.prototype.hK=function(){!this.jc&&!this.gf&&(Dh(this),ki(this),ji(this),ri(this),this.update())};B.prototype.isUpdateRequested=B.prototype.BJ=s("gh");function xf(a){!a.jc&&!a.gf&&a.gh===p&&(a.gh=h,requestAnimationFrame(function(){a.gh&&(a.update(),a.gh=p)}))}
B.prototype.update=B.prototype.update=function(){if(!(this.Jb===m||this.gf))if(!this.mp||this.gh){this.mp&&(this.mp=p);this.gf=h;this.Oy();this.gh=p;Ph(this);var a=p;if(!this.$f||this.jr&&this.Es)ti(this),this.jr=p,a=h;Ph(this);this.nc.ca()||qi(this,this.Oe());a&&(this.$f||(ui(this),vi(this)),this.la("LayoutCompleted"));Ph(this);!this.jc&&this.Tj&&!si(this)&&(si(this),a&&(this.$f||(ui(this),vi(this)),this.la("LayoutCompleted")));a&&!this.$f&&(this.$f=h);this.tg();this.gf=p}};
function ui(a){a.Qj!==Fh?a.scale=mi(a,a.Qj):a.Qk!==Fh&&(a.scale=mi(a,a.Qk));var b=a.position;if(b.ca())a.qb.z(b)?li(a,h):a.position=b;else{b=new E;b.qo(a.nc,a.xC);var c=a.ub,c=new F(0,0,c.width,c.height),d=new E;d.qo(c,a.yC);c=a.XD(d);a.position=new E(b.x-c.x,b.y-c.y);li(a,h)}a.la("InitialLayoutCompleted");a=a.ia;a!==m&&a.clear()}
function Ph(a){for(var b=0;23>b;b++){var c=a.Og.f;if(c===m||0===a.Og.count)break;a.Og=new ta(Q);for(var d=a,e=a.Og;c.next();){var g=c.value,i=g.constructor;i===tf&&wi(d,g)}for(c.reset();c.next();)d=c.value,i=d.constructor,i!==U&&i!==R||(d.yk()?(yh(d,Infinity,Infinity),d.Ac()):e.add(d));for(c.reset();c.next();)d=c.value,i=d.constructor,i===V&&(d.yk()?(yh(d,Infinity,Infinity),d.Ac(),xi(d)):e.add(d));for(c.reset();c.next();)d=c.value,i=d.constructor,i===sf&&(d.yk()?(yh(d,Infinity,Infinity),d.Ac()):e.add(d))}}
function wi(a,b){for(var c=b.sc,d=[];c.next();){var e=c.value,g=e.constructor;g===tf?(e.dc||e.Jc||e.Bi)&&wi(a,e):g===V?d.push(e):(yh(e,Infinity,Infinity),e.Ac())}c=d.length;for(e=0;e<c;e++)g=d[e],yh(g,Infinity,Infinity),g.Ac();yh(b,Infinity,Infinity);b.Ac()}
B.prototype.tg=function(a){this.Jb===m&&u.g("No div specified");this.ma===m&&u.g("No canvas specified");a||(a=this.Eg);var b=a!==this.Eg;if(b)gi(this);else if(!this.Ai)return;if(0<this.vm.count){for(var c=this.vm.f;c.next();)Eg(c.key,c.value);this.vm.clear()}a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.ma.width,this.ma.height);c=this.Cd;c.reset();1!==this.Sb&&c.scale(this.Sb);var d=this.qb;(0!==d.x||0!==d.y)&&c.translate(-d.x,-d.y);a.setTransform(c.m11,c.m12,c.m21,c.m22,c.Pa,c.Qa);t&&t.ur&&(a.fillStyle=
"red",a.fillRect(0,0,8,8),a.lineWidth=8,a.strokeStyle="rgba(255,255,0,.6)",c=this.ub,a.strokeRect(c.x,c.y,c.width,c.height),a.fillStyle="rgba(0,255,0,.2)",a.fillRect(this.nc.x,this.nc.y,this.nc.width,this.nc.height));c=this.Ab.length;for(d=0;d<c;d++)this.Ab.j[d].tg(a,this);t&&(t.aC||t.ur)&&t.ZB(a,this);this.cA?this.cA.Bv(this)&&this.iE():this.Ng=aa();b?gi(this):this.Ai=this.Im=p};function ri(a){if(a.Sj===p||a.gh===p)a.Sj=h,xf(a)}
function Dh(a,b){if(a.Ai===p&&(b===f||a.ub.Ve(b)))a.Ai=h,xf(a);for(var c=a.Nt.f;c.next();)Dh(c.value)}function ki(a){a.Tj===p&&(a.Tj=h)}function ji(a){a.Im===p&&(a.Im=h)}
function si(a){var b=a.ma;if(b!==m){var c=a.Jb,d=b.width,e=b.height,g=a.aB.copy(),i=p,j=0,k=0;a.Dm&&(j=a.he);a.Cm&&(k=a.he);if(c.clientWidth!==b.width+j||c.clientHeight!==b.height+k)a.Dm=p,a.Cm=p,b.width=c.clientWidth,b.height=c.clientHeight,i=h;a.Tj=p;if(!a.Vz||a.Wt)(d!==b.width||e!==b.height)&&a.update();else{var l=a.ub,n=a.nc,r=n.width,c=n.height,q=l.width,j=l.height,v=n.x,x=l.x,C=n.right,G=l.right,k=n.y,I=l.y,n=n.bottom,l=l.bottom,y="1px";a.tC&&a.Le&&(q+1<r?(y=r-q+b.width+"px",a.jk.scrollLeft=
a.position.x-v):v+1<x?(y=x-v+b.width+"px",a.jk.scrollLeft=a.jk.scrollWidth-a.jk.clientWidth):C>G+1&&(y=C-G+b.width+"px",a.jk.scrollLeft=a.position.x));r="1px"!==y;r!==a.Cm&&(i=a.he/a.scale,"1px"===y?(b.height+=a.he,j+=i,l+=i):(b.height-=a.he,j-=i,l-=i),i=h);a.Cm=r;a.HA.style.width=y;r="1px";a.uC&&a.Me&&(j+1<c?(r=c-j+b.height+"px",a.kk.scrollTop=a.position.y-k):k+1<I?(r=I-k+b.height+"px",a.kk.scrollTop=a.kk.scrollHeight-a.kk.clientHeight):n>l+1&&(r=n-l+b.height+"px",a.kk.scrollTop=a.position.y));c=
"1px"!==r;c!==a.Dm&&(b.width="1px"===r?b.width+a.he:b.width-a.he,i=h);a.Dm=c;a.IA.style.height=r;i&&gi(a);c=b.width;j=b.height;a.kk.style.height=j+"px";a.kk.style.width=a.Dm?c+a.he+"px":c+"px";a.jk.style.width=c+"px";a.jk.style.height=a.Cm?j+a.he+"px":j+"px";a.GA=p;return d!==b.width||e!==b.height?(l=a.ub,a.hs(g,l,i?h:f),a.update(),p):h}}}
function yi(a,b){for(var c=a.Ab,d=c.count,e=0;e<d;e++)c.R(e).name===b&&u.g("Cannot add layer with the name '"+b+"', a layer of the same name is already present in this diagram.")}u.a(B,"addsToTemporaryLayer",B.prototype.sr);u.defineProperty(B,{sr:m},s("Gz"),function(a){u.e(a,"boolean",B,"addsToTemporaryLayer");this.Gz=a});
B.prototype.add=B.prototype.add=function(a){u.c(a,R,B,"add:part");var b=a.b;if(b!==this){b!==m&&u.g("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());var c=this.sr?"Tool":a.Id,b=this.aj(c);b===m&&(b=this.aj(""));b===m&&u.g('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.za!==b&&(c=a.b===this?b.xk(99999999,a,h):b.xk(99999999,a),0<=c&&this.ae(Be,"parts",b,m,a,m,c),this.li(),a.v(zi),c=a.Wr,c!==m&&c(a,m,b))}};
B.prototype.xk=function(a){if(a instanceof U){if(this.It.add(a),a instanceof tf){var b=a.Za;b===m?this.tl.add(a):b.ll.add(a);b=a.Cb;b!==m&&(b.b=this)}}else a instanceof V?this.ot.add(a):a.constructor===R&&this.nb.add(a);if(b=a.data){a instanceof sf||this.Wf.add(b,a);var c=this;Ai(a,a,function(a){Bi(c,a)})}(a.Jc===h||a.Bi===h)&&this.Og.add(a);Ci(a,h);a.ib()&&(Dh(this),ri(this))};
B.prototype.Gd=function(a){if(a instanceof U){if(this.It.remove(a),a instanceof tf){var b=a.Za;b===m?this.tl.remove(a):b.ll.remove(a);b=a.Cb;b!==m&&(b.b=m)}}else a instanceof V?this.ot.remove(a):a.constructor===R&&this.nb.remove(a);if(b=a.data){a instanceof sf||this.Wf.remove(b);var c=this;Ai(a,a,function(a){Di(c,a)})}this.Og.remove(a);a.ib()&&(Dh(this),ri(this))};
B.prototype.remove=B.prototype.remove=function(a){u.c(a,R,B,"remove:part");var b=a.za;if(b!==m&&b.b===this){a.Ka=p;a.v(Ei);a.Gl();var c=b.Gd(-1,a);0<=c&&this.ae(Ce,"parts",b,a,m,c,m);c=a.Wr;c!==m&&c(a,b,m);this.li();this.xa.standardMouseOver()}};B.prototype.addLayer=B.prototype.pr=function(a){u.c(a,df,B,"addLayer:layer");yi(this,a.name);a.If(this);var b=this.Ab,c=b.count-1;if(!a.Yc)for(;0<=c&&b.R(c).Yc;)c--;b.rc(c+1,a);ri(this)};
B.prototype.addLayerBefore=B.prototype.OE=function(a,b){u.c(a,df,B,"addLayer:layer");yi(this,a.name);a.If(this);for(var c=this.Ab.count,d=0;d<c;d++)if(this.Ab.R(d)===b){this.Ab.rc(d,a);break}ri(this)};B.prototype.addLayerAfter=B.prototype.yH=function(a,b){u.c(a,df,B,"addLayer:layer");yi(this,a.name);a.If(this);for(var c=this.Ab.count,d=0;d<c;d++)if(this.Ab.R(d)===b){this.Ab.rc(d+1,a);break}ri(this)};
B.prototype.removeLayer=B.prototype.lK=function(a){if(""!==a.name&&this.Ab.remove(a)){for(var b=a.nb.copy().f;b.next();){var c=b.value,d=c.Id;c.Id="";d!==a.name&&(c.Id=d)}ri(this)}};B.prototype.findLayer=B.prototype.aj=function(a){for(var b=this.Un;b.next();){var c=b.value;if(c.name===a)return c}return m};B.prototype.addChangedListener=B.prototype.Nx=function(a){u.e(a,"function",B,"addChangedListener:listener");this.wi===m&&(this.wi=new A("function"));this.wi.add(a)};
B.prototype.removeChangedListener=B.prototype.az=function(a){u.e(a,"function",B,"removeChangedListener:listener");this.wi!==m&&(this.wi.remove(a),0===this.wi.count&&(this.wi=m))};B.prototype.zu=function(a){this.tb||this.ia.rC(a);if(this.wi!==m)for(var b=this.wi.f;b.next();){var c=b.value;c(a)}};B.prototype.raiseChangedEvent=B.prototype.ae=function(a,b,c,d,e,g,i){g===f&&(g=m);i===f&&(i=m);var j=new ye;j.b=this;j.Wc=a;j.propertyName=b;j.object=c;j.oldValue=d;j.Ye=g;j.newValue=e;j.Xe=i;this.zu(j)};
B.prototype.raiseChanged=B.prototype.d=function(a,b,c,d,e){this.ae(Ae,a,this,b,c,d,e)};u.m(B,{ia:"undoManager"},function(){return this.lf.ia});u.a(B,"skipsUndoManager",B.prototype.tb);u.defineProperty(B,{tb:"skipsUndoManager"},s("Th"),function(a){u.e(a,"boolean",B,"skipsUndoManager");this.Th=a;this.lf.Th=a});
B.prototype.changeState=B.prototype.wr=function(a,b){if(a!==m&&a.b===this){var c=this.bl;try{this.bl=h;var d=a.Wc;if(d===Ae){var e=a.object,g=a.propertyName,i=a.ga(b);u.jb(e,g,i);if(e instanceof Q){var j=e.aa;j!==m&&j.jh()}}else if(d===Be){var k=a.object,l=a.Xe,e=a.newValue;if(k instanceof w){if("number"===typeof l&&e instanceof Q){var n=k;b?n.Gd(l):n.rc(l,e);j=k.aa;j!==m&&j.jh()}}else if(k instanceof df){var r=a.Ye===h;if("number"===typeof l&&e instanceof R){var q=k;b?(e.jh(),q.Gd(l,e,r)):q.xk(l,
e,r)}}else u.g("unknown ChangedEvent.Insert object: "+a.toString())}else d===Ce?(k=a.object,l=a.Ye,e=a.oldValue,k instanceof w?"number"===typeof l&&e instanceof Q&&(n=k,b?n.rc(l,e):n.Gd(l)):k instanceof df?(r=a.Xe===h,"number"===typeof l&&e instanceof R&&(q=k,b?q.xk(l,e,r):(e.jh(),q.Gd(l,e,r)))):u.g("unknown ChangedEvent.Remove object: "+a.toString())):d!==ze&&u.g("unknown ChangedEvent: "+a.toString())}finally{this.bl=c}}};B.prototype.startTransaction=B.prototype.Pb=function(a){return this.ia.Pb(a)};
B.prototype.commitTransaction=B.prototype.Vd=function(a){return this.ia.Vd(a)};B.prototype.rollbackTransaction=B.prototype.js=function(){return this.ia.js()};B.prototype.updateAllTargetBindings=B.prototype.MK=function(){for(var a=this.jj;a.next();)a.value.tc();for(a=this.Bk;a.next();)a.value.tc();for(a=this.links;a.next();)a.value.tc()};
B.prototype.hs=function(a,b,c){if(!this.jc){ji(this);Dh(this);ki(this);ri(this);var d=this.Cb;d!==m&&(d.cv&&!c&&(a.width!==b.width||a.height!==b.height))&&d.v();li(this);this.la("ViewportBoundsChanged",c?{}:m,a);vi(this)}};
function vi(a){var b=a.bd;if(b!==m&&b.visible){for(var c,d=c=1,e=b.oa.length,g=0;g<e;g++){var i=b.oa.j[g],j=i.ki;2>j||("LineV"===i.$a?d=d*j/Cd(d,j):c=c*j/Cd(c,j))}e=b.Qr;c=new L(c*e.width,d*e.height);a=a.ub;a.ca()&&(b.width=a.width+2*c.width,b.height=a.height+2*c.height,a=Bd(a.x,a.y,0,0,c.width,c.height),b.aa.location=new E(a.x-c.width,a.y-c.height))}}B.prototype.clearSelection=B.prototype.Zx=function(){this.la("ChangingSelection");wf(this);this.la("ChangedSelection")};
function wf(a){a=a.selection;if(0<a.count){for(var b=a.Nf(),c=b.length,d=0;d<c;d++)b[d].Ka=p;a.wa();a.clear();a.freeze()}}B.prototype.select=B.prototype.select=function(a){if(a!==m&&a.za.b===this&&(!a.Ka||1<this.selection.count))this.la("ChangingSelection"),wf(this),a.Ka=h,this.la("ChangedSelection")};B.prototype.selectCollection=B.prototype.ez=function(a){this.la("ChangingSelection");wf(this);for(a=a.f;a.next();)a.value.Ka=h;this.la("ChangedSelection")};
B.prototype.scroll=function(a,b,c){c===f&&(c=1);var d="up"===b||"down"===b,e;"pixel"===a?e=c:"line"===a?e=c*(d?this.ls:this.ks):"page"===a?0!==window.innerHeight&&(e=Math.max(window.innerHeight-(d?this.ls:this.ks),0),e*=c):u.g("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:u.g("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
b);this.position=c};B.prototype.scrollToRect=B.prototype.rK=function(a){var b=this.ub;b.Cl(a)||(a=a.Au,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};B.prototype.centerRect=B.prototype.gI=function(a){var b=this.ub,a=a.Au;a.x-=b.width/2;a.y-=b.height/2;this.position=a};B.prototype.transformDocToView=B.prototype.vo=function(a){var b=this.Cd;b.reset();1!==this.Sb&&b.scale(this.Sb);var c=this.qb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return a.copy().transform(this.Cd)};
B.prototype.transformViewToDoc=B.prototype.XD=function(a){var b=this.Cd;b.reset();1!==this.Sb&&b.scale(this.Sb);var c=this.qb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return qb(a.copy(),this.Cd)};var Fh;B.None=Fh=u.l(B,"None",0);var oi;B.Uniform=oi=u.l(B,"Uniform",1);var pi;B.UniformToFill=pi=u.l(B,"UniformToFill",2);var kg;B.CycleAll=kg=u.l(B,"CycleAll",10);var ug;B.CycleNotDirected=ug=u.l(B,"CycleNotDirected",11);var wg;
B.CycleNotDirectedFast=wg=u.l(B,"CycleNotDirectedFast",12);var xg;B.CycleNotUndirected=xg=u.l(B,"CycleNotUndirected",13);var lg;B.CycleDestinationTree=lg=u.l(B,"CycleDestinationTree",14);var tg;B.CycleSourceTree=tg=u.l(B,"CycleSourceTree",15);u.a(B,"validCycle",B.prototype.cE);u.defineProperty(B,{cE:"validCycle"},s("pu"),function(a){var b=this.pu;b!==a&&(u.Ya(a,B,B,"validCycle"),this.pu=a,this.d("validCycle",b,a))});u.m(B,{Un:"layers"},function(){return this.Ab.f});u.a(B,"isModelReadOnly",B.prototype.Yd);
u.defineProperty(B,{Yd:"isModelReadOnly"},function(){var a=this.lf;return a===m?p:a.Ua},function(a){var b=this.lf;b!==m&&(b.Ua=a)});u.a(B,"isReadOnly",B.prototype.Ua);u.defineProperty(B,{Ua:"isReadOnly"},s("Uj"),function(a){var b=this.Uj;b!==a&&(u.e(a,"boolean",B,"isReadOnly"),this.Uj=a,this.d("isReadOnly",b,a))});u.a(B,"isEnabled",B.prototype.isEnabled);
u.defineProperty(B,{isEnabled:"isEnabled"},s("Ih"),function(a){var b=this.Ih;b!==a&&(u.e(a,"boolean",B,"isEnabled"),this.Ih=a,this.d("isEnabled",b,a))});u.a(B,"allowClipboard",B.prototype.wu);u.defineProperty(B,{wu:"allowClipboard"},s("ws"),function(a){var b=this.ws;b!==a&&(u.e(a,"boolean",B,"allowClipboard"),this.ws=a,this.d("allowClipboard",b,a))});u.a(B,"allowCopy",B.prototype.Zh);
u.defineProperty(B,{Zh:"allowCopy"},s("sj"),function(a){var b=this.sj;b!==a&&(u.e(a,"boolean",B,"allowCopy"),this.sj=a,this.d("allowCopy",b,a))});u.a(B,"allowDelete",B.prototype.ok);u.defineProperty(B,{ok:"allowDelete"},s("tj"),function(a){var b=this.tj;b!==a&&(u.e(a,"boolean",B,"allowDelete"),this.tj=a,this.d("allowDelete",b,a))});u.a(B,"allowDragOut",B.prototype.xu);
u.defineProperty(B,{xu:"allowDragOut"},s("xs"),function(a){var b=this.xs;b!==a&&(u.e(a,"boolean",B,"allowDragOut"),this.xs=a,this.d("allowDragOut",b,a))});u.a(B,"allowDrop",B.prototype.kB);u.defineProperty(B,{kB:"allowDrop"},s("ys"),function(a){var b=this.ys;b!==a&&(u.e(a,"boolean",B,"allowDrop"),this.ys=a,this.d("allowDrop",b,a))});u.a(B,"allowTextEdit",B.prototype.yn);
u.defineProperty(B,{yn:"allowTextEdit"},s("Dj"),function(a){var b=this.Dj;b!==a&&(u.e(a,"boolean",B,"allowTextEdit"),this.Dj=a,this.d("allowTextEdit",b,a))});u.a(B,"allowGroup",B.prototype.sn);u.defineProperty(B,{sn:"allowGroup"},s("uj"),function(a){var b=this.uj;b!==a&&(u.e(a,"boolean",B,"allowGroup"),this.uj=a,this.d("allowGroup",b,a))});u.a(B,"allowUngroup",B.prototype.zn);
u.defineProperty(B,{zn:"allowUngroup"},s("Ej"),function(a){var b=this.Ej;b!==a&&(u.e(a,"boolean",B,"allowUngroup"),this.Ej=a,this.d("allowUngroup",b,a))});u.a(B,"allowInsert",B.prototype.tn);u.defineProperty(B,{tn:"allowInsert"},s("As"),function(a){var b=this.As;b!==a&&(u.e(a,"boolean",B,"allowInsert"),this.As=a,this.d("allowInsert",b,a))});u.a(B,"allowLink",B.prototype.xl);
u.defineProperty(B,{xl:"allowLink"},s("vj"),function(a){var b=this.vj;b!==a&&(u.e(a,"boolean",B,"allowLink"),this.vj=a,this.d("allowLink",b,a))});u.a(B,"allowRelink",B.prototype.Qi);u.defineProperty(B,{Qi:"allowRelink"},s("yj"),function(a){var b=this.yj;b!==a&&(u.e(a,"boolean",B,"allowRelink"),this.yj=a,this.d("allowRelink",b,a))});u.a(B,"allowMove",B.prototype.pk);
u.defineProperty(B,{pk:"allowMove"},s("wj"),function(a){var b=this.wj;b!==a&&(u.e(a,"boolean",B,"allowMove"),this.wj=a,this.d("allowMove",b,a))});u.a(B,"allowPrint",B.prototype.un);u.defineProperty(B,{un:"allowPrint"},s("xj"),function(a){var b=this.xj;b!==a&&(u.e(a,"boolean",B,"allowPrint"),this.xj=a,this.d("allowPrint",b,a))});u.a(B,"allowReshape",B.prototype.vn);
u.defineProperty(B,{vn:"allowReshape"},s("zj"),function(a){var b=this.zj;b!==a&&(u.e(a,"boolean",B,"allowReshape"),this.zj=a,this.d("allowReshape",b,a))});u.a(B,"allowResize",B.prototype.wn);u.defineProperty(B,{wn:"allowResize"},s("Aj"),function(a){var b=this.Aj;b!==a&&(u.e(a,"boolean",B,"allowResize"),this.Aj=a,this.d("allowResize",b,a))});u.a(B,"allowRotate",B.prototype.xn);
u.defineProperty(B,{xn:"allowRotate"},s("Bj"),function(a){var b=this.Bj;b!==a&&(u.e(a,"boolean",B,"allowRotate"),this.Bj=a,this.d("allowRotate",b,a))});u.a(B,"allowSelect",B.prototype.Sd);u.defineProperty(B,{Sd:"allowSelect"},s("Cj"),function(a){var b=this.Cj;b!==a&&(u.e(a,"boolean",B,"allowSelect"),this.Cj=a,this.d("allowSelect",b,a))});u.a(B,"allowUndo",B.prototype.Ox);
u.defineProperty(B,{Ox:"allowUndo"},s("Bs"),function(a){var b=this.Bs;b!==a&&(u.e(a,"boolean",B,"allowUndo"),this.Bs=a,this.d("allowUndo",b,a))});u.a(B,"allowZoom",B.prototype.tr);u.defineProperty(B,{tr:"allowZoom"},s("Ds"),function(a){var b=this.Ds;b!==a&&(u.e(a,"boolean",B,"allowZoom"),this.Ds=a,this.d("allowZoom",b,a))});u.a(B,"hasVerticalScrollbar",B.prototype.uC);
u.defineProperty(B,{uC:"hasVerticalScrollbar"},s("ct"),function(a){var b=this.ct;b!==a&&(u.e(a,"boolean",B,"hasVerticalScrollbar"),this.ct=a,this.d("hasVerticalScrollbar",b,a),li(this))});u.a(B,"hasHorizontalScrollbar",B.prototype.tC);u.defineProperty(B,{tC:"hasHorizontalScrollbar"},s("bt"),function(a){var b=this.bt;b!==a&&(u.e(a,"boolean",B,"hasHorizontalScrollbar"),this.bt=a,this.d("hasHorizontalScrollbar",b,a),li(this))});u.a(B,"allowHorizontalScroll",B.prototype.Le);
u.defineProperty(B,{Le:"allowHorizontalScroll"},s("zs"),function(a){var b=this.zs;b!==a&&(u.e(a,"boolean",B,"allowHorizontalScroll"),this.zs=a,this.d("allowHorizontalScroll",b,a),li(this))});u.a(B,"allowVerticalScroll",B.prototype.Me);u.defineProperty(B,{Me:"allowVerticalScroll"},s("Cs"),function(a){var b=this.Cs;b!==a&&(u.e(a,"boolean",B,"allowVerticalScroll"),this.Cs=a,this.d("allowVerticalScroll",b,a),li(this))});u.a(B,"scrollHorizontalLineChange",B.prototype.ks);
u.defineProperty(B,{ks:"scrollHorizontalLineChange"},s("Xt"),function(a){var b=this.Xt;b!==a&&(u.e(a,"number",B,"scrollHorizontalLineChange"),0>a&&u.ha(a,">= 0",B,"scrollHorizontalLineChange"),this.Xt=a,this.d("scrollHorizontalLineChange",b,a))});u.a(B,"scrollVerticalLineChange",B.prototype.ls);
u.defineProperty(B,{ls:"scrollVerticalLineChange"},s("Yt"),function(a){var b=this.Yt;b!==a&&(u.e(a,"number",B,"scrollVerticalLineChange"),0>a&&u.ha(a,">= 0",B,"scrollVerticalLineChange"),this.Yt=a,this.d("scrollVerticalLineChange",b,a))});u.a(B,"lastInput",B.prototype.H);u.defineProperty(B,{H:"lastInput"},s("kc"),function(a){t&&u.c(a,we,B,"lastInput");this.kc=a});u.a(B,"firstInput",B.prototype.pc);u.defineProperty(B,{pc:"firstInput"},s("Zf"),function(a){t&&u.c(a,we,B,"firstInput");this.Zf=a});
u.a(B,"currentCursor",B.prototype.Cc);u.defineProperty(B,{Cc:"currentCursor"},s("Ss"),function(a){u.e(a,"string",B,"currentCursor");this.Ss===a||""===a&&this.Ss===this.Zo||(this.Ss=a,""!==a?(this.ma.style.cursor=a,document.body.style.cursor=a):(this.ma.style.cursor=this.hy,document.body.style.cursor=this.hy))});u.a(B,"defaultCursor",B.prototype.hy);
u.defineProperty(B,{hy:"defaultCursor"},s("Zo"),function(a){u.e(a,"string",B,"defaultCursor");var b=this.Zo;b!==a&&(this.Zo=a,this.d("defaultCursor",b,a))});u.a(B,"hasGestureZoom",B.prototype.$F);u.defineProperty(B,{$F:"hasGestureZoom"},s("$k"),function(a){var b=this.$k;b!==a&&(u.e(a,"boolean",B,"hasGestureZoom"),this.$k=a,this.d("hasGestureZoom",b,a))});u.a(B,"click",B.prototype.click);
u.defineProperty(B,{click:"click"},s("Ch"),function(a){var b=this.Ch;b!==a&&(a!==m&&u.e(a,"function",B,"click"),this.Ch=a,this.d("click",b,a))});u.a(B,"doubleClick",B.prototype.Hl);u.defineProperty(B,{Hl:"doubleClick"},s("Fh"),function(a){var b=this.Fh;b!==a&&(a!==m&&u.e(a,"function",B,"doubleClick"),this.Fh=a,this.d("doubleClick",b,a))});u.a(B,"contextClick",B.prototype.zr);
u.defineProperty(B,{zr:"contextClick"},s("Dh"),function(a){var b=this.Dh;b!==a&&(a!==m&&u.e(a,"function",B,"contextClick"),this.Dh=a,this.d("contextClick",b,a))});u.a(B,"mouseOver",B.prototype.ds);u.defineProperty(B,{ds:"mouseOver"},s("Rh"),function(a){var b=this.Rh;b!==a&&(a!==m&&u.e(a,"function",B,"mouseOver"),this.Rh=a,this.d("mouseOver",b,a))});u.a(B,"mouseHover",B.prototype.cs);
u.defineProperty(B,{cs:"mouseHover"},s("Qh"),function(a){var b=this.Qh;b!==a&&(a!==m&&u.e(a,"function",B,"mouseHover"),this.Qh=a,this.d("mouseHover",b,a))});u.a(B,"mouseHold",B.prototype.bs);u.defineProperty(B,{bs:"mouseHold"},s("Ph"),function(a){var b=this.Ph;b!==a&&(a!==m&&u.e(a,"function",B,"mouseHold"),this.Ph=a,this.d("mouseHold",b,a))});u.a(B,"mouseDragOver",B.prototype.XC);
u.defineProperty(B,{XC:"mouseDragOver"},s("Ct"),function(a){var b=this.Ct;b!==a&&(a!==m&&u.e(a,"function",B,"mouseDragOver"),this.Ct=a,this.d("mouseDragOver",b,a))});u.a(B,"mouseDrop",B.prototype.as);u.defineProperty(B,{as:"mouseDrop"},s("Oh"),function(a){var b=this.Oh;b!==a&&(a!==m&&u.e(a,"function",B,"mouseDrop"),this.Oh=a,this.d("mouseDrop",b,a))});u.a(B,"toolTip",B.prototype.vs);
u.defineProperty(B,{vs:"toolTip"},s("Xh"),function(a){var b=this.Xh;b!==a&&(a!==m&&u.c(a,sf,B,"toolTip"),this.Xh=a,this.d("toolTip",b,a))});u.a(B,"contextMenu",B.prototype.contextMenu);u.defineProperty(B,{contextMenu:"contextMenu"},s("Eh"),function(a){var b=this.Eh;b!==a&&(a!==m&&u.c(a,sf,B,"contextMenu"),this.Eh=a,this.d("contextMenu",b,a))});u.a(B,"commandHandler",B.prototype.Ed);
u.defineProperty(B,{Ed:"commandHandler"},s("mw"),function(a){var b=this.mw;b!==a&&(u.c(a,wa,B,"commandHandler"),a.b!==m&&u.g("Cannot share CommandHandlers between Diagrams: "+a.toString()),b!==m&&b.If(m),this.mw=a,a.If(this))});u.a(B,"toolManager",B.prototype.Xb);u.defineProperty(B,{Xb:"toolManager"},s("ou"),function(a){var b=this.ou;b!==a&&(u.c(a,gf,B,"toolManager"),a.b!==m&&u.g("Cannot share ToolManagers between Diagrams: "+a.toString()),b!==m&&b.If(m),this.ou=a,a.If(this))});
u.a(B,"defaultTool",B.prototype.Iu);u.defineProperty(B,{Iu:"defaultTool"},s("uw"),function(a){var b=this.uw;b!==a&&(u.c(a,yf,B,"defaultTool"),this.uw=a,this.xa===b&&(this.xa=a))});u.a(B,"currentTool",B.prototype.xa);u.defineProperty(B,{xa:"currentTool"},s("pw"),function(a){var b=this.pw;b!==m&&(b.V&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());a===m&&(a=this.Iu);a!==m&&(u.c(a,yf,B,"currentTool"),this.pw=a,a.If(this),a.doStart())});u.m(B,{selection:"selection"},s("au"));
u.a(B,"maxSelectionCount",B.prototype.QC);u.defineProperty(B,{QC:"maxSelectionCount"},s("vt"),function(a){var b=this.vt;if(b!==a)if(u.e(a,"number",B,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.vt=a,this.d("maxSelectionCount",b,a),!this.ia.hb&&(a=this.selection.count-a,0<a)){this.la("ChangingSelection");for(var b=this.selection.Nf(),c=0;c<a;c++)b[c].Ka=p;this.la("ChangedSelection")}}else u.ha(a,">= 0",B,"maxSelectionCount")});u.a(B,"nodeSelectionAdornmentTemplate",B.prototype.$C);
u.defineProperty(B,{$C:"nodeSelectionAdornmentTemplate"},s("$w"),function(a){var b=this.$w;b!==a&&(u.c(a,sf,B,"nodeSelectionAdornmentTemplate"),this.$w=a,this.d("nodeSelectionAdornmentTemplate",b,a))});u.a(B,"groupSelectionAdornmentTemplate",B.prototype.pC);u.defineProperty(B,{pC:"groupSelectionAdornmentTemplate"},s("Kw"),function(a){var b=this.Kw;b!==a&&(u.c(a,sf,B,"groupSelectionAdornmentTemplate"),this.Kw=a,this.d("groupSelectionAdornmentTemplate",b,a))});
u.a(B,"linkSelectionAdornmentTemplate",B.prototype.MC);u.defineProperty(B,{MC:"linkSelectionAdornmentTemplate"},s("Sw"),function(a){var b=this.Sw;b!==a&&(u.c(a,sf,B,"linkSelectionAdornmentTemplate"),this.Sw=a,this.d("linkSelectionAdornmentTemplate",b,a))});u.a(B,"isModified",B.prototype.kG);u.defineProperty(B,{kG:"isModified"},function(){var a=this.ia;return a===m?this.jA:a.El!==m?h:this.jA&&this.Oj!==a.dj},function(a){u.e(a,"boolean",B,"isModified");this.jA=a;var b=this.ia;!a&&b&&(this.Oj=b.dj)});
u.a(B,"model",B.prototype.S);u.defineProperty(B,{S:"model"},s("lf"),function(a){var b=this.lf;if(b!==a){u.c(a,D,B,"model");b!==m&&(b.ia!==a.ia&&b.ia.iG)&&u.g("Do not replace a Diagram.model while a transaction is in progress.");this.$f=p;this.mp=h;this.gh=p;var c=this.gf;this.gf=h;b!==m&&(b.az(this.pA),b instanceof P&&Hh(this,b.wg),Hh(this,b.uh));this.lf=a;a.Nx(this.oA);Ih(this,a.uh);a instanceof P&&Jh(this,a.wg);a.az(this.oA);a.Nx(this.pA);this.gf=c;xf(this);b!==m&&(a.ia.isEnabled=b.ia.isEnabled)}});
function Gh(a,b,c){var d=a.vg(b);if(d!==m&&"string"===typeof c)d.tc(c);else{d=m;for(a=a.el.f;a.next();){for(var e=a.value,g=0;g<e.length;g++){var i=e[g];i.hf!==m&&(i=i.hf.ga(b),i!==m&&(d===m&&(d=[]),d.push(i)))}if(d!==m)break}b=d;if(b!==m&&"string"===typeof c)for(d=0;d<b.length;d++)b[d].tc(c)}}function Bi(a,b){var c=b.Vj;if(u.isArray(c)){var d=a.el.ga(c);if(d===m)a.el.add(c,[b]);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Di(a,b){var c=b.Vj;if(u.isArray(c)){var d=a.el.ga(c);if(d!==m)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.el.remove(c);break}}}
B.prototype.clear=B.prototype.clear=function(){var a=m;this.bd!==m&&(a=this.bd.aa);this.S.clear();for(var b=this.Ab.length,c=0;c<b;c++)this.Ab.j[c].clear();this.Og.clear();this.vm.clear();this.It.clear();this.tl.clear();this.ot.clear();this.nb.clear();this.Wf.clear();this.el.clear();this.au.wa();this.au.clear();this.au.freeze();this.qm=this.lx=m;this.Xs=(new F(NaN,NaN,NaN,NaN)).freeze();a!==m&&(this.add(a),this.nb.remove(a))};
B.prototype.reset=B.prototype.reset=function(){this.jc=h;this.clear();this.Ab=new A(df);this.qb=(new E(NaN,NaN)).freeze();this.Sb=1;this.zt=1E-4;this.ut=100;this.su=(new E(NaN,NaN)).freeze();this.$s=(new F(NaN,NaN,NaN,NaN)).freeze();this.Qk=Fh;this.Uk=ic;this.Qj=Fh;this.Fm=ic;this.et=this.dt=nc;this.Fs=(new Hb(16,16,16,16)).freeze();this.lt=h;this.pu=kg;this.Zo="auto";this.lf=this.Eh=this.Xh=this.Oh=this.Ct=this.Ph=this.Qh=this.Rh=this.Dh=this.Fh=this.Ch=m;this.Uj=p;this.tj=this.sj=this.ws=this.Ih=
h;this.ys=this.xs=p;this.Cs=this.zs=this.ct=this.bt=this.Ds=this.Bs=this.Cj=this.Bj=this.Aj=this.zj=this.xj=this.wj=this.yj=this.vj=this.As=this.Ej=this.uj=this.Dj=h;this.Yt=this.Xt=16;this.Nd=(new Hb(5)).freeze();this.vt=999999999;this.ed=m;Qh(this);Rh(this);this.bd=m;this.S=new P;this.Th=h;this.Cb=new Sh;this.jc=this.Th=p};
B.prototype.rebuildParts=B.prototype.Yl=function(){for(var a=[],b=this.selection.f;b.next();){var c=b.value.data;c&&a.push(c)}b=this.S;b instanceof P&&Hh(this,b.wg);Hh(this,b.uh);Ih(this,b.uh);b instanceof P&&Jh(this,b.wg);for(b=0;b<a.length;b++)if(c=this.vg(a[b]))c.Ka=h};function Ih(a,b){if(b!==m){for(var c=a.S,d=u.Hb(b),e=0;e<d;e++){var g=u.wb(b,e);c.Si(g)?Kh(a,g,p):Lh(a,g)}if(c instanceof P){for(e=0;e<d;e++)g=u.wb(b,e),c.Si(g)&&Fi(a,g);for(c=a.links;c.next();)Gi(c.value)}a.zy(p)}}
function Kh(a,b,c){if(!(b===f||b===m)&&!a.ia.hb&&!a.Wf.contains(b)){c===f&&(c=h);var d=a.getCategoryForNodeData(b),e=a.findTemplateForNodeData(b,d);e instanceof R&&(vf(e),e=e.copy(),e instanceof R&&(e.Fj=d,a.add(e),e.data=b,c&&Fi(a,b)))}}B.prototype.getCategoryForNodeData=B.prototype.kC=function(a){var b=this.S,c=b.kC(a),d=p;b instanceof P&&(d=b.Ey(a));d&&""===c&&(c="LinkLabel");return c};
B.prototype.findTemplateForNodeData=B.prototype.YI=function(a,b){var c=p,d=this.S;d instanceof P&&(c=d.Ay(a));c?(c=this.wy.ga(b),c===m&&(c=this.wy.ga(""),c===m&&(u.HE===f&&(u.HE=h,u.trace('No Group template found for category "'+b+'"'),u.trace("  Using default group template")),c=this.oE))):(c=this.Wy.ga(b),c===m&&(c=this.Wy.ga(""),c===m&&(u.KE===f&&(u.KE=h,u.trace('No Node template found for category "'+b+'"'),u.trace("  Using default node template")),c=this.rE)));return c instanceof R?c:m};
function Fi(a,b){var c=a.S;if(c instanceof P){var d=c.gc(b);if(d!==f){var e=c.cC(d),g=a.vg(b);if(e!==m&&g!==m&&g instanceof U){for(e=e.f;e.next();){var i=e.value;if(c.Si(i)){if(g instanceof tf&&c.Pr(i)===d){var j=a.vg(i);j!==m&&(j.Za=g)}}else if(j=a.bj(i),j!==m){c.On(i)===d&&(j.ja=g);c.Pn(i)===d&&(j.na=g);for(var i=c.Ml(i),k=0;k<i.length;k++)if(i[k]===d){g.oe=j;break}}}c.ph(d)}c=c.Pr(b);c!==f&&(c=a.oh(c),c instanceof tf&&(g.Za=c))}}}
function Jh(a,b){if(b!==m){for(var c=u.Hb(b),d=0;d<c;d++)Lh(a,u.wb(b,d));a.zy(p)}}
function Lh(a,b){if(!(b===f||b===m)&&!a.ia.hb&&!a.Wf.contains(b)){var c=a.getCategoryForLinkData(b),d=a.findTemplateForLinkData(b,c);if(d instanceof V&&(vf(d),d=d.copy(),d instanceof V)){d.Fj=c;var c=a.S,e=c.On(b);e!==f&&(e=a.oh(e),e instanceof U&&(d.ja=e));e=c.VF(b);d.qh=e;e=c.Pn(b);e!==f&&(e=a.oh(e),e instanceof U&&(d.na=e));e=c.XF(b);d.ri=e;c=c.Ml(b);if(u.isArray(c))for(var e=u.Hb(c),g=0;g<e;g++){var i=a.oh(u.wb(c,g));i!==m&&(i.oe=d)}a.add(d);d.data=b}}}
B.prototype.getCategoryForLinkData=B.prototype.jC=function(a){return this.S.jC(a)};B.prototype.findTemplateForLinkData=B.prototype.XI=function(a,b){var c=this.Ky.ga(b);c===m&&(c=this.Ky.ga(""),c===m&&(u.JE===f&&(u.JE=h,u.trace('No Link template found for category "'+b+'"'),u.trace("  Using default link template")),c=this.qE));return c instanceof V?c:m};function Hh(a,b){for(var c=u.Hb(b),d=0;d<c;d++)Mh(a,u.wb(b,d))}
function Mh(a,b){if(!(b===f||b===m)){var c=a.vg(b);if(c instanceof R){var d=c.za;if(!(d===m||d.b!==a)){var e=a.S;if(e instanceof P&&c instanceof U){var g=e.gc(c.data);if(g!==f){for(var i=c.pe;i.next();){var j=i.value.data;e.sg(g,j)}c.ej&&(i=c.oe,i!==m&&(j=i.data,e.sg(g,j)));if(c instanceof tf)for(i=c.sc;i.next();)j=i.value.data,e.Si(j)&&e.sg(g,j)}}c.Ka=p;e=d.Gd(-1,c);0<=e&&a.ae(Ce,"parts",d,c,m,e,m);e=c.Wr;e!==m&&e(c,d,m)}}}}
B.prototype.findPartForKey=B.prototype.VI=function(a){if(a===m||a===f)return m;a=this.S.nh(a);if(a===m)return m;a=this.Wf.ga(a);return a instanceof R?a:m};B.prototype.findNodeForKey=B.prototype.oh=function(a){if(a===m||a===f)return m;a=this.S.nh(a);if(a===m)return m;a=this.Wf.ga(a);return a instanceof U?a:m};B.prototype.findPartForData=B.prototype.vg=function(a){if(a===m)return m;a=this.Wf.ga(a);return a instanceof R?a:m};
B.prototype.findNodeForData=B.prototype.TI=function(a){if(a===m)return m;a=this.Wf.ga(a);return a instanceof U?a:m};B.prototype.findLinkForData=B.prototype.bj=function(a){if(a===m)return m;a=this.Wf.ga(a);return a instanceof V?a:m};u.a(B,"nodeTemplate",B.prototype.EG);u.defineProperty(B,{EG:"nodeTemplate"},function(){return this.Ji.ga("")},function(a){var b=this.Ji.ga("");b!==a&&(u.c(a,R,B,"nodeTemplate"),this.Ji.add("",a),this.d("nodeTemplate",b,a),this.ia.hb||this.Yl())});
u.a(B,"nodeTemplateMap",B.prototype.Wy);u.defineProperty(B,{Wy:"nodeTemplateMap"},s("Ji"),function(a){var b=this.Ji;b!==a&&(u.c(a,sa,B,"nodeTemplateMap"),this.Ji=a,this.d("nodeTemplateMap",b,a),this.ia.hb||this.Yl())});u.a(B,"groupTemplate",B.prototype.ZF);u.defineProperty(B,{ZF:"groupTemplate"},function(){return this.Zk.ga("")},function(a){var b=this.Zk.ga("");b!==a&&(u.c(a,tf,B,"groupTemplate"),this.Zk.add("",a),this.d("groupTemplate",b,a),this.ia.hb||this.Yl())});u.a(B,"groupTemplateMap",B.prototype.wy);
u.defineProperty(B,{wy:"groupTemplateMap"},s("Zk"),function(a){var b=this.Zk;b!==a&&(u.c(a,sa,B,"groupTemplateMap"),this.Zk=a,this.d("groupTemplateMap",b,a),this.ia.hb||this.Yl())});u.a(B,"linkTemplate",B.prototype.tG);u.defineProperty(B,{tG:"linkTemplate"},function(){return this.Yj.ga("")},function(a){var b=this.Yj.ga("");b!==a&&(u.c(a,V,B,"linkTemplate"),this.Yj.add("",a),this.d("linkTemplate",b,a),this.ia.hb||this.Yl())});u.a(B,"linkTemplateMap",B.prototype.Ky);
u.defineProperty(B,{Ky:"linkTemplateMap"},s("Yj"),function(a){var b=this.Yj;b!==a&&(u.c(a,sa,B,"linkTemplateMap"),this.Yj=a,this.d("linkTemplateMap",b,a),this.ia.hb||this.Yl())});u.a(B,"isMouseCaptured",B.prototype.Oc);
u.defineProperty(B,{Oc:"isMouseCaptured"},s("kA"),function(a){var b=this.ma;a?(this.H.bubbles=p,b.removeEventListener("mousemove",this.co,p),b.removeEventListener("mousedown",this.bo,p),b.removeEventListener("mouseup",this.fo,p),b.removeEventListener("mousewheel",this.zg,p),b.removeEventListener("DOMMouseScroll",this.zg,p),b.removeEventListener("mouseout",this.eo,p),window.addEventListener("mousemove",this.co,h),window.addEventListener("mousedown",this.bo,h),window.addEventListener("mouseup",this.fo,
h),window.addEventListener("mousewheel",this.zg,h),window.addEventListener("DOMMouseScroll",this.zg,h),window.addEventListener("mouseout",this.eo,h),window.addEventListener("selectstart",this.preventDefault,p)):(window.removeEventListener("mousemove",this.co,h),window.removeEventListener("mousedown",this.bo,h),window.removeEventListener("mouseup",this.fo,h),window.removeEventListener("mousewheel",this.zg,h),window.removeEventListener("DOMMouseScroll",this.zg,h),window.removeEventListener("mouseout",
this.eo,h),window.removeEventListener("selectstart",this.preventDefault,p),b.addEventListener("mousemove",this.co,p),b.addEventListener("mousedown",this.bo,p),b.addEventListener("mouseup",this.fo,p),b.addEventListener("mousewheel",this.zg,p),b.addEventListener("DOMMouseScroll",this.zg,p),b.addEventListener("mouseout",this.eo,p));this.kA=a});u.a(B,"position",B.prototype.position);
u.defineProperty(B,{position:"position"},s("qb"),function(a){var b=this.qb;if(!b.z(a)){u.c(a,E,B,"position");var c=this.ub.copy();c.x=b.x;c.y=b.y;b.$i(a)?a=b:this.jc||(this.jc=h,b=this.scale,ni(this,a,this.nc,this.ma.width/b,this.ma.height/b,this.Uk),this.jc=p);this.qb=a.F();this.hs(c,this.ub);xf(this)}});u.a(B,"grid",B.prototype.Wu);
u.defineProperty(B,{Wu:"grid"},function(){this.bd===m&&hi(this);return this.bd},function(a){var b=this.bd;if(b!==a){b===m&&(hi(this),b=this.bd);u.c(a,w,B,"grid");a.type!==ii&&u.g("Diagram.grid must be a Panel of type Panel.Grid");var c=b.W;c!==m&&c.remove(b);this.bd=a;a.name="GRID";c!==m&&c.add(a);Dh(this);this.d("grid",b,a)}});u.m(B,{ub:"viewportBounds"},function(){var a=this.qb,b=this.Sb,c=this.ma,d=this.aB;d.Od(a.x,a.y,Math.max(c.width,0)/b,Math.max(c.height,0)/b);return d});
u.a(B,"fixedBounds",B.prototype.Kr);u.defineProperty(B,{Kr:"fixedBounds"},s("$s"),function(a){var b=this.$s;b.z(a)||(u.c(a,F,B,"fixedBounds"),this.$s=a=a.F(),ri(this),this.d("fixedBounds",b,a))});u.m(B,{nc:"documentBounds"},s("Xs"));function qi(a,b){var c=a.Xs;c.z(b)||(b=b.F(),a.Xs=b,a.Sj=p,li(a),a.la("DocumentBoundsChanged",m,c.copy()),ki(a))}u.a(B,"scale",B.prototype.scale);
u.defineProperty(B,{scale:"scale"},s("Sb"),function(a){var b=this.Sb;if(b!==a){u.i(a,B,"scale");this.Sb=a;var c=a;a<this.ij&&(c=this.ij);a>this.hj&&(c=this.hj);if(!isNaN(a)&&!this.jc&&!this.gf){this.jc=h;var d=this.ub.copy(),e=this.ma.width/c,g=this.ma.height/c;d.width=this.ma.width/b;d.height=this.ma.height/b;var i=this.Mk.copy();if(isNaN(i.x))switch(this.Fu){case Dc:i.x=0;break;case Jc:i.x=e-1;break;case qc:i.x=e/2;break;case ic:case Lc:i.x=e/2}if(isNaN(i.y))switch(this.Fu){case Cc:i.y=0;break;
case Kc:i.y=g-1;break;case qc:i.y=g/2;break;case ic:case Lc:i.y=g/2}var j=this.position,a=new E(j.x+i.x/b-i.x/a,j.y+i.y/b-i.y/a);ni(this,a,this.nc,e,g,this.Uk);this.position=a;this.jc=p;e=this.ub;this.Sb=c;this.hs(d,e)}Dh(this);ki(this)}});u.a(B,"autoScale",B.prototype.Sx);u.defineProperty(B,{Sx:"autoScale"},s("Qk"),function(a){var b=this.Qk;b!==a&&(u.Ya(a,B,B,"autoScale"),this.Qk=a,this.d("autoScale",b,a),a!==Fh&&li(this))});u.a(B,"initialAutoScale",B.prototype.cG);
u.defineProperty(B,{cG:"initialAutoScale"},s("Qj"),function(a){var b=this.Qj;b!==a&&(u.Ya(a,B,B,"initialAutoScale"),this.Qj=a,this.d("initialAutoScale",b,a))});u.a(B,"initialViewportSpot",B.prototype.yC);u.defineProperty(B,{yC:"initialViewportSpot"},s("et"),function(a){var b=this.et;b!==a&&(u.c(a,K,B,"initialViewportSpot"),Zb(a)||u.g("initialViewportSpot must be a real Spot: "+a),this.et=a,this.d("initialViewportSpot",b,a))});u.a(B,"initialDocumentSpot",B.prototype.xC);
u.defineProperty(B,{xC:"initialDocumentSpot"},s("dt"),function(a){var b=this.dt;b!==a&&(u.c(a,K,B,"initialDocumentSpot"),Zb(a)||u.g("initialViewportSpot must be a real Spot: "+a),this.dt=a,this.d("initialDocumentSpot",b,a))});u.a(B,"minScale",B.prototype.ij);u.defineProperty(B,{ij:"minScale"},s("zt"),function(a){u.i(a,B,"minScale");var b=this.zt;b!==a&&0<a?(this.zt=a,this.d("minScale",b,a),a>this.scale&&(this.scale=a)):u.ha(a,"> 0",B,"minScale")});u.a(B,"maxScale",B.prototype.hj);
u.defineProperty(B,{hj:"maxScale"},s("ut"),function(a){u.i(a,B,"maxScale");var b=this.ut;b!==a&&0<a?(this.ut=a,this.d("maxScale",b,a),a<this.scale&&(this.scale=a)):u.ha(a,"> 0",B,"maxScale")});u.a(B,"zoomPoint",B.prototype.Mk);u.defineProperty(B,{Mk:"zoomPoint"},s("su"),function(a){this.su.z(a)||(u.c(a,E,B,"zoomPoint"),this.su=a=a.F(),ri(this))});u.a(B,"contentAlignment",B.prototype.Fu);
u.defineProperty(B,{Fu:"contentAlignment"},s("Uk"),function(a){var b=this.Uk;b.z(a)||(u.c(a,K,B,"contentAlignment"),this.Uk=a=a.F(),this.d("contentAlignment",b,a),li(this))});u.a(B,"initialContentAlignment",B.prototype.dG);u.defineProperty(B,{dG:"initialContentAlignment"},s("Fm"),function(a){var b=this.Fm;b.z(a)||(u.c(a,K,B,"initialContentAlignment"),this.Fm=a=a.F(),this.d("initialContentAlignment",b,a))});u.a(B,"padding",B.prototype.padding);
u.defineProperty(B,{padding:"padding"},s("Nd"),function(a){"number"===typeof a?a=new Hb(a):u.c(a,Hb,B,"padding");var b=this.Nd;b.z(a)||(this.Nd=a=a.F(),ri(this),this.d("padding",b,a))});u.m(B,{Bk:"nodes"},function(){return this.It.f});u.m(B,{links:"links"},function(){return this.ot.f});u.m(B,{jj:"parts"},function(){return this.nb.f});u.a(B,"layout",B.prototype.Cb);
u.defineProperty(B,{Cb:"layout"},s("ed"),function(a){var b=this.ed;b!==a&&(u.c(a,Sh,B,"layout"),b!==m&&(b.b=m,b.group=m),this.ed=a,a.b=this,a.group=m,this.Es=h,this.d("layout",b,a))});B.prototype.layoutDiagram=B.prototype.GJ=function(a){Ph(this);a&&this.zy(h);ti(this)};B.prototype.invalidateAllLayouts=B.prototype.zy=function(a){for(var b=this.tl.f;b.next();)Hi(this,b.value,a);this.Cb!==m&&(a?this.Cb.We=p:this.Cb.v())};
function Hi(a,b,c){if(b!==m){for(var d=b.ll.f;d.next();)Hi(a,d.value,c);b.Cb!==m&&(c?b.Cb.We=p:b.Cb.v())}}function ti(a){for(var b=a.tl.f;b.next();)Ii(a,b.value);b=a.Cb;b!==m&&!b.We&&(b.doLayout(a),b.We=h);a.Es=p}function Ii(a,b){if(b!==m){for(var c=b.ll.f;c.next();)Ii(a,c.value);c=b.Cb;c!==m&&!c.We&&(b.vA=!b.location.ca(),c.doLayout(b),b.v(Ji),c.We=h,wi(a,b))}}u.a(B,"isTreePathToChildren",B.prototype.Cf);
u.defineProperty(B,{Cf:"isTreePathToChildren"},s("lt"),function(a){var b=this.lt;if(b!==a&&(u.e(a,"boolean",B,"isTreePathToChildren"),this.lt=a,this.d("isTreePathToChildren",b,a),!this.ia.hb))for(a=this.Bk;a.next();)Ki(a.value)});u.a(B,"isCollapsingExpanding",B.prototype.Bf);u.defineProperty(B,{Bf:m},s("gA"),ba("gA"));function Li(a,b){var c=a.ww.ga(b);if(c!==m)return c;c=a.ww.ga(b.toLowerCase());if(c!==m)return c;u.g("Unknown DiagramEvent name: "+b);return m}
B.prototype.addDiagramListener=B.prototype.eB=function(a,b){u.e(a,"string",B,"addDiagramListener:name");u.e(b,"function",B,"addDiagramListener:listener");var c=Li(this,a);c!==m&&c.add(b)};B.prototype.removeDiagramListener=B.prototype.lD=function(a,b){u.e(a,"string",B,"removeDiagramListener:name");u.e(b,"function",B,"addDiagramListener:listener");var c=Li(this,a);c!==m&&c.remove(b)};
B.prototype.raiseDiagramEvent=B.prototype.la=function(a,b,c){t&&u.e(a,"string",B,"raiseDiagramEvent:name");var d=Li(this,a),e=new xe;e.b=this;var g=this.vw.ga(a),a=g!==m?g:this.vw.ga(a.toLowerCase());e.name=a;b!==f&&(e.vv=b);c!==f&&(e.iv=c);for(b=d.f;b.next();)c=b.value,c(e);return e.cancel};function gg(a,b){for(var c=a.Kl(b,function(a){return a.aa},function(a){return a instanceof V},h).f;c.next();){var d=c.value;d.af===Yf&&d.Vb()}}
function na(a,b,c){a.Tc===m&&(a.Tc=new Mi);var d=m;a.Tc.Pl||(d=c!==m?c.Za:m);if(a.Tc.Pl||a.Tc.group!==d){if(d===m){var e;if(a.Sj){if(a.Kr.ca())e=a.Kr.copy();else{for(var b=h,c=a.Ab,g=c.length,i=0;i<g;i++){var j=c.j[i];if(j.visible&&!j.Yc)for(var j=j.nb,k=j.length,l=0;l<k;l++){var n=j.j[l];n.$u&&n.ib()&&(n=n.pa,n.ca()&&(b?(b=p,e=n.copy()):e.qj(n)))}}b&&(e=new F(0,0,0,0))}e.qr(a.padding)}else e=a.nc.copy();e.yf(100,100);Ni(a.Tc,e);for(e=a.Bk;e.next();)b=e.value,c=b.za,c===m||(!c.visible||c.Yc)||Oi(a,
b)}else{e=d.pa.copy();e.yf(20,20);Ni(a.Tc,e);for(e=d.sc;e.next();)b=e.value,b instanceof U&&Oi(a,b)}a.Tc.group=d;a.Tc.Pl=p}else b&&Pi(a.Tc);return a.Tc}function Oi(a,b){if(b!==m&&b.canAvoid()){for(var c=b.getAvoidableRectangle(),d=a.Tc.Al,e=a.Tc.zl,g=c.x+c.width,i=c.y+c.height,j=c.x;j<g;j+=d){for(var k=c.y;k<i;k+=e)Qi(a.Tc,j,k);Qi(a.Tc,j,i)}for(k=c.y;k<i;k+=e)Qi(a.Tc,g,k);Qi(a.Tc,g,i)}}function Ri(a,b){if(a.Tc!==m&&!a.Tc.Pl&&(b===m||b.canAvoid()))a.Tc.Pl=h}
function Yh(a,b,c){if(Gf!==m){c instanceof B||(c=m);var d=Wf;c!==d&&(d!==m&&d.Xb.le!==m&&d.Xb.le.UB(),c!==m&&c.Xb.le!==m&&c.Xb.le.TB());Wf=c;if(c===m)return h;d=c.Xb.le;d!==m&&(a!==m&&(b=c.Ng(a)),c.kc.D=b,d.GF());return h}return p}
function $h(a,b,c,d){if(Gf!==m){d===m&&(d=m);var e=Wf;d!==e&&(e!==m&&e.Xb.le!==m&&e.Xb.le.UB(),d!==m&&d.Xb.le!==m&&d.Xb.le.TB());Wf=d;if(d===m)return Gf.doCancel(),h;if(d!==a)return a=c,b!==m&&(a=d.Ng(b)),d.kc.D=a,b=d.Xb.le,b!==m&&b.HF(),Gf!==m&&Gf.doCancel(),h}return p}u.a(B,"autoScrollRegion",B.prototype.qB);
u.defineProperty(B,{qB:"autoScrollRegion"},s("Fs"),function(a){"number"===typeof a?a=new Hb(a):u.c(a,Hb,B,"autoScrollRegion");var b=this.Fs;b.z(a)||(this.Fs=a=a.F(),ri(this),this.d("autoScrollRegion",b,a))});
function fg(a){if(a.Cg===m){a.Cg={};var b;b=a.xa!==a.Xb.le?a.kE:a.lE;a.Cg.isEnabled=h;var c=setInterval(function(){var b=c;a.Cg!==m&&a.Cg.isEnabled&&(a.Cg=m,clearInterval(b),b=eg(a,a.hw),b.ug(a.position)||(a.position=b,a.H.D=a.XD(a.hw),a.xa.doMouseMove(),a.Sj=h,qi(a,a.Oe()),a.Ai=h,a.update(),fg(a)))},b);a.Cg.id=c}}function If(a){a.Cg!==m&&(a.Cg.isEnabled&&clearInterval(a.Cg.id),a.Cg=m)}
function eg(a,b){var c=a.position,d=a.qB;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.ub,g=new F(0,0,e.width,e.height),e=new E(0,0);if(b.x>=g.x&&b.x<g.x+d.left){var i=Math.max(a.ks,1),i=i|0;e.x-=i;b.x<g.x+d.left/2&&(e.x-=i);b.x<g.x+d.left/4&&(e.x-=4*i)}else b.x<=g.x+g.width&&b.x>g.x+g.width-d.right&&(i=Math.max(a.ks,1),i|=0,e.x+=i,b.x>g.x+g.width-d.right/2&&(e.x+=i),b.x>g.x+g.width-d.right/4&&(e.x+=4*i));b.y>=g.y&&b.y<g.y+d.top?(i=Math.max(a.ls,1),i|=0,e.y-=i,b.y<g.y+d.top/2&&
(e.y-=i),b.y<g.y+d.top/4&&(e.y-=4*i)):b.y<=g.y+g.height&&b.y>g.y+g.height-d.bottom&&(i=Math.max(a.ls,1),i|=0,e.y+=i,b.y>g.y+g.height-d.bottom/2&&(e.y+=i),b.y>g.y+g.height-d.bottom/4&&(e.y+=4*i));e.ug(new E(0,0))||(d=a.scale,c=new E(c.x+e.x/d,c.y+e.y/d));return c}
B.prototype.makeImage=B.prototype.IJ=function(a){if(this.ma===m)return m;"object"!==typeof a&&u.g("properties argument must be an Object.");this.fp=p;gi(this);var b=document.createElement("canvas");b.width=this.ma.width;b.height=this.ma.height;var c=b.getContext("2d");Dh(this);this.tg(c);gi(this);this.fp=h;c=new Image;c.src=b.toDataURL(a.type,a.details);return c};
B.prototype.makeImageData=B.prototype.JJ=function(a){if(this.ma===m)return"";"object"!==typeof a&&u.g("properties argument must be an Object.");this.fp=p;gi(this);var b=document.createElement("canvas");b.width=this.ma.width;b.height=this.ma.height;var c=b.getContext("2d");Dh(this);this.tg(c);gi(this);this.fp=h;return b.toDataURL(a.type,a.details)};
B.prototype.renderJson=B.prototype.Ag=function(a){this.Gh=new sa;this.Gg=new Ca;u.Ta(a)&&a._tabString!==f&&(this.Gg.UA=a._tabString);Si(this,this);this.Gh.clear();a=this.Gg.toString();this.Gg=m;return a};
function Si(a,b){if(u.Ta(b)&&(!(b instanceof R)||b.ib()))if(!(b instanceof Q)||b.visible)if(!(b instanceof df)||b.visible){var c=a.Gg;if(b instanceof E)c.add('"'+ib(b)+'"');else if(b instanceof L)c.add('"'+wb(b)+'"');else if(b instanceof F)c.add('"'+Db(b)+'"');else if(b instanceof Hb)c.add('"'+Ob(b)+'"');else if(b instanceof K)c.add('"'+Yb(b)+'"');else{var d;b instanceof Dd?d=a.Gh.ga(b):b instanceof Re&&(d=a.Gh.ga(b));d="number"===typeof d?d:-1;-1<d?c.add('{ "class":"ref", "id":'+d+" }"):(c.Pj++,
c.add('{ "class": "'+u.cj(b)+'"'),d=-1,b instanceof Dd?(d=a.Gh.count,a.Gh.add(b,d)):b instanceof Re&&(d=a.Gh.count,a.Gh.add(b,d)),-1<d&&c.add(', "id":'+d),b instanceof Q?b.Ag():Ti(a,b,Object.getPrototypeOf(b)),c.add(" }"),Na(c))}}}function Ti(a,b,c){if(c&&c.constructor!==Object&&(Ti(a,b,Object.getPrototypeOf(c)),c.constructor&&(c=c.constructor.uH,Array.isArray(c))))for(var d=0;d<c.length;d++){var e=c[d];if("string"===typeof e){var g=u.bb(b,e);Ui(a,e,g)}}}
function Ui(a,b,c){if(c!==f){var d=a.Gg;d.add(",");Oa(d);d.add('"'+b+'": ');Vi(a,c)}}
function Vi(a,b){var c=a.Gg;if(b===f)c.add("undefined");else if(b===m)c.add("null");else if(b===h)c.add("true");else if(b===p)c.add("false");else if("string"===typeof b)c.add(a.S.quote(b));else if("number"===typeof b)Infinity===b&&c.add("9e9999"),-Infinity===b&&c.add("-9e9999"),isNaN(b)?c.add('{"class":"NaN"}'):c.add(b.toString());else if("function"===typeof b)c.add("null");else if(u.isArray(b)){c=a.Gg;c.Pj++;for(var d=u.Hb(b),e=p,g=0;g<d;g++){var i=u.wb(b,g);if("object"===typeof i){e=h;break}}c.add("[");
e&&Oa(c);for(g=0;g<d;g++)i=u.wb(b,g),i!==f&&(0<g&&(c.add(","),e&&Oa(c)),Vi(a,i));e&&c.add(" ");c.add("]");Na(c)}else if(b instanceof ra)c.add(a.S.quote(b.toString()));else if(b instanceof sa){c=a.Gg;c.Pj++;c.add("{");Oa(c);d=b.f;for(e=h;d.next();)g=d.key,i=d.value,e?e=p:(c.add(","),Oa(c)),c.add('"'+g+'": '),Vi(a,i);c.add(" }");Na(c)}else if(b instanceof A||b instanceof ta||b.f!==f){c=a.Gg;c.Pj++;c.add("[");Oa(c);d=b.f;for(e=0;d.next();)g=d.value,g!==f&&(0<e&&(c.add(","),Oa(c)),Vi(a,g),e++);c.add(" ]");
Na(c)}else u.Ta(b)?Si(a,b):c.add(b.toString())}B.inherit=function(a,b){u.va(a,b)};function Wi(a){B.call(this,a);this.xu=h;this.pk=p;this.Ua=h;this.Fu=oc;this.Cb=new Xi}u.J("Palette",Wi);u.va(Wi,B);
function Yi(a){B.call(this,a);this.jc=h;this.Li=m;var a=new R,b=new W;b.stroke="magenta";b.Wa=2;b.fill=m;b.name="BOXSHAPE";a.po="BOXSHAPE";a.Yr="BOXSHAPE";a.add(b);this.mm=a;a=new Zi;a.If(this);this.Xb.re.rc(0,a);var c=this;this.bD=function(){$i(c)};this.aD=function(){c.Li!==m&&(ri(c),Dh(c))};this.Ua=h;this.Zh=this.Sd=p;this.Sx=oi;this.Xb.Tl=Af;this.jc=p}u.J("Overview",Yi);u.va(Yi,B);
Yi.prototype.tg=function(){this.Jb===m&&u.g("No div specified");this.ma===m&&u.g("No canvas specified");if(this.Ai){var a=this.Li;if(a!==m){var b=this.Eg;b.bw="";b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.ma.width,this.ma.height);var c=this.Cd;c.reset();1!==this.Sb&&c.scale(this.scale);(0!==this.position.x||0!==this.position.y)&&c.translate(-this.qb.x,-this.qb.y);b.setTransform(c.m11,c.m12,c.m21,c.m22,c.Pa,c.Qa);for(var d=this.ub,e=a.Ab.length,c=0;c<e;c++)for(var g=b,i=d,j=a.Ab.j[c].nb,k=j.length,
l=0;l<k;l++){var n=j.j[l];n.pa.Ve(i)&&n.tg(g,this)}a=this.Ab.length;for(c=0;c<a;c++)this.Ab.j[c].tg(b,this);t&&(t.aC||t.ur)&&t.ZB(b,this);this.Ai=this.Im=p}}};u.a(Yi,"observed",Yi.prototype.FG);
u.defineProperty(Yi,{FG:"observed"},s("Li"),function(a){var b=this.Li;a!==m&&u.c(a,B,Yi,"observed");b!==a&&!(a instanceof Yi)&&(b!==m&&(this.remove(this.qg),b.lD("ViewportBoundsChanged",this.bD),b.lD("DocumentBoundsChanged",this.aD),b.Nt.remove(this)),this.Li=a,a!==m&&(a.eB("ViewportBoundsChanged",this.bD),a.eB("DocumentBoundsChanged",this.aD),a.Nt.add(this),this.add(this.qg),$i(this)),ri(this),this.d("observed",b,a))});u.a(Yi,"box",Yi.prototype.qg);
u.defineProperty(Yi,{qg:"box"},s("mm"),function(a){var b=this.mm;b!==a&&(this.mm=a,this.d("box",b,a))});function $i(a){var b=a.qg;if(b!==m){var c=a.Li;if(c!==m){a.Ai=h;var c=c.ub,d=b.oo;d.ta=new L(c.width,c.height);a=2/a.scale;d instanceof W&&(d.Wa=a);b.location=new E(c.x-a/2,c.y-a/2)}}}Yi.prototype.Oe=function(){var a=this.Li;return a===m?new F(0,0,0,0):a.nc};Yi.prototype.hs=function(a){this.jc||(ji(this),Dh(this),ki(this),ri(this),$i(this),this.la("ViewportBoundsChanged",a))};
function Zi(){yf.call(this);this.name="MoveBox"}u.va(Zi,yf);Zi.prototype.doStart=Zi.prototype.ly=function(){this.V=this.b.Oc=h};Zi.prototype.doMouseMove=Zi.prototype.mh=function(){if(this.V){var a=this.b;if(!(a===m||a.Li===m)){var b=a.Li,c=b.ub,d=a.H.D;b.position=new E(d.x-c.width/2,d.y-c.height/2);xf(a)}}};Zi.prototype.doMouseUp=Zi.prototype.Re=function(){this.V&&this.doMouseMove();this.stopTool()};Zi.prototype.doStop=Zi.prototype.Zi=function(){this.V=p;var a=this.b;a.Oc=p;$i(a)};
function Re(a){u.Qb(this);this.Ra=p;a===f?(this.M=Se,this.pm="black"):"string"===typeof a?(this.M=Se,this.pm=a):(t&&u.Ya(a,Re,Re,"constructor:type"),this.M=a,this.pm="black");a=this.M;a===Te?(this.$m=oc,this.ym=uc):this.ym=a===Ue?this.$m=qc:this.$m=hc;this.fu=0;this.Ys=NaN;this.Kz=this.Lz=this.Vf=this.Pt=this.Tf=m}u.J("Brush",Re);var Se;Re.Solid=Se=u.l(Re,"Solid",0);var Te;Re.Linear=Te=u.l(Re,"Linear",1);var Ue;Re.Radial=Ue=u.l(Re,"Radial",2);var aj;Re.Pattern=aj=u.l(Re,"Pattern",2);
Re.prototype.copy=Re.prototype.copy=function(){var a=new Re;a.M=this.M;a.pm=this.pm;a.$m=this.$m;a.ym=this.ym;a.fu=this.fu;a.Ys=this.Ys;this.Tf!==m&&(a.Tf=this.Tf.copy());a.Pt=this.Pt;return a};Re.prototype.Na=function(){this.freeze();Object.freeze(this);return this};Re.prototype.freeze=function(){this.Ra=h;this.Tf!==m&&this.Tf.freeze();return this};Re.prototype.wa=function(){Object.isFrozen(this)&&u.g("cannot thaw constant: "+this);this.Ra=p;this.Tf!==m&&this.Tf.wa();return this};
Re.prototype.toString=function(){var a="Brush(";if(this.type===Se)a+=this.color;else if(a=this.type===Te?a+"Linear ":this.type===Ue?a+"Radial ":this.type===aj?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,this.Bn!==m)for(var b=this.Bn.f;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
Re.prototype.addColorStop=Re.prototype.addColorStop=function(a,b){u.u(this);(a===m||1<a||0>a)&&u.ha(a,"0 <= loc <= 1",Re,"addColorStop:loc");u.e(b,"string",Re,"addColorStop:color");this.Tf===m&&(this.Tf=new sa("number","string"));this.Tf.add(a,b);this.M===Se&&(this.type=Te);this.Vf=m};u.a(Re,"type",Re.prototype.type);
u.defineProperty(Re,{type:"type"},s("M"),function(a){u.u(this,a);u.Ya(a,Re,Re,"type");this.M=a;fc(this.start)&&(a===Te?this.start=oc:a===Ue&&(this.start=qc));fc(this.end)&&(a===Te?this.end=uc:a===Ue&&(this.end=qc));this.Vf=m});u.a(Re,"color",Re.prototype.color);u.defineProperty(Re,{color:"color"},s("pm"),function(a){u.u(this,a);u.e(a,"string",Re,"color");this.pm=a;this.Vf=m});u.a(Re,"start",Re.prototype.start);
u.defineProperty(Re,{start:"start"},s("$m"),function(a){u.u(this,a);a instanceof K||u.Ec(a,"Spot",Re,"start");this.$m=a.F();this.Vf=m});u.a(Re,"end",Re.prototype.end);u.defineProperty(Re,{end:"end"},s("ym"),function(a){u.u(this,a);a instanceof K||u.Ec(a,"Spot",Re,"end");this.ym=a.F();this.Vf=m});u.a(Re,"startRadius",Re.prototype.uo);u.defineProperty(Re,{uo:"startRadius"},s("fu"),function(a){u.u(this,a);u.i(a,Re,"startRadius");0>a&&u.ha(a,">= zero",Re,"startRadius");this.fu=a;this.Vf=m});
u.a(Re,"endRadius",Re.prototype.Gn);u.defineProperty(Re,{Gn:"endRadius"},s("Ys"),function(a){u.u(this,a);u.i(a,Re,"endRadius");0>a&&u.ha(a,">= zero",Re,"endRadius");this.Ys=a;this.Vf=m});u.a(Re,"colorStops",Re.prototype.Bn);u.defineProperty(Re,{Bn:"colorStops"},s("Tf"),function(a){u.u(this,a);t&&u.c(a,sa,Re,"colorStops");this.Tf=a;this.Vf=m});u.a(Re,"pattern",Re.prototype.pattern);u.defineProperty(Re,{pattern:"pattern"},s("Pt"),function(a){u.u(this,a);this.Pt=a;this.Vf=m});
Re.randomColor=function(a,b){a===f&&(a=128);t&&(u.i(a,Re,"randomColor:min"),(0>a||255<a)&&u.ha(a,"0 <= min <= 255",Re,"randomColor:min"));b===f&&(b=Math.max(a,255));t&&(u.i(b,Re,"randomColor:max"),(b<a||255<b)&&u.ha(b,"min <= max <= 255",Re,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};
function Q(){u.Qb(this);this.dk=m;this.Bb="";this.pf=this.hh=h;this.Pf=this.Qf=m;this.qb=(new E(NaN,NaN)).freeze();this.ce=(new L(NaN,NaN)).freeze();this.Ad=$c;this.Gi=Xc;this.Cd=new pb;this.rj=new pb;this.Pm=new pb;this.Sb=1;this.Yb=0;this.Yg=Xg;this.Zp=(new Hb(0)).freeze();this.Lc=(new F(NaN,NaN,NaN,NaN)).freeze();this.lb=(new F(NaN,NaN,NaN,NaN)).freeze();this.vc=(new F(0,0,NaN,NaN)).freeze();this.Jc=this.dc=this.al=this.Hm=h;this.sq=m;this.Mg=hc;this.Ig=10;this.Hg=bj;this.Lg=0;this.op=m;this.qp=
this.pp=p;this.rp=Infinity;this.fh=hc;this.ah=10;this.$g=bj;this.eh=0;this.cr=m;this.er=this.dr=p;this.fr=Infinity;this.rd=m;this.ra=ic;this.Gp=p;this.Go=ic;this.Hq=0;this.ik=1;this.K=0;this.Gj=1;this.Kq=-Infinity;this.Jq=0;this.Lq=Wc;this.Mq=cj;this.To="";this.Eh=this.Xh=this.Oh=this.gq=this.fq=this.Ph=this.Qh=this.Rh=this.iq=this.hq=this.Dh=this.Fh=this.Ch=m;this.Ap=p;this.Zb=this.Bo=this.Eo=this.Do=this.Co=m;this.lm=p;this.Vk=m;this.WA=new F(NaN,NaN,NaN,NaN);this.Mo=p;this.No=m;this.km=p;this.ml=
m}u.J("GraphObject",Q);
Q.prototype.pb=function(a){a.Bb=this.Bb;a.hh=this.hh;a.pf=this.pf;a.Qf=this.Qf;a.Pf=this.Pf;a.qb.Xa(this.qb);a.ce.Xa(this.ce);a.Ad=this.Ad.F();a.Gi=this.Gi.F();a.Sb=this.Sb;a.Yb=this.Yb;a.Yg=this.Yg;a.Zp.Xa(this.Zp);a.Lc.Xa(this.Lc);a.lb.Xa(this.lb);a.vc.Xa(this.vc);a.sq=this.sq;a.Mg=this.Mg.F();a.Ig=this.Ig;a.Hg=this.Hg;a.Lg=this.Lg;a.op=this.op;a.pp=this.pp;a.qp=this.qp;a.rp=this.rp;a.fh=this.fh.F();a.ah=this.ah;a.$g=this.$g;a.eh=this.eh;a.cr=this.cr;a.dr=this.dr;a.er=this.er;a.fr=this.fr;a.ra=
this.ra.F();a.Gp=this.Gp;a.Go=this.Go.F();a.Hq=this.Hq;a.ik=this.ik;a.K=this.K;a.Gj=this.Gj;a.Kq=this.Kq;a.Jq=this.Jq;a.Lq=this.Lq.F();a.Mq=this.Mq;a.To=this.To;a.Ch=this.Ch;a.Fh=this.Fh;a.Dh=this.Dh;a.hq=this.hq;a.iq=this.iq;a.Rh=this.Rh;a.Qh=this.Qh;a.Ph=this.Ph;a.fq=this.fq;a.gq=this.gq;a.Oh=this.Oh;a.Xh=this.Xh;a.Eh=this.Eh;a.Ap=this.Ap;a.Co=this.Co;a.Do=this.Do;a.Eo=this.Eo;a.Bo=this.Bo;a.Zb=this.Zb;a.lm=this.lm;if(Array.isArray(this.Vk)){a.Vk=this.Vk.slice(0);for(var b=0;b<this.Vk.length;b++){var c=
this.Vk[b];a[c]=this[c]}}a.km=this.km};Q.prototype.lh=function(a){a.rd=m;a.ml=m;a.L()};Q.prototype.copy=Q.prototype.copy=function(){var a=new this.constructor;this.pb(a);return a};Q.prototype.toString=function(){return u.cj(Object.getPrototypeOf(this))+"#"+u.qc(this)};var dj;Q.None=dj=u.l(Q,"None",0);var Xg;Q.Default=Xg=u.l(Q,"Default",0);var Od;Q.Fill=Od=u.l(Q,"Fill",3);var Yg;Q.Uniform=Yg=u.l(Q,"Uniform",1);var Zg;Q.UniformToFill=Zg=u.l(Q,"UniformToFill",2);var ej;
Q.Vertical=ej=u.l(Q,"Vertical",4);var fj;Q.Horizontal=fj=u.l(Q,"Horizontal",5);Q.prototype.ae=function(a,b,c,d,e,g,i){var j=this.aa;if(j!==m&&(j.Xl(a,b,c,d,e,g,i),this.lm&&(c===this&&a===Ae)&&(a=this.Jr(),a!==m)))for(c=this.Zb.f;c.next();)d=c.value,e=a.data,g=d.to,g!==m&&(e=a.Te(g)),e!==m&&(d.aE(this,e,b),g=d.to,g!==m&&(e=a,""!==g&&(e=a.Te(g)),e!==m&&(g=d.bm,g!==m&&(i=a,""!==g&&(i=a.Te(g)),i!==m&&d.bE(i,e,b)))))};Q.prototype.d=function(a,b,c){this.ae(Ae,a,this,b,c)};
function gj(a,b,c,d,e){var g=a.Lc,i=a.Pm;i.reset();hj(a,i,b,c,d,e);a.Pm=i;g.x=b;g.y=c;g.width=d;g.height=e;i.By()||i.WD(g)}Q.prototype.fC=function(a,b){if(this.pf===p)return p;var c=this.qa,d=a.Xi(b);return sb(a.x,a.y,0,0,0,c.height)<d||sb(a.x,a.y,0,c.height,c.width,c.height)<d||sb(a.x,a.y,c.width,c.height,c.width,0)<d||sb(a.x,a.y,c.width,0,0,0)<d?h:p};
function ij(a,b,c,d){if(a instanceof w)for(var e=a.oa.length;e--;){var g=a.oa.j[e];if(g.visible){var i=g.pa,j=a.pa;i.x>j.width||(i.y>j.height||0>i.x+i.width||0>i.y+i.height)||(ij(g,b,c,d),i=g,b!==m&&(i=b(i)),i&&(c===m||c(i))&&d.add(g))}}}Q.prototype.si=ca(h);
Q.prototype.containsPoint=Q.prototype.ka=function(a){t&&u.c(a,E,Q,"containsPoint:p");var b=Pb(this.transform,a),c=this.pa;if(!c.ca())return p;if(u.tx){var d=this.qa,e=this.Ll()*(this.b!==m?this.b.scale:1),g=1/e;if(10>d.width*e&&10>d.height*e)return Mb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y)}return(this.Rd!==f||this instanceof W?Mb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.ka(b))?this.No&&!this.No.ka(b)?p:this.Pf!==m&&c.ka(b)||this.Qf!==m&&this.vc.ka(a)?h:this.Ti(a):p};
Q.prototype.Ti=function(a){var b=this.qa;return Mb(0,0,b.width,b.height,a.x,a.y)};Q.prototype.containsRect=Q.prototype.Cl=function(a){t&&u.c(a,F,Q,"containsRect:r");if(0===this.Va)return this.pa.Cl(a);var b=this.qa,b=new F(0,0,b.width,b.height),c=this.transform;return b.ka(c.mi(new E(a.x,a.y)))&&b.ka(c.mi(new E(a.x,a.bottom)))&&b.ka(c.mi(new E(a.right,a.bottom)))&&b.ka(c.mi(new E(a.right,a.y)))};
Q.prototype.containedInRect=Q.prototype.fy=function(a,b){t&&u.c(a,F,Q,"containedInRect:r");if(b===f)return a.Cl(this.pa);var c=this.qa;return!a.ka(b.Fb(new E(0,0)))||!a.ka(b.Fb(new E(0,c.height)))||!a.ka(b.Fb(new E(c.width,c.height)))||!a.ka(b.Fb(new E(c.width,0)))?p:h};
Q.prototype.intersectsRect=Q.prototype.Ve=function(a,b){t&&u.c(a,F,Q,"intersectsRect:r");if(b===f&&(b=this.transform,0===this.Va))return a.Ve(this.pa);var c=this.qa,d=b,e=new E(0,0),g=new E(0,c.height),i=new E(c.width,c.height),j=new E(c.width,0);if(a.ka(d.Fb(e))||a.ka(d.Fb(g))||a.ka(d.Fb(i))||a.ka(d.Fb(j)))return h;c=new F(0,0,c.width,c.height);return c.ka(d.mi(new E(a.x,a.y)))||c.ka(d.mi(new E(a.x,a.bottom)))||c.ka(d.mi(new E(a.right,a.bottom)))||c.ka(d.mi(new E(a.right,a.y)))||sd(a,e,g)||sd(a,
g,i)||sd(a,i,j)||sd(a,j,e)?h:p};Q.prototype.getDocumentPoint=Q.prototype.Db=function(a){fc(a)&&u.g("Spot must be real");var b=this.qa,a=new E(a.x*b.width+a.offsetX,a.y*b.height+a.offsetY);this.je.Fb(a);return a};Q.prototype.getDocumentAngle=Q.prototype.Nn=function(){var a=this.je;return Math.atan2(a.m12,a.m11)*(180/Math.PI)};Q.prototype.getDocumentScale=Q.prototype.Ll=function(){var a=this.Sb;return this.W!==m?a*this.W.Ll():a};Q.prototype.getLocalPoint=Q.prototype.lC=function(a){return this.je.mi(a.copy())};
Q.prototype.getNearestIntersectionPoint=Q.prototype.Vu=function(a,b,c){var d=this.transform.copy();d.Xu();if(this.$h!==m)return rd(this.pa,a,b,c);if(!(this instanceof w)||this instanceof w&&this.background!==m){var e=Pb(d,a),b=Pb(d,b),a=new E,b=rd(new F(0,0,this.qa.width,this.qa.height),e,b,a),a=Pb(this.transform,a);c.x=a.x;c.y=a.y;return b}if(this instanceof w&&(this.$h===m||this.$h===f)){e=this.oa.j;a=Pb(d,a);d=Pb(d,b);c.set(d);for(var g=(d.x-a.x)*(d.x-a.x)+(d.y-a.y)*(d.y-a.y),b=p,i=e.length,j=
new E,k=0;k<i;k++){var l=e[k];l.visible&&l.Vu(a,d,j)&&(b=h,l=(a.x-j.x)*(a.x-j.x)+(a.y-j.y)*(a.y-j.y),l<g&&(g=l,c.set(j)))}c.transform(this.transform);return b}u.g("Unknown GraphObject case");return p};
function yh(a,b,c,d,e){if(a.dc!==p){var g=a.margin,i=g.top+g.bottom,b=Math.max(b-(g.right+g.left),0),c=Math.max(c-i,0),g=a.ta,i=0;a.Wa&&(i=a.Wa);var b=isFinite(g.width)?g.width+i:b,c=isFinite(g.height)?g.height+i:c,g=d,i=e,j=a instanceof w;switch(jj(a)){case dj:i=g=0;j&&(c=b=Infinity);break;case Od:isFinite(b)&&b>d&&(g=b);isFinite(c)&&c>e&&(i=c);break;case fj:isFinite(b)&&b>d&&(g=b);i=0;j&&(c=Infinity);break;case ej:isFinite(c)&&c>e&&(i=c),g=0,j&&(b=Infinity)}var j=a.Jd,k=a.$d;g>j.width&&k.width<
j.width&&(g=j.width);i>j.height&&k.height<j.height&&(i=j.height);d=Math.max(g/a.scale,k.width);e=Math.max(i/a.scale,k.height);j.width<d&&(d=Math.min(k.width,d));j.height<e&&(e=Math.min(k.height,e));b=Math.min(j.width,b);c=Math.min(j.height,c);b=Math.max(d,b);c=Math.max(e,c);g=a.Va;if(90===g||270===g)g=b,b=c,c=g,g=d,d=e,e=g;a.Lc.wa();a.Zr(b,c,d,e);a.Lc.freeze();a.Lc.ca()||u.g("Non-real measuredBounds has been set");a.dc=p}}da=Q.prototype;
da.Ac=function(a,b,c,d,e){kj(this);var g=this.WA;g.set(this.lb);this.lb.wa();if(this.Jc===p){var i=this.lb;i.x=a;i.y=b;i.width=c;i.height=d}else this.Ri(a,b,c,d);this.lb.freeze();this.No=e===f?m:e;e!==f?this.Mo=h:this.W&&(c=this.W.vc,d=this.ua,this.$h!==m&&(d=this.lb),e=b+d.height,i=a+d.width,this.Mo=!(0<=a&&i<=c.width&&0<=b&&e<=c.height),this instanceof ua&&(this.tt>d.height&&(this.Mo=h),this.Om.pi>d.width&&(this.Mo=h)));this.lb.ca()||u.g("Non-real actualBounds has been set");lj(this,g,this.lb)};
da.Ri=aa();function mj(a,b,c,d,e){var g=a.pa;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.ta.ca()){var g=a.Lc,c=a.margin,b=c.right+c.left,i=c.top+c.bottom,c=g.width+b,g=g.height+i,d=d+b,e=e+i,b=jj(a);c===d&&g===e&&(b=dj);switch(b){case dj:if(c>d||g>e)a.dc=h,yh(a,c>d?d:c,g>e?e:g);break;case Od:a.dc=h;yh(a,d,e,0,0);break;case fj:a.dc=h;yh(a,d,g,0,0);break;case ej:a.dc=h,yh(a,c,e,0,0)}}}
function lj(a,b,c){a.Jc=p;var d=a.aa;if(d!==m){var e=d.b;if(e!==m)if(nj(d),a instanceof R){d=p;if(e.Sj===p){var g=e.nc,i=e.padding,e=g.x+i.left,j=g.y+i.top,k=g.width-2*i.right,g=g.height-2*i.bottom;b.ca()&&(b.x>e&&b.y>j&&b.right<k&&b.bottom<g&&c.x>e&&c.y>j&&c.right<k&&c.bottom<g)&&(d=h)}(a.Jt===h||!b.z(c))&&Ci(a,d)}else if(oj(a,d),pj(a),b=a.aa,b!==m&&(b.lk===a||b.rl===a||b.sl===a))b.Jt=h}}function oj(a,b){a.se!==m&&(b.Jt=h);if(a instanceof w)for(var c=a.oa,d=c.length,e=0;e<d;e++)oj(c.j[e],b)}
da.tg=function(a,b){if(this.hh)if(this instanceof w&&(this.type===qj||this.type===rj)){var c=this.lb;0===c.width||(0===c.height||isNaN(c.x)||isNaN(c.y))||(this.Pf!==m&&(sj(this,a,this.Pf,h,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Qf!==m&&(sj(this,a,this.Qf,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Fn(a,b))}else{var d=p;if(this instanceof R){d=h;if(!this.ib())return;if(this.ag){var e=this.Zm;a.shadowOffsetX=e.x*b.scale;a.shadowOffsetY=e.y*b.scale;a.shadowColor=this.Ym;a.shadowBlur=this.Xm}}var g=
p;this.aa&&(g=this.aa.Rl);c=this.lb;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){t&&(t.ur&&!(this instanceof sf))&&t.KF(a,this);var e=this.transform,i=this.W,j=this.rj;j.reset();i!==m&&(i.si()?j.multiply(i.je):i.W!==m&&j.multiply(i.W.je));j.multiply(this.Cd);if(j=this.Mo){t&&t.$B&&t.trace("clip"+this.toString());var k=i.si()?i.qa:i.pa;if(this.No)var l=this.No,n=Math.max(l.x,Math.max(c.x,k.x)),r=Math.max(l.y,Math.max(c.y,k.y)),q=Math.abs(n-Math.min(l.right,Math.min(c.right,k.right))),l=
Math.abs(r-Math.min(l.bottom,Math.min(c.bottom,k.bottom)));else n=Math.max(c.x,k.x),r=Math.max(c.y,k.y),q=Math.min(c.right,k.right)-n,l=Math.min(c.bottom,k.bottom)-r;if(n>c.width+c.x||c.x>k.width+k.x||r>c.height+c.y||c.y>k.height+k.y)return;t&&t.$B&&t.MF(a,n,r,q,l);a.save();a.beginPath();a.rect(n,r,q,l);a.clip()}this.Pf!==m&&(sj(this,a,this.Pf,h,h),a.fillRect(c.x,c.y,c.width,c.height));e.By()||a.transform(e.m11,e.m12,e.m21,e.m22,e.Pa,e.Qa);this.Qf!==m&&(r=this.qa,k=c=0,n=r.width,r=r.height,q=0,this instanceof
W&&(r=this.Ba.rb,c=r.x,k=r.y,n=r.width,r=r.height,q=this.Pd),sj(this,a,this.Qf,h),a.fillRect(c-q/2,k-q/2,n+q,r+q));t&&t.ur&&t.LF(a,this);if(g&&(this.Qf!==m||this.Pf!==m||i!==m&&i.km||i!==m&&i.type===Wh&&i.$q!==this)){this.km=h;var v=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else this.km=p;this.Fn(a,b);g&&this.km===h&&(a.shadowOffsetX=v[0],a.shadowOffsetY=v[1],a.shadowBlur=v[2]);d&&g&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);j?(a.restore(),
gi(b,a)):e.By()||(d=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*d,-e.m12*d,-e.m21*d,e.m11*d,d*(e.m21*e.Qa-e.m22*e.Pa),d*(e.m12*e.Pa-e.m11*e.Qa)))}}};da.Fn=aa();da.Ag=function(){var a=this.b;if(a!==m){Ui(a,"naturalBounds",this.qa);Ui(a,"actualBounds",this.pa);0!==this.Va&&Ui(a,"angle",this.Va);1!==this.scale&&Ui(a,"scale",this.scale);var b=this.je;Ui(a,"allTransforms",[b.m11,b.m12,b.m21,b.m22,b.Pa,b.Qa]);this.background!==m&&Ui(a,"background",this.background);this.$h!==m&&Ui(a,"areaBackground",this.$h)}};
function sj(a,b,c,d,e){if(c!==m)if("string"===typeof c)d?b.Ok!==c&&(b.fillStyle=c,b.Ok=c):b.hm!==c&&(b.strokeStyle=c,b.hm=c);else if(c.type===Se)c=c.color,d?b.Ok!==c&&(b.fillStyle=c,b.Ok=c):b.hm!==c&&(b.strokeStyle=c,b.hm=c);else{var g,i=a.qa,j=i.width,i=i.height;if(c.Vf&&c.type===aj||c.Lz==j&&c.Kz==i)g=c.Vf;else{var k,l,n,r=n=0;e&&(a=a.pa,j=a.width,i=a.height,n=a.x,r=a.y);c.start instanceof E?(a=c.start.x,e=c.start.y):c.start instanceof K?(a=c.start.x*j,e=c.start.y*i):(a=qc.x*j,e=qc.y*i);c.end instanceof
E?(k=c.end.x,l=c.end.y):c.end instanceof K?(k=c.end.x*j,l=c.end.y*i):c.type===Te?(k=uc.x*j,l=uc.y*i):(k=qc.x*j,l=qc.y*i);a+=n;k+=n;e+=r;l+=r;c.type===Te?g=b.createLinearGradient(a,e,k,l):c.type===Ue?(n=isNaN(c.Gn)?Math.max(j,i)/2:c.Gn,isNaN(c.uo)?(g=0,n=Math.max(j,i)/2):g=c.uo,g=b.createRadialGradient(a,e,g,k,l,n)):c.type===aj?g=b.createPattern(c.pattern,"repeat"):u.Ec(c.type,"Brush type");if(c.type!==aj&&(n=c.Bn))for(n=n.f;n.next();)g.addColorStop(n.key,n.value);c.Vf=g;c.Lz=j;c.Kz=i}d?b.Ok!==g&&
(b.fillStyle=g,b.Ok=g):b.hm!==g&&(b.strokeStyle=g,b.hm=g)}}Q.prototype.isContainedBy=Q.prototype.ni=function(a){if(a instanceof w)a:{if(!(this===a||a===m))for(var b=this.W;b!==m;){if(b===a){a=h;break a}b=b.W}a=p}else a=p;return a};Q.prototype.isVisibleObject=Q.prototype.zk=function(){if(!this.visible)return p;var a=this.W;return a!==m?a.zk():h};
function tj(a){if(a.Hm===h){var b=a.Cd;b.reset();if(!a.lb.ca()||!a.Lc.ca()){a.Hm=p;return}b.translate(a.lb.x,a.lb.y);b.translate(-a.ua.x,-a.ua.y);var c=a.qa;hj(a,b,c.x,c.y,c.width,c.height);a.Hm=p;a.al=h}a.al===h&&(a.W===m?(a.rj.set(a.Cd),a.al=p):a.W.je!==m&&(b=a.rj,b.reset(),b.multiply(a.W.rj),b.multiply(a.Cd),a.al=p))}
function hj(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.Va){var i=qc;a.Df&&Zb(a.Df)&&(i=a.Df);var j=new E;if(a instanceof R&&a.Eb!==a){c=a.Eb;d=c.qa;j.$l(d.x,d.y,d.width,d.height,i);c.Pm.Fb(j);j.offset(-c.ua.x,-c.ua.y);for(i=c.W;i!==m&&i!==a;)i.Pm.Fb(j),j.offset(-i.ua.x,-i.ua.y),i=i.W}else j.$l(c,d,e,g,i);b.rotate(a.Va,j.x,j.y)}}
Q.prototype.L=function(){if(this.dc!==h){this.Jc=this.dc=h;if(this.W!==m)this.W.dc=p,this.W.L();else{var a=this.b;a!==m&&(a.Og.add(this),this instanceof U&&!a.ia.hb&&this.zf(),xf(a))}if(this instanceof w)for(var a=this.M===Wh,b=this.oa.j,c=b.length,d=0;d<c;d++){var e=b[d];(a||!e.ta.ca()||jj(e)!==dj)&&e.L()}pj(this)}};function uj(a){if(a.dc===p&&(a.dc=h,a.Jc=h,a instanceof w))for(var a=a.oa.j,b=a.length,c=0;c<b;c++)uj(a[c])}
function vj(a){if(a.Jc===p){if(a.W!==m)vj(a.W);else{var b=a.b;b!==m&&(b.Og.add(a),a instanceof U&&a.zf(),xf(b))}a.Jc=h}}function kj(a){if(a.Hm===p&&(a.Hm=h,a.al=h,a instanceof w))for(a=a.elements;a.next();)wj(a.value)}function wj(a){a.al=h;if(a instanceof w)for(a=a.elements;a.next();)wj(a.value)}function pj(a){if(a.W!==m)pj(a.W);else{var b=a.b;b!==m&&a.lb.ca()&&Dh(b,a.lb)}}
function jj(a){var b=a.xh,c=a.W;if(c&&c.M===ka)return yj(a,c.ud(a.Wb),c.ud(a.mc));if(c&&c.M===Wh&&c.$q===a)return Od;if(b===Xg){if(c){if(c.$q===a)return Od;a=c.iy;return a===Xg?dj:a}return dj}return b}function yj(a,b,c){var d=a.xh;if(d!==Xg)return d;var e=d=f;switch(b.xh){case ej:e=h;break;case Od:e=h}switch(c.xh){case fj:d=h;break;case Od:d=h}a=a.W.iy;d=d===f&&(a===fj||a===Od)?h:p;e=e===f&&(a===ej||a===Od)?h:p;return d===h&&e===h?Od:d===h?fj:e===h?ej:dj}u.a(Q,"segmentOrientation",Q.prototype.ms);
u.defineProperty(Q,{ms:"segmentOrientation"},s("Mq"),function(a){var b=this.Mq;b!==a&&(t&&u.Ya(a,V,Q,"segmentOrientation"),this.Mq=a,this.L(),this.d("segmentOrientation",b,a))});u.a(Q,"segmentIndex",Q.prototype.wh);u.defineProperty(Q,{wh:"segmentIndex"},s("Kq"),function(a){t&&u.e(a,"number",Q,"segmentIndex");var a=Math.round(a),b=this.Kq;b!==a&&(this.Kq=a,this.L(),this.d("segmentIndex",b,a))});u.a(Q,"segmentFraction",Q.prototype.cz);
u.defineProperty(Q,{cz:"segmentFraction"},s("Jq"),function(a){t&&u.e(a,"number",Q,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.Jq;b!==a&&(this.Jq=a,this.L(),this.d("segmentFraction",b,a))});u.a(Q,"segmentOffset",Q.prototype.dz);u.defineProperty(Q,{dz:"segmentOffset"},s("Lq"),function(a){var b=this.Lq;b.z(a)||(t&&u.c(a,E,Q,"segmentOffset"),this.Lq=a=a.F(),this.L(),this.d("segmentOffset",b,a))});u.a(Q,"stretch",Q.prototype.xh);
u.defineProperty(Q,{xh:"stretch"},s("Yg"),function(a){var b=this.Yg;b!==a&&(t&&u.Ya(a,Q,Q,"stretch"),this.Yg=a,this.L(),this.d("stretch",b,a))});u.a(Q,"name",Q.prototype.name);u.defineProperty(Q,{name:"name"},s("Bb"),function(a){var b=this.Bb;b!==a&&(t&&u.e(a,"string",Q,"name"),this.Bb=a,this.d("name",b,a))});u.a(Q,"visible",Q.prototype.visible);
u.defineProperty(Q,{visible:"visible"},s("hh"),function(a){var b=this.hh;b!==a&&(t&&u.e(a,"boolean",Q,"visible"),this.hh=a,this.d("visible",b,a),b=this.W,b!==m?b.L():this instanceof R&&(this.L(),nj(this),a?(this.v(Hj),this.ti()):(this.v(Kj),this.jh())),pj(this),Lj(this))});u.a(Q,"areaBackground",Q.prototype.$h);
u.defineProperty(Q,{$h:"areaBackground"},s("Pf"),function(a){var b=this.Pf;if(b!==a&&(a===m||"string"===typeof a||a instanceof Re))a instanceof Re&&a.freeze(),this.Pf=a,pj(this),this.d("areaBackground",b,a)});u.a(Q,"background",Q.prototype.background);u.defineProperty(Q,{background:"background"},s("Qf"),function(a){var b=this.Qf;if(b!==a&&(a===m||"string"===typeof a||a instanceof Re))a instanceof Re&&a.freeze(),this.Qf=a,pj(this),this.d("background",b,a)});
u.m(Q,{aa:"part"},function(){if(this instanceof R)return this;if(this.ml)return this.ml;var a;for(a=this.W;a;){if(a instanceof R)return this.ml=a;a=a.W}return m});Q.prototype.Fk=ba("dk");u.m(Q,{W:"panel"},s("dk"));u.m(Q,{za:"layer"},function(){var a=this.aa;return a!==m?a.za:m});u.m(Q,{b:"diagram"},function(){var a=this.aa;return a!==m?a.b:m},{configurable:h});u.a(Q,"position",Q.prototype.position);
u.defineProperty(Q,{position:"position"},s("qb"),function(a){var b=this.qb;if(!b.z(a)){t&&u.c(a,E,Q,"position");if(this instanceof R){if(!a.ca())return;var c=this.Ei,d=this.pt,e=c.copy();c.Od(a.x+d.x,a.y+d.y);c.z(e)||this.d("location",e,c);if(this.Jc===p){this.qb=a=a.F();Mj(this);kj(this);this.d("position",b,a);return}}this.qb=a=a.F();vj(this);kj(this);this.d("position",b,a)}});u.m(Q,{pa:"actualBounds"},s("lb"));u.a(Q,"scale",Q.prototype.scale);
u.defineProperty(Q,{scale:"scale"},s("Sb"),function(a){var b=this.Sb;b!==a&&(t&&u.i(a,Q,"scale"),0>=a&&u.g("GraphObject.scale must be greater than zero"),this.Sb=a,kj(this),this.L(),this.d("scale",b,a))});u.a(Q,"angle",Q.prototype.Va);u.defineProperty(Q,{Va:"angle"},s("Yb"),function(a){var b=this.Yb;b!==a&&(t&&u.i(a,Q,"angle"),this.Yb=a,this.L(),kj(this),this.d("angle",b,a))});u.a(Q,"desiredSize",Q.prototype.ta);
u.defineProperty(Q,{ta:"desiredSize"},s("ce"),function(a){var b=this.ce;b.z(a)||(t&&u.c(a,L,Q,"desiredSize"),this.ce=a=a.F(),this.L(),this instanceof W&&this.Af(),this.d("desiredSize",b,a))});u.a(Q,"width",Q.prototype.width);u.defineProperty(Q,{width:"width"},function(){return this.ce.width},function(a){if(this.ce.width!==a){t&&u.e(a,"number",Q,"width");var b=this.ce;this.ce=a=(new L(a,this.ce.height)).freeze();this.L();this instanceof W&&this.Af();this.d("desiredSize",b,a)}});u.a(Q,"height",Q.prototype.height);
u.defineProperty(Q,{height:"height"},function(){return this.ce.height},function(a){if(this.ce.height!==a){t&&u.e(a,"number",Q,"height");var b=this.ce;this.ce=a=(new L(this.ce.width,a)).freeze();this.L();this instanceof W&&this.Af();this.d("desiredSize",b,a)}});u.a(Q,"minSize",Q.prototype.$d);
u.defineProperty(Q,{$d:"minSize"},s("Ad"),function(a){var b=this.Ad;b.z(a)||(t&&u.c(a,L,Q,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Ad=a,this.L(),this.d("minSize",b,a))});u.a(Q,"maxSize",Q.prototype.Jd);u.defineProperty(Q,{Jd:"maxSize"},s("Gi"),function(a){var b=this.Gi;b.z(a)||(t&&u.c(a,L,Q,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.Gi=a,this.L(),this.d("maxSize",b,a))});
u.m(Q,{ua:"measuredBounds"},s("Lc"));u.m(Q,{qa:"naturalBounds"},s("vc"),{configurable:h});u.a(Q,"margin",Q.prototype.margin);u.defineProperty(Q,{margin:"margin"},s("Zp"),function(a){"number"===typeof a?a=new Hb(a):t&&u.c(a,Hb,Q,"margin");var b=this.Zp;b.z(a)||(this.Zp=a=a.F(),this.L(),this.d("margin",b,a))});u.m(Q,{transform:m},function(){this.Hm===h&&tj(this);return this.Cd});u.m(Q,{je:m},function(){this.al===h&&tj(this);return this.rj});u.a(Q,"alignment",Q.prototype.vb);
u.defineProperty(Q,{vb:"alignment"},s("ra"),function(a){var b=this.ra;b.z(a)||(t?u.c(a,K,Q,"alignment"):fc(a)&&!gc(a)&&u.g("alignment must be a real Spot or Spot.Default"),this.ra=a=a.F(),vj(this),this.d("alignment",b,a))});u.a(Q,"column",Q.prototype.mc);u.defineProperty(Q,{mc:"column"},s("K"),function(a){t&&u.i(a,Q,"column");var a=Math.round(a),b=this.K;b!==a&&(0>a&&u.ha(a,">= 0",Q,"column"),this.K=a,this.L(),this.d("column",b,a))});u.a(Q,"columnSpan",Q.prototype.yB);
u.defineProperty(Q,{yB:"columnSpan"},s("Gj"),function(a){t&&u.i(a,Q,"columnSpan");var a=Math.round(a),b=this.Gj;b!==a&&(1>a&&u.ha(a,">= 1",Q,"columnSpan"),this.Gj=a,this.L(),this.d("columnSpan",b,a))});u.a(Q,"row",Q.prototype.Wb);u.defineProperty(Q,{Wb:"row"},s("Hq"),function(a){t&&u.i(a,Q,"row");var a=Math.round(a),b=this.Hq;b!==a&&(0>a&&u.ha(a,">= 0",Q,"row"),this.Hq=a,this.L(),this.d("row",b,a))});u.a(Q,"rowSpan",Q.prototype.rowSpan);
u.defineProperty(Q,{rowSpan:"rowSpan"},s("ik"),function(a){t&&u.i(a,Q,"rowSpan");var a=Math.round(a),b=this.ik;b!==a&&(1>a&&u.ha(a,">= 1",Q,"rowSpan"),this.ik=a,this.L(),this.d("rowSpan",b,a))});u.a(Q,"isPanelMain",Q.prototype.fj);u.defineProperty(Q,{fj:"isPanelMain"},s("Gp"),function(a){var b=this.Gp;b!==a&&(t&&u.e(a,"boolean",Q,"isPanelMain"),this.Gp=a,this.L(),this.d("isPanelMain",b,a))});u.a(Q,"alignmentFocus",Q.prototype.Pi);
u.defineProperty(Q,{Pi:"alignmentFocus"},s("Go"),function(a){var b=this.Go;b.z(a)||(t?u.c(a,K,Q,"alignmentFocus"):fc(a)&&!gc(a)&&u.g("alignmentFocus must be a real Spot or Spot.Default"),this.Go=a=a.F(),this.L(),this.d("alignmentFocus",b,a))});u.a(Q,"portId",Q.prototype.se);
u.defineProperty(Q,{se:"portId"},s("sq"),function(a){var b=this.sq;if(b!==a){t&&a!==m&&u.e(a,"string",Q,"portId");var c=this.aa;c!==m&&!(c instanceof U)&&(u.g("portID being set on a Link: "+a),c=m);b!==m&&c&&Nj(c,this);this.sq=a;a!==m&&c&&(c.wc===m&&Oj(c),Pj(c,this));this.d("portId",b,a)}});function Qj(a){var b={value:m};Rj(a,b);return b.value}function Rj(a,b){var c=a.W;return c===m||!Rj(c,b)&&a.visible?(b.value=a,p):h}function Lj(a){var b=a.aa;b instanceof U&&(a=a.b)&&!a.ia.hb&&b.zf()}
u.a(Q,"toSpot",Q.prototype.cb);u.defineProperty(Q,{cb:"toSpot"},s("fh"),function(a){var b=this.fh;b.z(a)||(t&&u.c(a,K,Q,"toSpot"),this.fh=a=a.F(),this.d("toSpot",b,a),Lj(this))});u.a(Q,"toEndSegmentLength",Q.prototype.Hk);u.defineProperty(Q,{Hk:"toEndSegmentLength"},s("ah"),function(a){var b=this.ah;b!==a&&(t&&u.e(a,"number",Q,"toEndSegmentLength"),0>a&&u.ha(a,">= 0",Q,"toEndSegmentLength"),this.ah=a,this.d("toEndSegmentLength",b,a),Lj(this))});u.a(Q,"toEndSegmentDirection",Q.prototype.ts);
u.defineProperty(Q,{ts:"toEndSegmentDirection"},s("$g"),function(a){var b=this.$g;b!==a&&(t&&u.Ya(a,U,Q,"toEndSegmentDirection"),this.$g=a,this.d("toEndSegmentDirection",b,a),Lj(this))});u.a(Q,"toShortLength",Q.prototype.us);u.defineProperty(Q,{us:"toShortLength"},s("eh"),function(a){var b=this.eh;b!==a&&(t&&u.e(a,"number",Q,"toShortLength"),this.eh=a,this.d("toShortLength",b,a),Lj(this))});u.a(Q,"toLinkable",Q.prototype.qz);
u.defineProperty(Q,{qz:"toLinkable"},s("cr"),function(a){var b=this.cr;b!==a&&(t&&a!==m&&u.e(a,"boolean",Q,"toLinkable"),this.cr=a,this.d("toLinkable",b,a))});u.a(Q,"toLinkableDuplicates",Q.prototype.OD);u.defineProperty(Q,{OD:"toLinkableDuplicates"},s("dr"),function(a){var b=this.dr;b!==a&&(t&&u.e(a,"boolean",Q,"toLinkableDuplicates"),this.dr=a,this.d("toLinkableDuplicates",b,a))});u.a(Q,"toLinkableSelfNode",Q.prototype.PD);
u.defineProperty(Q,{PD:"toLinkableSelfNode"},s("er"),function(a){var b=this.er;b!==a&&(t&&u.e(a,"boolean",Q,"toLinkableSelfNode"),this.er=a,this.d("toLinkableSelfNode",b,a))});u.a(Q,"toMaxLinks",Q.prototype.QD);u.defineProperty(Q,{QD:"toMaxLinks"},s("fr"),function(a){var b=this.fr;b!==a&&(t&&u.i(a,Q,"toMaxLinks"),0>a&&u.ha(a,">= 0",Q,"toMaxLinks"),this.fr=a,this.d("toMaxLinks",b,a))});u.a(Q,"fromSpot",Q.prototype.ab);
u.defineProperty(Q,{ab:"fromSpot"},s("Mg"),function(a){var b=this.Mg;b.z(a)||(t&&u.c(a,K,Q,"fromSpot"),this.Mg=a=a.F(),this.d("fromSpot",b,a),Lj(this))});u.a(Q,"fromEndSegmentLength",Q.prototype.wk);u.defineProperty(Q,{wk:"fromEndSegmentLength"},s("Ig"),function(a){var b=this.Ig;b!==a&&(t&&u.e(a,"number",Q,"fromEndSegmentLength"),0>a&&u.ha(a,">= 0",Q,"fromEndSegmentLength"),this.Ig=a,this.d("fromEndSegmentLength",b,a),Lj(this))});u.a(Q,"fromEndSegmentDirection",Q.prototype.Lr);
u.defineProperty(Q,{Lr:"fromEndSegmentDirection"},s("Hg"),function(a){var b=this.Hg;b!==a&&(t&&u.Ya(a,U,Q,"fromEndSegmentDirection"),this.Hg=a,this.d("fromEndSegmentDirection",b,a),Lj(this))});u.a(Q,"fromShortLength",Q.prototype.Mr);u.defineProperty(Q,{Mr:"fromShortLength"},s("Lg"),function(a){var b=this.Lg;b!==a&&(t&&u.e(a,"number",Q,"fromShortLength"),this.Lg=a,this.d("fromShortLength",b,a),Lj(this))});u.a(Q,"fromLinkable",Q.prototype.ry);
u.defineProperty(Q,{ry:"fromLinkable"},s("op"),function(a){var b=this.op;b!==a&&(t&&a!==m&&u.e(a,"boolean",Q,"fromLinkable"),this.op=a,this.d("fromLinkable",b,a))});u.a(Q,"fromLinkableDuplicates",Q.prototype.gC);u.defineProperty(Q,{gC:"fromLinkableDuplicates"},s("pp"),function(a){var b=this.pp;b!==a&&(t&&u.e(a,"boolean",Q,"fromLinkableDuplicates"),this.pp=a,this.d("fromLinkableDuplicates",b,a))});u.a(Q,"fromLinkableSelfNode",Q.prototype.hC);
u.defineProperty(Q,{hC:"fromLinkableSelfNode"},s("qp"),function(a){var b=this.qp;b!==a&&(t&&u.e(a,"boolean",Q,"fromLinkableSelfNode"),this.qp=a,this.d("fromLinkableSelfNode",b,a))});u.a(Q,"fromMaxLinks",Q.prototype.iC);u.defineProperty(Q,{iC:"fromMaxLinks"},s("rp"),function(a){var b=this.rp;b!==a&&(t&&u.i(a,Q,"fromMaxLinks"),0>a&&u.ha(a,">= 0",Q,"fromMaxLinks"),this.rp=a,this.d("fromMaxLinks",b,a))});u.a(Q,"cursor",Q.prototype.cursor);
u.defineProperty(Q,{cursor:"cursor"},s("To"),function(a){var b=this.To;b!==a&&(u.e(a,"string",Q,"cursor"),this.To=a,this.d("cursor",b,a))});u.a(Q,"click",Q.prototype.click);u.defineProperty(Q,{click:"click"},s("Ch"),function(a){var b=this.Ch;b!==a&&(a!==m&&u.e(a,"function",Q,"click"),this.Ch=a,this.d("click",b,a))});u.a(Q,"doubleClick",Q.prototype.Hl);
u.defineProperty(Q,{Hl:"doubleClick"},s("Fh"),function(a){var b=this.Fh;b!==a&&(a!==m&&u.e(a,"function",Q,"doubleClick"),this.Fh=a,this.d("doubleClick",b,a))});u.a(Q,"contextClick",Q.prototype.zr);u.defineProperty(Q,{zr:"contextClick"},s("Dh"),function(a){var b=this.Dh;b!==a&&(a!==m&&u.e(a,"function",Q,"contextClick"),this.Dh=a,this.d("contextClick",b,a))});u.a(Q,"mouseEnter",Q.prototype.Qy);
u.defineProperty(Q,{Qy:"mouseEnter"},s("hq"),function(a){var b=this.hq;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseEnter"),this.hq=a,this.d("mouseEnter",b,a))});u.a(Q,"mouseLeave",Q.prototype.Ry);u.defineProperty(Q,{Ry:"mouseLeave"},s("iq"),function(a){var b=this.iq;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseLeave"),this.iq=a,this.d("mouseLeave",b,a))});u.a(Q,"mouseOver",Q.prototype.ds);
u.defineProperty(Q,{ds:"mouseOver"},s("Rh"),function(a){var b=this.Rh;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseOver"),this.Rh=a,this.d("mouseOver",b,a))});u.a(Q,"mouseHover",Q.prototype.cs);u.defineProperty(Q,{cs:"mouseHover"},s("Qh"),function(a){var b=this.Qh;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseHover"),this.Qh=a,this.d("mouseHover",b,a))});u.a(Q,"mouseHold",Q.prototype.bs);
u.defineProperty(Q,{bs:"mouseHold"},s("Ph"),function(a){var b=this.Ph;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseHold"),this.Ph=a,this.d("mouseHold",b,a))});u.a(Q,"mouseDragEnter",Q.prototype.WC);u.defineProperty(Q,{WC:"mouseDragEnter"},s("fq"),function(a){var b=this.fq;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseDragEnter"),this.fq=a,this.d("mouseDragEnter",b,a))});u.a(Q,"mouseDragLeave",Q.prototype.Py);
u.defineProperty(Q,{Py:"mouseDragLeave"},s("gq"),function(a){var b=this.gq;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseDragLeave"),this.gq=a,this.d("mouseDragLeave",b,a))});u.a(Q,"mouseDrop",Q.prototype.as);u.defineProperty(Q,{as:"mouseDrop"},s("Oh"),function(a){var b=this.Oh;b!==a&&(a!==m&&u.e(a,"function",Q,"mouseDrop"),this.Oh=a,this.d("mouseDrop",b,a))});u.a(Q,"actionDown",Q.prototype.Kx);
u.defineProperty(Q,{Kx:"actionDown"},s("Co"),function(a){var b=this.Co;b!==a&&(a!==m&&u.e(a,"function",Q,"actionDown"),this.Co=a,this.d("actionDown",b,a))});u.a(Q,"actionUp",Q.prototype.Mx);u.defineProperty(Q,{Mx:"actionUp"},s("Eo"),function(a){var b=this.Eo;b!==a&&(a!==m&&u.e(a,"function",Q,"actionUp"),this.Eo=a,this.d("actionUp",b,a))});u.a(Q,"actionMove",Q.prototype.Lx);
u.defineProperty(Q,{Lx:"actionMove"},s("Do"),function(a){var b=this.Do;b!==a&&(a!==m&&u.e(a,"function",Q,"actionMove"),this.Do=a,this.d("actionMove",b,a))});u.a(Q,"actionCancel",Q.prototype.Jx);u.defineProperty(Q,{Jx:"actionCancel"},s("Bo"),function(a){var b=this.Bo;b!==a&&(a!==m&&u.e(a,"function",Q,"actionCancel"),this.Bo=a,this.d("actionCancel",b,a))});u.a(Q,"toolTip",Q.prototype.vs);
u.defineProperty(Q,{vs:"toolTip"},s("Xh"),function(a){var b=this.Xh;b!==a&&(a!==m&&u.c(a,sf,Q,"toolTip"),this.Xh=a,this.d("toolTip",b,a))});u.a(Q,"contextMenu",Q.prototype.contextMenu);u.defineProperty(Q,{contextMenu:"contextMenu"},s("Eh"),function(a){var b=this.Eh;b!==a&&(a!==m&&u.c(a,sf,Q,"contextMenu"),this.Eh=a,this.d("contextMenu",b,a))});u.a(Q,"isActionable",Q.prototype.Yu);
u.defineProperty(Q,{Yu:"isActionable"},s("Ap"),function(a){var b=this.Ap;b!==a&&(u.e(a,"boolean",Q,"isActionable"),this.Ap=a,this.d("isActionable",b,a))});u.a(Q,"pickable",Q.prototype.dD);u.defineProperty(Q,{dD:"pickable"},s("pf"),function(a){var b=this.pf;b!==a&&(u.e(a,"boolean",Q,"pickable"),this.pf=a,this.d("pickable",b,a))});
Q.prototype.bind=Q.prototype.bind=function(a){a.sf=this;var b=this.Jr();b!==m&&Sj(b)&&u.g("Cannot add a Binding to a template that has already been copied: "+a);this.Zb===m&&(this.Zb=new A(Ze));this.Zb.add(a)};Q.prototype.findTemplateBinder=Q.prototype.Jr=function(){for(var a=this instanceof w?this:this.W;a!==m;){if(a.Rk!==m&&a instanceof w)return a;a=a.W}return m};var Tj;
Q.make=Tj=function(a,b){var c=m,d=m;if("function"===typeof a)d=a;else if("string"===typeof a){var e=Uj.ga(a);"function"===typeof e?c=e():d=ea[a]}c===m&&(d===f&&(c=window.$,c!==f&&c.noop!==f&&u.g("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),u.g("GraphObject.make failed to complete, it may be conflicting with another var.")),(d===m||!d.constructor)&&u.g("GraphObject.make requires a class function or class name, not: "+a),c=new d);e=1;c instanceof B&&
1<arguments.length&&(d=arguments[1],"string"===typeof d||d instanceof HTMLDivElement?(c.hi=m,Uh(c,d),e++):u.g("Unknown argument to Diagram constructor: "+d));for(;e<arguments.length;e++)if(d=arguments[e],"string"===typeof d)if(c instanceof ua)c.text=d;else if(c instanceof W)c.$a=d;else if(c instanceof Vj)c.source=d;else if(c instanceof w){var g=u.Jl(w,d);g!==m?c.type=g:u.g("Unknown Panel type as an argument to GraphObject.make: "+d)}else c instanceof Re?(g=u.Jl(Re,d),g!==m?c.type=g:u.g("Unknown Brush type as an argument to GraphObject.make: "+
d)):c instanceof Dd?(g=u.Jl(Dd,d),g!==m?c.type=g:u.g("Unknown Geometry type as an argument to GraphObject.make: "+d)):c instanceof ve?(g=u.Jl(ve,d),g!==m?c.type=g:u.g("Unknown PathSegment type as an argument to GraphObject.make: "+d)):u.g("Unable to use a string as an argument to GraphObject.make: "+d);else if(d instanceof Q)c instanceof w||u.g("A GraphObject can only be added to a Panel, not to: "+c),c.add(d);else if(d instanceof Wj)c instanceof w||u.g("A RowColumnDefinition can only be added to a Panel, not to: "+
c),g=d.bv?c.Xd(d.index):c.ud(d.index),u.c(d,Wj,Wj,"copyFrom:pd"),d.bv?g.height=d.height:g.width=d.width,g.Ef=d.Ef,g.Kd=d.Kd,g.vb=d.vb,g.ps=d.ps,g.Zb=d.Zb;else if(d instanceof ra)c instanceof V&&d.Ud===V?d===Yf||d===Ch?c.af=d:d===Xj||d===Yj||d===Zj?c.Pe=d:d===$j||d===ak||d===bk?c.vu=d:d===ck||d===cj||u.g("Unknown Link enum value for a Link property: "+d):c instanceof w&&d.Ud===w?c.type=d:c instanceof ua&&d.Ud===ua?c.wz=d:c instanceof Q&&d.Ud===V?0===d.name.indexOf("Orient")?c.ms=d:u.g("Unknown Link enum value for GraphObject.segmentOrientation property: "+
d):c instanceof Q&&d.Ud===Q?c.xh=d:c instanceof B&&d.Ud===B?c.Sx=d:c instanceof Re&&d.Ud===Re?c.type=d:c instanceof Dd&&d.Ud===Dd?c.type=d:c instanceof ve&&d.Ud===ve?c.type=d:c instanceof Ze&&d.Ud===Ze?c.mode=d:c instanceof ye&&d.Ud===ye?c.Wc=d:c instanceof X&&d.Ud===X?0===d.name.indexOf("Alignment")?c.vb=d:0===d.name.indexOf("Arrangement")?c.Td=d:0===d.name.indexOf("Compaction")?c.Eu=d:0===d.name.indexOf("Path")?c.path=d:0===d.name.indexOf("Sorting")?c.Jf=d:0===d.name.indexOf("Style")?c.ZD=d:u.g("Unknown enum value: "+
d):c instanceof Y&&d.Ud===Y?0===d.name.indexOf("Aggressive")?c.jB=d:0===d.name.indexOf("Cycle")?c.GB=d:0===d.name.indexOf("Init")?c.zC=d:0===d.name.indexOf("Layer")?c.HC=d:u.g("Unknown enum value: "+d):c instanceof Xi&&d.Ud===Xi?d===dk||d===ek||d===fk||d===gk?c.Jf=d:d===hk||d===ik?c.Td=d:d===jk||d===kk?c.vb=d:u.g("Unknown enum value: "+d):c instanceof lk&&d.Ud===lk?d===mk||d===nk||d===ok||d===pk||d===qk?c.Jf=d:d===rk||d===sk||d===tk||d===uk?c.direction=d:d===vk||d===wk||d===xk||d===yk?c.Td=d:d===
zk||d===Ak?c.gs=d:u.g("Unknown enum value: "+d):u.g("No property to set for this enum value: "+d);else if(d instanceof Ze)c instanceof Q||c instanceof Wj?c.bind(d):u.g("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+c);else if(d instanceof Nd)c instanceof Dd?c.Mb.add(d):u.g("A PathFigure can only be added to a Geometry, not to: "+c);else if(d instanceof ve)c instanceof Nd?c.kb.add(d):u.g("A PathSegment can only be added to a PathFigure, not to: "+c);else if(u.Ta(d))if(d instanceof
Object&&d.constructor!==Object&&u.g("Can only get property values from a plain Object, not a: "+d),c instanceof Re){var g={},i;for(i in d){var j=parseFloat(i);isNaN(j)?g[i]=d[i]:c.addColorStop(j,d[i])}u.gz(c,g)}else c instanceof Wj?(d.row!==f?(g=d.row,(g===f||g===m||Infinity===g||isNaN(g)||0>g)&&u.g("Must specify non-negative integer row for RowColumnDefinition "+d),c.dl=h,c.ba=g):d.column!==f?(g=d.column,(g===f||g===m||Infinity===g||isNaN(g)||0>g)&&u.g("Must specify non-negative integer column for RowColumnDefinition "+
d),c.dl=p,c.ba=g):u.g("Must specify row or column value in a RowColumnDefinition "+d),g=u.tF(d,"row","column"),u.gz(c,g)):u.gz(c,d);else u.g('Unknown initializer "'+d+'" for object being constructed by GraphObject.make: '+c);return c};var Uj;Q.Builders=Uj=new sa("string","function");
Uj.add("Button",function(){var a=new Re(Te);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new Re(Te);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=Tj(w,Wh,{Yu:h},Tj(W,{name:"ButtonBorder",$a:"RoundedRectangle",fill:a,stroke:"gray"}));c.Qy=function(a,c){var g=c.R(0),i=c._buttonFillOver;i===f&&(i=b);c._buttonFillNormal=g.fill;g.fill=i;i=c._buttonStrokeOver;i===f&&(i="blue");c._buttonStrokeNormal=g.stroke;g.stroke=i};c.Ry=function(b,c){var g=c.R(0),i=c._buttonFillNormal;
i===f&&(i=a);g.fill=i;i=c._buttonStrokeNormal;i===f&&(i="gray");g.stroke=i};return c});
Uj.add("TreeExpanderButton",function(){var a=Tj("Button",Tj(W,{name:"ButtonIcon",$a:"MinusLine",ta:new L(6,6)},(new Ze("figure","isTreeExpanded",function(a,c){var d=m,e=c.W;e&&(d=a?e._treeExpandedFigure:e._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Xy("")),{visible:p},(new Ze("visible","isTreeLeaf",function(a){return!a})).Xy(""));a.click=function(a,c){var d=c.aa;if(d instanceof U){var e=d.b;e===m||e.Ua||(a.Fd=h,d.Zd?e.Ed.yr(d):e.Ed.Fr(d))}};return a});
Uj.add("SubGraphExpanderButton",function(){var a=Tj("Button",Tj(W,{name:"ButtonIcon",$a:"MinusLine",ta:new L(6,6)},(new Ze("figure","isSubGraphExpanded",function(a,c){var d=m,e=c.W;e&&(d=a?e._subGraphExpandedFigure:e._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Xy("")));a.click=function(a,c){var d=c.aa;if(d instanceof tf){var e=d.b;e===m||e.Ua||(a.Fd=h,d.ne?e.Ed.xr(d):e.Ed.Er(d))}};return a});
Uj.add("ContextMenuButton",function(){var a=Tj("Button");a.xh=fj;var b=a.Te("ButtonBorder");b instanceof W&&(b.$a="Rectangle",b.n=new K(0,0,2,2),b.o=new K(1,1,-2,-2));return a});
function w(a){Q.call(this);a===f?0===arguments.length?this.M=bh:u.g("invalid argument to Panel constructor: undefined"):(u.Ya(a,w,w,"type"),this.M=a);this.oa=new A(Q);this.Nd=(new Hb).freeze();this.Wo=ic;this.Rb=Xg;this.Pg=p;this.M===ii&&(this.Pg=h);this.Ie=[];this.ze=[];this.Oo=this.Iq=Bk;this.Nm=this.hn=0;this.ln=Yg;this.vp=(new L(10,10)).freeze();this.wp=(new E(0,0)).freeze();this.Rk=this.sm=m;this.Qw="";this.bg=this.Vj=m;this.Jm="category";this.hf=m;this.Nk=new F(NaN,NaN,NaN,NaN);this.CE=new F(0,
0,0,0);this.vH=new L(0,0);this.$q=m}u.J("Panel",w);u.va(w,Q);
w.prototype.pb=function(a){Q.prototype.pb.call(this,a);a.M=this.M;a.Nd.Xa(this.Nd);a.Wo=this.Wo.F();a.Rb=this.Rb;if(0<this.Ie.length){for(var b=[],c=this.Ie,d=c.length,e=0;e<d;e++)if(c[e]!==f){var g=c[e].copy();g.Fk(a);b[e]=g}a.Ie=b}if(0<this.ze.length){b=[];c=this.ze;d=c.length;for(e=0;e<d;e++)c[e]!==f&&(g=c[e].copy(),g.Fk(a),b[e]=g);a.ze=b}a.Iq=this.Iq;a.Oo=this.Oo;a.hn=this.hn;a.Nm=this.Nm;a.ln=this.ln;a.vp.Xa(this.vp);a.wp.Xa(this.wp);a.Pg=this.Pg;a.sm=this.sm;a.Rk=this.Rk;a.Qw=this.Qw;a.Vj=this.Vj;
a.bg=this.bg;a.Jm=this.Jm;this._buttonFillNormal&&(a._buttonFillNormal=this._buttonFillNormal);this._buttonFillOver&&(a._buttonFillOver=this._buttonFillOver);this._buttonStrokeNormal&&(a._buttonStrokeNormal=this._buttonStrokeNormal);this._buttonStrokeOver&&(a._buttonStrokeOver=this._buttonStrokeOver);this._treeExpandedFigure&&(a._treeExpandedFigure=this._treeExpandedFigure);this._treeCollapsedFigure&&(a._treeCollapsedFigure=this._treeCollapsedFigure);this._subGraphExpandedFigure&&(a._subGraphExpandedFigure=
this._subGraphExpandedFigure);this._subGraphCollapsedFigure&&(a._subGraphCollapsedFigure=this._subGraphCollapsedFigure)};w.prototype.lh=function(a){Q.prototype.lh.call(this,a);a.oa=this.oa;for(var b=a.oa.f;b.next();)b.value.dk=a};
w.prototype.copy=w.prototype.copy=function(){var a=Q.prototype.copy.call(this);if(a instanceof w){var b=this.oa;if(0<b.length)for(var c=b.length,d=0;d<c;d++){var e=b.j[d].copy(),g=a;e.Fk(g);e.ml=m;var i=g.oa,j=i.count;i.rc(j,e);i=g.aa;if(i!==m){var k=g.b;k!==m&&k.ia.hb||i.ae(Be,"elements",g,m,e,m,j)}}return a}return m};w.prototype.toString=function(){return"Panel("+this.type+")#"+u.qc(this)};var bh;w.Position=bh=u.l(w,"Position",0);w.Horizontal=u.l(w,"Horizontal",1);var Vh;
w.Vertical=Vh=u.l(w,"Vertical",2);var Vg;w.Spot=Vg=u.l(w,"Spot",3);var Wh;w.Auto=Wh=u.l(w,"Auto",4);var ka;w.Table=ka=u.l(w,"Table",5);w.Viewbox=u.l(w,"Viewbox",6);var qj;w.TableRow=qj=u.l(w,"TableRow",7);var rj;w.TableColumn=rj=u.l(w,"TableColumn",8);var Dg;w.Link=Dg=u.l(w,"Link",9);var ii;w.Grid=ii=u.l(w,"Grid",10);u.m(w,{elements:"elements"},function(){return this.oa.f});u.m(w,{qa:"naturalBounds"},s("vc"));u.a(w,"padding",w.prototype.padding);
u.defineProperty(w,{padding:"padding"},s("Nd"),function(a){"number"===typeof a?a=new Hb(a):u.c(a,Hb,w,"padding");var b=this.Nd;b.z(a)||(this.Nd=a=a.F(),this.L(),this.d("padding",b,a))});u.a(w,"type",w.prototype.type);u.defineProperty(w,{type:"type"},s("M"),function(a){var b=this.M;b!==a&&(t&&u.Ya(a,w,w,"type"),(b===qj||b===rj)&&u.g("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.M=a,this.M===ii&&(this.Pg=h),this.L(),this.d("type",b,a))});
u.a(w,"defaultAlignment",w.prototype.Vi);u.defineProperty(w,{Vi:"defaultAlignment"},s("Wo"),function(a){var b=this.Wo;b.z(a)||(t&&u.c(a,K,w,"defaultAlignment"),this.Wo=a=a.F(),this.L(),this.d("defaultAlignment",b,a))});u.a(w,"defaultStretch",w.prototype.iy);u.defineProperty(w,{iy:"defaultStretch"},s("Rb"),function(a){var b=this.Rb;b!==a&&(u.Ya(a,Q,w,"defaultStretch"),this.Rb=a,this.L(),this.d("defaultStretch",b,a))});u.a(w,"viewboxStretch",w.prototype.vz);
u.defineProperty(w,{vz:"viewboxStretch"},s("ln"),function(a){var b=this.ln;b!==a&&(u.Ya(a,Q,w,"viewboxStretch"),this.ln=a,this.d("viewboxStretch",b,a))});u.a(w,"gridCellSize",w.prototype.Qr);u.defineProperty(w,{Qr:"gridCellSize"},s("vp"),function(a){var b=this.vp;b.z(a)||(u.c(a,L,w,"gridCellSize"),(!a.ca()||0===a.width||0===a.height)&&u.g("Invalid Panel.gridCellSize: "+a),this.vp=a.F(),this.b!==m&&this===this.b.Wu&&vi(this.b),pj(this),this.d("gridCellSize",b,a))});u.a(w,"gridOrigin",w.prototype.uy);
u.defineProperty(w,{uy:"gridOrigin"},s("wp"),function(a){var b=this.wp;b.z(a)||(u.c(a,E,w,"gridOrigin"),a.ca()||u.g("Invalid Panel.gridOrigin: "+a),this.wp=a.F(),pj(this),this.d("gridOrigin",b,a))});da=w.prototype;
da.Fn=function(a,b){if(this.M===ii){var c=this.Ll()*b.scale;0>=c&&(c=1);var d=this.Qr,e=d.width,d=d.height,g=this.qa,i=g.width,g=g.height,j=Math.ceil(i/e),k=Math.ceil(g/d),l=this.uy;a.save();a.beginPath();a.rect(0,0,i,g);a.clip();for(var n=[],r=this.oa.j,q=this.oa.length,v=0;v<q;v++){var x=[];n.push(x);var C=r[v];if(C.visible)for(var C="LineV"===C.$a,G=v+1;G<q;G++){var I=r[G];I.visible&&"LineV"===I.$a===C&&(I=I.ki,2<=I&&x.push(I))}}r=this.oa.length;for(q=0;q<r;q++)if(C=this.oa.j[q],C.visible){v=n[q];
x=C.ki;if("LineV"===C.$a){a.lineWidth=C.Wa;sj(this,a,C.stroke,p);a.beginPath();for(G=C=Math.floor(-l.x/e);G<=C+j&&!(I=G*e+l.x,0<=I&&(I<i&&Ck(G,x,v))&&(a.moveTo(I,0),a.lineTo(I,g),2>e*x*c));G++);}else{a.lineWidth=C.Wa;sj(this,a,C.stroke,p);a.beginPath();for(G=C=Math.floor(-l.y/d);G<=C+k&&!(I=G*d+l.y,0<=I&&(I<=g&&Ck(G,x,v))&&(a.moveTo(0,I),a.lineTo(i,I),2>d*x*c));G++);}a.stroke()}a.restore();gi(b,a)}else{c=this.oa.length;for(e=0;e<c;e++)this.oa.j[e].tg(a,b)}};
da.Ag=function(){Q.prototype.Ag.call(this);var a=this.b;a!==m&&(Ui(a,"type",this.type),this.vz!==Yg&&Ui(a,"viewboxStretch",this.vz),Ui(a,"elements",this.elements))};function Ck(a,b,c){if(0!==a%b)return p;for(var b=c.length,d=0;d<b;d++)if(0===a%c[d])return p;return h}
da.Zr=function(a,b,c,d){var e=this.Nk;e.width=0;e.height=0;var g=this.ta,i=this.$d;c===f&&(c=i.width,d=i.height);var c=Math.max(c/this.scale,i.width),d=Math.max(d/this.scale,i.height),j=this.Jd;isNaN(g.width)||(a=Math.min(g.width,j.width));isNaN(g.height)||(b=Math.min(g.height,j.height));var a=Math.max(c,a),b=Math.max(d,b),k=this.padding,a=Math.max(a-k.left-k.right,0),b=Math.max(b-k.top-k.bottom,0),l=this.oa,n=l.length;if(0===n){var r=this.vc;xb(r,!isNaN(g.width)?a:0,!isNaN(g.height)?b:0);gj(this,
0,0,r.width,r.height)}else{var q=this.M.Bb;switch(q){case "Position":var v=a,x=b,C=c,G=d;e.x=0;e.y=0;e.width=0;for(var I=e.height=0;I<n;I++){var y=l.j[I];if(y.visible||y===this.Eb){var J=y.margin,z=J.right+J.left,H=J.top+J.bottom;yh(y,v,x,C,G);var ha=y.ua,S=Math.max(ha.width+z,0),T=Math.max(ha.height+H,0),ia=y.position.x,la=y.position.y;isFinite(ia)||(ia=0);isFinite(la)||(la=0);Cb(e,ia,la,S,T)}}break;case "Vertical":for(var Da=a,Ea=c,Wa=d,bb=[],gb=0;gb<n;gb++){var Sa=l.j[gb];if(Sa.visible||Sa===this.Eb){var lb=
jj(Sa);if(lb!==dj&&lb!==ej)bb.push(Sa);else{var Za=Sa.margin,ac=Za.right+Za.left,ad=Za.top+Za.bottom;yh(Sa,Da,Infinity,Ea,Wa);var $a=Sa.ua,Ec=Math.max($a.width+ac,0),Ed=Math.max($a.height+ad,0);e.width=Math.max(e.width,Ec);e.height+=Ed}}}var rc=bb.length;if(0!==rc){this.ta.width?Da=Math.min(this.ta.width,this.Jd.width):0!==e.width&&(Da=Math.min(e.width,this.Jd.width));for(gb=0;gb<rc;gb++)if(Sa=bb[gb],Sa.visible||Sa===this.Eb)Za=Sa.margin,ac=Za.right+Za.left,ad=Za.top+Za.bottom,yh(Sa,Da,Infinity,Ea,
Wa),$a=Sa.ua,Ec=Math.max($a.width+ac,0),Ed=Math.max($a.height+ad,0),e.width=Math.max(e.width,Ec),e.height+=Ed}break;case "Horizontal":for(var Vb=b,jc=c,Fc=d,Ib=[],Eb=0;Eb<n;Eb++){var cb=l.j[Eb];if(cb.visible||cb===this.Eb){var dd=jj(cb);if(dd!==dj&&dd!==fj)Ib.push(cb);else{var Nc=cb.margin,ud=Nc.right+Nc.left,qa=Nc.top+Nc.bottom;yh(cb,Infinity,Vb,jc,Fc);var Ka=cb.ua,hf=Math.max(Ka.width+ud,0),Mf=Math.max(Ka.height+qa,0);e.width+=hf;e.height=Math.max(e.height,Mf)}}}var Ee=Ib.length;if(0!==Ee){this.ta.height?
Vb=Math.min(this.ta.height,this.Jd.height):0!==e.height&&(Vb=Math.min(e.height,this.Jd.height));for(Eb=0;Eb<Ee;Eb++)if(cb=Ib[Eb],cb.visible||cb===this.Eb)Nc=cb.margin,ud=Nc.right+Nc.left,qa=Nc.top+Nc.bottom,yh(cb,Infinity,Vb,jc,Fc),Ka=cb.ua,hf=Math.max(Ka.width+ud,0),Mf=Math.max(Ka.height+qa,0),e.width+=hf,e.height=Math.max(e.height,Mf)}break;case "Spot":a:{var Fe=a,Ge=b,Nf=c,Gc=d,yc=Dk(this,l,n),rb=yc.margin,Oc,Fd,vd=rb.right+rb.left,Jb=rb.top+rb.bottom;yh(yc,Fe,Ge,Nf,Gc);var zb=yc.ua,wd=zb.width,
Pc=zb.height,Qc=Math.max(wd+vd,0),Td=Math.max(Pc+Jb,0);e.x=-rb.left;e.y=-rb.top;e.width=Qc;e.height=Td;for(var Ud=0;Ud<n;Ud++){var kc=l.j[Ud];if(kc!==yc&&(kc.visible||kc===this.Eb)){rb=kc.margin;Oc=rb.right+rb.left;Fd=rb.top+rb.bottom;yh(kc,Fe,Ge,0,0);var zb=kc.ua,Qc=Math.max(zb.width+Oc,0),Td=Math.max(zb.height+Fd,0),bc=kc.vb;gc(bc)&&(bc=this.Vi);Zb(bc)||(bc=qc);var eb=kc.Pi;gc(eb)&&(eb=qc);Cb(e,bc.x*wd+bc.offsetX-(eb.x*zb.width-eb.offsetX)-rb.left,bc.y*Pc+bc.offsetY-(eb.y*zb.height-eb.offsetY)-
rb.top,Qc,Td)}}var Fb=yc.xh;Fb===Xg&&(Fb=jj(yc));switch(Fb){case dj:break a;case Od:if(!isFinite(Fe)&&!isFinite(Ge))break a;break;case fj:if(!isFinite(Fe))break a;break;case ej:if(!isFinite(Ge))break a}zb=yc.ua;wd=zb.width;Pc=zb.height;Qc=Math.max(wd+vd,0);Td=Math.max(Pc+Jb,0);rb=yc.margin;e.x=-rb.left;e.y=-rb.top;e.width=Qc;e.height=Td;for(Ud=0;Ud<n;Ud++)if(kc=l.j[Ud],kc!==yc&&(kc.visible||kc===this.Eb))rb=kc.margin,Oc=rb.right+rb.left,Fd=rb.top+rb.bottom,zb=kc.ua,Qc=Math.max(zb.width+Oc,0),Td=Math.max(zb.height+
Fd,0),bc=kc.vb,gc(bc)&&(bc=this.Vi),Zb(bc)||(bc=qc),eb=kc.Pi,gc(eb)&&(eb=qc),Cb(e,bc.x*wd+bc.offsetX-(eb.x*zb.width-eb.offsetX)-rb.left,bc.y*Pc+bc.offsetY-(eb.y*zb.height-eb.offsetY)-rb.top,Qc,Td)}break;case "Auto":var xd=a,cc=b,Ab=c,Vd=d,Kb=Dk(this,l,n),dc=Kb.margin,mg=dc.right+dc.left,jf=dc.top+dc.bottom;yh(Kb,xd,cc,Ab,Vd);var Gd=Kb.ua,Rc=Math.max(Gd.width+mg,0),ld=Math.max(Gd.height+jf,0),Of=(new E).$l(0,0,Rc,ld,Ek(Kb)),fe=(new E).$l(0,0,Rc,ld,Fk(Kb)),md=new F(Of,fe),Wb=xd,Hc=cc;isFinite(xd)&&
(Wb=md.width);isFinite(cc)&&(Hc=md.height);for(var Pf=new L(0,0),yd=0;yd<n;yd++){var ge=l.j[yd];if(ge!==Kb&&(ge.visible||ge===this.Eb)){var dc=ge.margin,jb=dc.right+dc.left,kb=dc.top+dc.bottom;yh(ge,Wb,Hc,Ab,Vd);Gd=ge.ua;Rc=Math.max(Gd.width+jb,0);ld=Math.max(Gd.height+kb,0);Pf=new L(Math.max(Rc,Pf.width),Math.max(ld,Pf.height))}}if(1===n)e.width=Rc,e.height=ld;else{var Sc=Ek(Kb),Aa=Fk(Kb),Xa,Fa;Aa.x!==Sc.x&&Aa.y!==Sc.y&&(Xa=Pf.width/Math.abs(Aa.x-Sc.x),Fa=Pf.height/Math.abs(Aa.y-Sc.y));var Ta=0;
Kb instanceof W&&(Ta=Kb.Wa*Kb.scale);Xa+=Math.abs(Sc.offsetX)+Math.abs(Aa.offsetX)+Ta;Fa+=Math.abs(Sc.offsetY)+Math.abs(Aa.offsetY)+Ta;var Qb=Kb.xh;Qb===Xg&&(Qb=jj(Kb));switch(Qb){case dj:Vd=Ab=0;break;case Od:isFinite(xd)&&(Xa=xd);isFinite(cc)&&(Fa=cc);break;case fj:isFinite(xd)&&(Xa=xd);Vd=0;break;case ej:Ab=0,isFinite(cc)&&(Fa=cc)}Kb instanceof W&&(Kb.Ug?Kb.Hj=m:Kb.Ba=m);uj(Kb);yh(Kb,Xa,Fa,Ab,Vd);e.width=Kb.ua.width+mg;e.height=Kb.ua.height+jf}break;case "Table":for(var sc=a,Tc=b,Ma=n,Xb=c,Qf=
d,kf=[],he=[],Ba=0;Ba<Ma;Ba++){var va=l.j[Ba];if(va instanceof w&&(va.type===qj||va.type===rj)){he.push(va);for(var Hd=va.oa,Rf=Hd.length,vb=0;vb<Rf;vb++){var Fg=Hd.j[vb];va.type===qj?Fg.Wb=va.Wb:va.type===rj&&(Fg.mc=va.mc);kf.push(Fg)}}else kf.push(va)}for(var Ma=kf.length,zc=[],Ba=0;Ba<Ma;Ba++)va=kf[Ba],va.dc=h,va.Jc=h,zc[va.Wb]||(zc[va.Wb]=[]),zc[va.Wb][va.mc]||(zc[va.Wb][va.mc]=[]),zc[va.Wb][va.mc].push(va);for(var ie=[],Wd=[],Gg=[],lf={count:0},Id={count:0},He=sc,Ie=Tc,xa,je,rh=zc.length,Ba=
0;Ba<rh;Ba++)if(zc[Ba]){var sh=zc[Ba].length,ub=this.Xd(Ba);Gk(ub,0);for(vb=0;vb<sh;vb++)if(zc[Ba][vb]){var Bb=this.ud(vb);ie[vb]===f&&(Gk(Bb,0),ie[vb]=h);for(var xj=zc[Ba][vb],nl=xj.length,Kd=0;Kd<nl;Kd++)if(va=xj[Kd],va.visible||va===this.Eb)if(1<va.ik||1<va.Gj)Wd.push(va);else{var ke=yj(va,ub,Bb);if(ke!==dj&&!va.ta.ca())lf[vb]===f&&(lf[vb]=-1,lf.count++),Id[Ba]===f&&(Id[Ba]=-1,Id.count++),Gg.push(va),yh(va,Infinity,Infinity,Xb,Qf);else{var Xd=isFinite(Bb.width)?Bb.width:sc,nd=isFinite(ub.height)?
ub.height:Tc,Nb=new L(Math.max(Bb.Ef,Math.min(Xd,Bb.Kd)),Math.max(ub.Ef,Math.min(nd,ub.Kd))),lc=va.margin,mf=lc.right+lc.left,nf=lc.top+lc.bottom;yh(va,Infinity,Infinity,Xb,Qf);var Je=va.ua,Ic=Math.max(Je.width+mf,0),Ke=Math.max(Je.height+nf,0);xa=this.Xd(Ba);je=Math.max(Ke-xa.Ma,0);je>Ie&&(je=Ie);Gk(xa,xa.Ma+je);Ie=Math.max(Ie-je,0);xa=this.ud(vb);je=Math.max(Ic-xa.Ma,0);je>He&&(je=He);Gk(xa,xa.Ma+je);He=Math.max(He-je,0)}}}}for(var Yd=0,Uc=0,Ma=this.Cu,Ba=0;Ba<Ma;Ba++)this.ze[Ba]!==f&&(Yd+=this.ud(Ba).Ma);
Ma=this.nv;for(Ba=0;Ba<Ma;Ba++)this.Ie[Ba]!==f&&(Uc+=this.Xd(Ba).Ma);He=Math.max(sc-Yd,0);Ie=Math.max(Tc-Uc,0);Ma=Gg.length;for(Ba=0;Ba<Ma;Ba++){var va=Gg[Ba],ub=this.Xd(va.Wb),Bb=this.ud(va.mc),ai=va.ua,lc=va.margin,mf=lc.right+lc.left,nf=lc.top+lc.bottom;lf[va.mc]=Math.max(ai.width+mf-Bb.Qd,0);Id[va.Wb]=Math.max(ai.height+nf-ub.Qd,0)}var Hg=0,ng=0;for(Ba in Id)"count"!==Ba&&(Hg+=Id[Ba]);for(Ba in lf)"count"!==Ba&&(ng+=lf[Ba]);for(Ba=0;Ba<Ma;Ba++)if(va=Gg[Ba],va.visible||va===this.Eb){ub=this.Xd(va.Wb);
Bb=this.ud(va.mc);Xd=isFinite(Bb.width)?Bb.width:isFinite(He)?Bb.Qd+lf[va.mc]/ng*He:Bb.Qd||He;nd=isFinite(ub.height)?ub.height:isFinite(Ie)?ub.Qd+Id[va.Wb]/Hg*Ie:ub.Qd||Ie;Nb=new L(Math.max(Bb.Ef,Math.min(Xd,Bb.Kd)),Math.max(ub.Ef,Math.min(nd,ub.Kd)));ke=yj(va,ub,Bb);switch(ke){case fj:Nb.height=Infinity;break;case ej:Nb.width=Infinity}lc=va.margin;mf=lc.right+lc.left;nf=lc.top+lc.bottom;uj(va);yh(va,Nb.width,Nb.height,Bb.Ef,ub.Ef);Je=va.ua;Ic=Math.max(Je.width+mf,0);Ke=Math.max(Je.height+nf,0);Gk(ub,
Math.max(ub.Ma,Ke));Gk(Bb,Math.max(Bb.Ma,Ic))}Ma=Wd.length;for(Ba=0;Ba<Ma;Ba++)if(va=Wd[Ba],va.visible||va===this.Eb){ub=this.Xd(va.Wb);Bb=this.ud(va.mc);Nb=new L(Math.max(Bb.Ef,Math.min(sc,Bb.Kd)),Math.max(ub.Ef,Math.min(Tc,ub.Kd)));ke=yj(va,ub,Bb);switch(ke){case Od:0!==Bb.Qd&&(Nb.width=Math.min(Nb.width,Bb.Qd));0!==ub.Qd&&(Nb.height=Math.min(Nb.height,ub.Qd));break;case fj:0!==Bb.Qd&&(Nb.width=Math.min(Nb.width,Bb.Qd));break;case ej:0!==ub.Qd&&(Nb.height=Math.min(Nb.height,ub.Qd))}isFinite(Bb.width)&&
(Nb.width=Bb.width);isFinite(ub.height)&&(Nb.height=ub.height);for(var og=new L(0,0),ec=1;ec<va.ik&&!(va.Wb+ec>=this.nv);ec++)xa=this.Xd(va.Wb+ec),og.height+=Math.max(xa.Ef,isNaN(xa.Je)?xa.Kd:Math.min(xa.Je,xa.Kd));for(ec=1;ec<va.Gj&&!(va.mc+ec>=this.Cu);ec++)xa=this.ud(va.mc+ec),og.width+=Math.max(xa.Ef,isNaN(xa.Je)?xa.Kd:Math.min(xa.Je,xa.Kd));Nb.width+=og.width;Nb.height+=og.height;lc=va.margin;mf=lc.right+lc.left;nf=lc.top+lc.bottom;yh(va,Nb.width,Nb.height,Xb,Qf);for(var Je=va.ua,Ic=Math.max(Je.width+
mf,0),Ke=Math.max(Je.height+nf,0),of=0,ec=0;ec<va.ik;ec++)xa=this.Xd(va.Wb+ec),of+=xa.Ma||0;if(of<Ke)for(var Ld=Ke-of;0<Ld;){var le=xa.Ma||0;isNaN(xa.height)&&xa.Kd>le&&(Gk(xa,Math.min(xa.Kd,le+Ld)),xa.Ma!==le&&(Ld-=xa.Ma-le));if(-1===xa.index-1)break;xa=this.Xd(xa.index-1)}for(var Sf=0,ec=0;ec<va.Gj;ec++)xa=this.ud(va.mc+ec),Sf+=xa.Ma||0;if(Sf<Ic)for(Ld=Ic-Sf;0<Ld;){le=xa.Ma||0;isNaN(xa.width)&&xa.Kd>le&&(Gk(xa,Math.min(xa.Kd,le+Ld)),xa.Ma!==le&&(Ld-=xa.Ma-le));if(-1===xa.index-1)break;xa=this.ud(xa.index-
1)}}for(var ed=0,Zd=0,ke=jj(this),pg=this.ta,Ig=this.Jd,qg=Uc=Yd=0,pf=0,Ma=this.Cu,Ba=0;Ba<Ma;Ba++)this.ze[Ba]!==f&&(xa=this.ud(Ba),isFinite(xa.width)?qg+=xa.width:Hk(xa)===Ik?qg+=xa.Ma:Yd+=xa.Ma);var ed=isFinite(pg.width)?Math.min(pg.width,Ig.width):ke!==dj&&isFinite(sc)?sc:Yd,ed=Math.max(ed,this.$d.width),ed=Math.max(ed-qg,0),Le=Math.max(ed/Yd,1);isFinite(Le)||(Le=1);for(Ba=0;Ba<Ma;Ba++)this.ze[Ba]!==f&&(xa=this.ud(Ba),!isFinite(xa.width)&&Hk(xa)!==Ik&&Gk(xa,xa.Ma*Le),xa.qb=e.width,e.width+=xa.Ma);
Ma=this.nv;for(Ba=0;Ba<Ma;Ba++)this.Ie[Ba]!==f&&(xa=this.Xd(Ba),isFinite(xa.height)?pf+=xa.height:Hk(xa)===Ik?pf+=xa.Ma:Uc+=xa.Ma);var Zd=isFinite(pg.height)?Math.min(pg.height,Ig.height):ke!==dj&&isFinite(Tc)?Tc:Uc,Zd=Math.max(Zd,this.$d.height),Zd=Math.max(Zd-pf,0),Kg=Math.max(Zd/Uc,1);isFinite(Kg)||(Kg=1);for(Ba=0;Ba<Ma;Ba++)this.Ie[Ba]!==f&&(xa=this.Xd(Ba),!isFinite(xa.height)&&Hk(xa)!==Ik&&Gk(xa,xa.Ma*Kg),xa.qb=e.height,e.height+=xa.Ma);Ma=he.length;for(Ba=0;Ba<Ma;Ba++){var Vc=he[Ba];Vc.type===
qj?(Xd=e.width,xa=this.Xd(Vc.Wb),nd=xa.Qd):(xa=this.ud(Vc.mc),Xd=xa.Qd,nd=e.height);Vc.Lc.Od(0,0,Xd,nd);Vc.dc=p;zc[Vc.Wb]||(zc[Vc.Wb]=[]);zc[Vc.Wb][Vc.mc]||(zc[Vc.Wb][Vc.mc]=[]);zc[Vc.Wb][Vc.mc].push(Vc)}this.BE=zc;break;case "Viewbox":var me=a,zj=b,Wn=c,Xn=d;1<n&&u.g("Viewbox Panel cannot contain more than one GraphObject.");var $d=l.j[0];$d.Sb=1;uj($d);yh($d,Infinity,Infinity,Wn,Xn);var bi=$d.ua,Aj=$d.margin,Yn=Aj.right+Aj.left,Zn=Aj.top+Aj.bottom;if(isFinite(me)||isFinite(zj)){var Op=$d.scale,
$n=bi.width,ao=bi.height,bo=Math.max(me-Yn,0),co=Math.max(zj-Zn,0);$d.Sb=this.ln===Yg?$d.Sb*Math.min(bo/$n,co/ao):$d.Sb*Math.max(bo/$n,co/ao);Op!==$d.scale&&($d.dc=h,yh($d,Infinity,Infinity,Wn,Xn))}bi=$d.ua;e.width=isFinite(me)?me:Math.max(bi.width+Yn,0);e.height=isFinite(zj)?zj:Math.max(bi.height+Zn,0);break;case "Link":var eo=this instanceof sf?this.rn:this;if(0===n){var Bj=this.vc;xb(Bj,0,0);var Md=this.ua;Md.Od(0,0,0,0)}else{var Cj=this.up(),Me=this.Mj(),Ne=Me.copy();Ne.x=0;Ne.y=0;var Lg,th=this.Fw();
Lg=this.da!==f?this.da:th.count;for(var Dj=new E(Infinity,Infinity),Mg=0;Mg<Lg;Mg++){var fo=th.j[Mg];Dj.x=Math.min(fo.x,Dj.x);Dj.y=Math.min(fo.y,Dj.y)}this.Ei=new E(Me.x,Me.y);this.Bh.clear();Cj!==m&&(Jk(Cj,Me.width,Me.height),Md=Cj.ua,Ne.qj(Md),this.Bh.add(Md));for(var Ng=m,rg=m,Tf=m,Mg=0;Mg<n;Mg++){var mc=l.j[Mg];if(mc!==Cj)if(mc.fj&&mc instanceof W)Jk(mc,Me.width,Me.height),Md=mc.ua,Ne.qj(Md),this.Bh.add(Md);else if(2>Lg)yh(mc,Infinity,Infinity),Md=mc.ua,Ne.qj(Md),this.Bh.add(Md);else{Ng===m&&
(Ng=new pb,rg=new E,Tf=new E);var Uf=mc.wh,io=mc.cz,ol=mc.Pi;fc(ol)&&(ol=qc);var Ej=mc.ms,Pp=mc.dz,ci,di,Fj=0;if(Uf<-Lg||Uf>=Lg){var jo=eo.UC,Gj=eo.TC;Ej!==cj&&(Fj=Kk(Ej,Gj),mc.Va=Fj);ci=jo.x-Me.x;di=jo.y-Me.y}else{var qf,uh;if(0<=Uf)qf=th.j[Uf],uh=Uf<Lg-1?th.j[Uf+1]:qf;else{var pl=Lg+Uf;qf=th.j[pl];uh=0<pl?th.j[pl-1]:qf}Gj=0<=Uf?qf.gi(uh):uh.gi(qf);Ej!==cj&&(Fj=Kk(Ej,Gj),mc.Yb=Fj);ci=qf.x+(uh.x-qf.x)*io-Me.x;di=qf.y+(uh.y-qf.y)*io-Me.y}yh(mc,Infinity,Infinity);var Md=mc.ua,Bj=mc.qa,ei=0;mc instanceof
W&&(ei=mc.Wa);var ko=Bj.width+ei,lo=Bj.height+ei;Ng.reset();Ng.translate(-Md.x,-Md.y);Ng.scale(mc.scale,mc.scale);Ng.rotate(mc.Va,ko/2,lo/2);var mo=new F(0,0,ko,lo);rg.qo(mo,ol);Ng.Fb(rg);var Qp=-rg.x+ei/2,Rp=-rg.y+ei/2;Tf.set(Pp);isNaN(Tf.x)&&(Tf.x=0<=Uf?rg.x+3:-(rg.x+3));isNaN(Tf.y)&&(Tf.y=-(rg.y+3));Tf.rotate(Gj);ci+=Tf.x;di+=Tf.y;var fi=mo;fi.set(Md);fi.x=ci+Qp;fi.y=di+Rp;this.Bh.add(fi);Ne.qj(fi)}}if(this.jf)for(var no=this.oi;no.next();)yh(no.value,Infinity,Infinity);this.Nk=Ne;var Ij=this.Ei;
Ij&&Ij.Od(Ij.x+Ne.x,Ij.y+Ne.y);xb(e,Ne.width||0,Ne.height||0)}break;case "Grid":break;case "TableRow":case "TableColumn":u.g(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:u.g("Unknown panel type: "+q)}var ne=e.width,oe=e.height,Jj=this.padding,Sp=Jj.top+Jj.bottom,ne=ne+(Jj.left+Jj.right),oe=oe+Sp;isFinite(g.width)&&(ne=g.width);isFinite(g.height)&&(oe=g.height);ne=Math.min(j.width,ne);oe=Math.min(j.height,
oe);ne=Math.max(i.width,ne);oe=Math.max(i.height,oe);ne=Math.max(c,ne);oe=Math.max(d,oe);e.width=ne;e.height=oe;r=this.vc;xb(r,ne,oe);gj(this,0,0,ne,oe)}};function Dk(a,b,c){for(var d=0;d<c;d++){var e=b.j[d];if(e.fj===h)return a.$q=e}b=b.j[0];return a.$q=b}
da.Ri=function(a,b,c,d){var e=this.Nk,g=this.oa,i=g.length,j=this.CE;j.reset();if(0===i){var k=this.pa;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.ta.ca()){var l=jj(this),n=this.Lc,r=n.width,q=n.height;r===c&&q===d&&(l=dj);switch(l){case dj:if(r>c||q>d)this.L(),yh(this,r>c?c:r,q>d?d:q);break;case Od:this.dc=h;yh(this,c,d,0,0);break;case fj:this.dc=h;yh(this,c,q,0,0);break;case ej:this.dc=h,yh(this,r,d,0,0)}}k=this.pa;k.x=a;k.y=b;k.width=c;k.height=d;var v=this.M.Bb;switch(v){case "Position":for(var x=
e.x+this.padding.left,C=e.y+this.padding.top,G=0;G<i;G++){var I=g.j[G],y=I.ua,J=I.margin,z=I.position.x,H=I.position.y;j.x=isNaN(z)?-x:z-x;j.y=isNaN(H)?-C:H-C;j.x+=J.left;j.y+=J.top;j.width=y.width;j.height=y.height;I.visible&&I.Ac(j.x,j.y,j.width,j.height)}break;case "Vertical":for(var ha=this.padding.left,S=this.padding.top,T=0;T<i;T++){var ia=ha,la=g.j[T],Da=la.ua,Ea=la.margin,Wa=Ea.left+Ea.right,bb=Da.width,gb=jj(la);if(isNaN(la.ta.width)&&gb===Od||gb===fj)bb=Math.max(e.width-Wa,0);var Sa=bb+
Wa,lb=la.vb;gc(lb)&&(lb=this.Vi);Zb(lb)||(lb=qc);j.x=ia+lb.offsetX+Ea.left+(e.width*lb.x-Sa*lb.x);j.y=S+lb.offsetY+Ea.top;j.width=bb;j.height=Da.height;la.visible&&(la.Ac(j.x,j.y,j.width,j.height),S+=Da.height+Ea.bottom+Ea.top)}break;case "Horizontal":for(var Za=this.padding.top,ac=this.padding.left,ad=0;ad<i;ad++){var $a=Za,Ec=g.j[ad],Ed=Ec.ua,rc=Ec.margin,Vb=rc.top+rc.bottom,jc=Ed.height,Fc=jj(Ec);if(isNaN(Ec.ta.height)&&Fc===Od||Fc===ej)jc=Math.max(e.height-Vb,0);var Ib=jc+Vb,Eb=Ec.vb;gc(Eb)&&
(Eb=this.Vi);Zb(Eb)||(Eb=qc);j.x=ac+Eb.offsetX+rc.left;j.y=$a+Eb.offsetY+rc.top+(e.height*Eb.y-Ib*Eb.y);j.width=Ed.width;j.height=jc;Ec.visible&&(Ec.Ac(j.x,j.y,j.width,j.height),ac+=Ed.width+rc.left+rc.right)}break;case "Spot":var cb=Dk(this,g,i),dd=cb.ua,Nc=dd.width,ud=dd.height,qa=this.padding,Ka=qa.left,hf=qa.top;j.x=Ka-e.x;j.y=hf-e.y;cb.Ac(j.x,j.y,Nc,ud);for(var Mf=0;Mf<i;Mf++){var Ee=g.j[Mf];if(Ee!==cb){var Fe=Ee.ua,Ge=Fe.width,Nf=Fe.height,Gc=Ee.vb;gc(Gc)&&(Gc=this.Vi);Zb(Gc)||(Gc=qc);var yc=
Ee.Pi;gc(yc)&&(yc=qc);j.x=Gc.x*Nc+Gc.offsetX-(yc.x*Ge-yc.offsetX);j.y=Gc.y*ud+Gc.offsetY-(yc.y*Nf-yc.offsetY);j.x-=e.x;j.y-=e.y;Ee.visible&&Ee.Ac(Ka+j.x,hf+j.y,Ge,Nf)}}break;case "Auto":var rb=Dk(this,g,i),Oc=rb.ua,Fd=0;rb instanceof W&&(Fd=rb.Wa);var vd=new F(0,0,Oc.width-Fd,Oc.height-Fd),Jb=new F(0,0,1,1),zb=rb.margin,wd=zb.left,Pc=zb.top,Qc=this.padding,Td=Qc.left,Ud=Qc.top;j.x=wd;j.y=Pc;j.width=Oc.width;j.height=Oc.height;rb.Ac(Td+j.x,Ud+j.y,j.width,j.height);var kc=Ek(rb),bc=Fk(rb),eb=(new E).qo(vd,
kc),Fb=(new E).qo(vd,bc);Jb.x=eb.x;Jb.y=eb.y;Jb.xv(Fb);Jb.x+=wd+Td+Fd/2;Jb.y+=Pc+Ud+Fd/2;for(var xd=0;xd<i;xd++){var cc=g.j[xd];if(cc!==rb){var Ab=cc.ua,zb=cc.margin,Vd=Math.max(Ab.width+zb.right+zb.left,0),Kb=Math.max(Ab.height+zb.top+zb.bottom,0),dc=cc.vb;gc(dc)&&(dc=this.Vi);Zb(dc)||(dc=qc);j.x=Jb.width*dc.x+dc.offsetX-Vd*dc.x+zb.left+Jb.x;j.y=Jb.height*dc.y+dc.offsetY-Kb*dc.y+zb.top+Jb.y;j.width=Jb.width;j.height=Jb.height;cc.visible&&(Mb(Jb.x,Jb.y,Jb.width,Jb.height,j.x,j.y,Ab.width,Ab.height)?
cc.Ac(j.x,j.y,Ab.width,Ab.height):cc.Ac(j.x,j.y,Ab.width,Ab.height,new F(Jb.x,Jb.y,Jb.width,Jb.height)))}}break;case "Table":for(var mg=this.padding,jf=mg.left,Gd=mg.top,Rc=this.BE,ld,Of,fe=Rc.length,md=0,Wb=0;Wb<fe;Wb++)Rc[Wb]&&(md=Math.max(md,Rc[Wb].length));for(var Hc=Math.min(this.hn,fe-1);Hc!==fe&&(this.Ie[Hc]===f||0===this.Ie[Hc].Ma);)Hc++;for(var Hc=Math.min(Hc,fe-1),Pf=-this.Ie[Hc].qb,yd=Math.min(this.Nm,md-1);yd!==md&&(this.ze[yd]===f||0===this.ze[yd].Ma);)yd++;for(var yd=Math.min(yd,md-
1),ge=-this.ze[yd].qb,Wb=0;Wb<fe;Wb++)if(Rc[Wb]){var md=Rc[Wb].length,jb=this.Xd(Wb);Of=jb.qb+Pf+Gd;for(var kb=0;kb<md;kb++)if(Rc[Wb][kb]){var Sc=this.ud(kb);ld=Sc.qb+ge+jf;for(var Aa=Rc[Wb][kb],Xa=Aa.length,Fa=0;Fa<Xa;Fa++){var Ta=Aa[Fa],Qb=Ta.ua;if(Ta instanceof w&&(Ta.type===qj||Ta.type===rj)){Ta.lb.wa();var sc=Ta.lb;sc.x=Ta.type===qj?jf:ld;sc.y=Ta.type===rj?Gd:Of;sc.width=Qb.width;sc.height=Qb.height;Ta.lb.freeze();Ta.Jc=p}else{for(var Tc=new L(0,0),Ma=1;Ma<Ta.rowSpan&&!(Wb+Ma>=this.nv);Ma++){var Xb=
this.Xd(Wb+Ma);Tc.height+=Xb.Ma}for(Ma=1;Ma<Ta.yB&&!(kb+Ma>=this.Cu);Ma++){var Qf=this.ud(kb+Ma);Tc.width+=Qf.Ma}var kf=Sc.Ma+Tc.width,he=jb.Ma+Tc.height;j.x=ld;j.y=Of;j.width=kf;j.height=he;var Ba=ld,va=Of,Hd=kf,Rf=he,vb=Ta.vb.copy();if(gc(vb)){vb.Xa(this.Vi);Zb(vb)||vb.Xa(qc);var Fg=Sc.vb;Zb(Fg)&&(vb.x=Fg.x,vb.offsetX=Fg.offsetX);var zc=jb.vb;Zb(zc)&&(vb.y=zc.y,vb.offsetY=zc.offsetY)}Zb(vb)||(vb=qc);var ie=Qb.width,Wd=Qb.height,Gg=Ta.Jd,lf=Ta.$d,ie=Math.min(Gg.width,ie),Wd=Math.min(Gg.height,Wd),
ie=Math.max(lf.width,ie),Wd=Math.max(lf.height,Wd),Id=Ta.margin,He=Id.left+Id.right,Ie=Id.top+Id.bottom,xa=yj(Ta,jb,Sc);if(isNaN(Ta.ta.width)&&xa===Od||xa===fj)ie=Math.max(kf-He,0);if(isNaN(Ta.ta.height)&&xa===Od||xa===ej)Wd=Math.max(he-Ie,0);var je=Wd+Ie;j.x+=j.width*vb.x-(ie+He)*vb.x+vb.offsetX+Id.left;j.y+=j.height*vb.y-je*vb.y+vb.offsetY+Id.top;Ta.visible&&(Mb(Ba,va,Hd,Rf,j.x,j.y,ie,Wd)?Ta.Ac(j.x,j.y,ie,Wd):Ta.Ac(j.x,j.y,ie,Wd,new F(Ba,va,Hd,Rf)))}}}}for(Wb=0;Wb<i;Wb++)if(Ta=g.j[Wb],Ta instanceof
w&&(Ta.type===qj||Ta.type===rj))sc=Ta.lb,Ta.vc.wa(),Ta.vc.ro(0,0,sc.width,sc.height),Ta.vc.freeze();break;case "Viewbox":var rh=g.j[0],sh=rh.ua,ub=rh.margin,Bb=ub.top+ub.bottom,xj=Math.max(sh.width+(ub.right+ub.left),0),nl=Math.max(sh.height+Bb,0),Kd=rh.vb;gc(Kd)&&(Kd=this.Vi);Zb(Kd)||(Kd=qc);j.x=e.width*Kd.x-xj*Kd.x+Kd.offsetX;j.y=e.height*Kd.y-nl*Kd.y+Kd.offsetY;j.width=sh.width;j.height=sh.height;rh.Ac(j.x,j.y,j.width,j.height);break;case "Link":var ke=this.up(),Xd=0;if(ke!==m&&Xd<this.Bh.count){var nd=
this.Bh.j[Xd];Xd++;ke.Ac(nd.x-this.Nk.x,nd.y-this.Nk.y,nd.width,nd.height)}for(var Nb=0;Nb<i;Nb++){var lc=g.j[Nb];lc!==ke&&Xd<this.Bh.count&&(nd=this.Bh.j[Xd],Xd++,lc.Ac(nd.x-this.Nk.x,nd.y-this.Nk.y,nd.width,nd.height))}var mf=this.Fw(),nf=mf.count;if(2<=nf&&this.jf)for(var Je=this.oi;Je.next();){var Ic=Je.value,Ke=nf,Yd=mf,Uc=Ic.wh,ai=Ic.cz,Hg=Ic.Pi;fc(Hg)&&(Hg=qc);var ng=Ic.ms,og=Ic.dz,ec=f,of=f,Ld=0;if(Uc<-Ke||Uc>=Ke){var le=this.UC,Sf=this.TC;ng!==cj&&(Ld=Kk(ng,Sf),Ic.Va=Ld);ec=le.x;of=le.y}else{var ed=
f,Zd=f;if(0<=Uc)ed=Yd.j[Uc],Zd=Uc<Ke-1?Yd.j[Uc+1]:ed;else var pg=Ke+Uc,ed=Yd.j[pg],Zd=0<pg?Yd.j[pg-1]:ed;Sf=0<=Uc?ed.gi(Zd):Zd.gi(ed);ng!==cj&&(Ld=Kk(ng,Sf),Ic.Va=Ld);ec=ed.x+(Zd.x-ed.x)*ai;of=ed.y+(Zd.y-ed.y)*ai}var Ig=new pb;Ig.scale(Ic.scale,Ic.scale);Ig.rotate(Ic.Va,0,0);var qg=Ic.qa,pf=new F(0,0,qg.width,qg.height),Le=new E;Le.qo(pf,Hg);Ig.Fb(Le);var Kg=-Le.x,Vc=-Le.y,me=og.copy();isNaN(me.x)&&(me.x=0<=Uc?Le.x+3:-(Le.x+3));isNaN(me.y)&&(me.y=-(Le.y+3));me.rotate(Sf);ec+=me.x;of+=me.y;Ig.WD(pf);
Kg+=pf.x;Vc+=pf.y;Ic.position=new E(ec+Kg,of+Vc)}break;case "Grid":break;case "TableRow":case "TableColumn":u.g(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:u.g("Unknown panel type: "+v)}}};
da.Ti=function(a){var b=this.qa;if(Mb(0,0,b.width,b.height,a.x,a.y)){for(var c=this.oa.length,b=new E;c--;){var d=this.oa.j[0];if(d.visible||d===this.Eb)if(qb(b.set(a),d.transform),d.ka(b))return h}return this.Qf===m&&this.Pf===m?p:h}return p};function Lk(a,b,c){c(a,b);if(b instanceof w)for(b=b.elements;b.next();)Lk(a,b.value,c)}function Ai(a,b,c){c(b);for(b=b.elements;b.next();){var d=b.value;d instanceof w&&Ai(a,d,c)}}
function Mk(a,b,c){if(c(b))return b;if(b instanceof w)for(b=b.elements;b.next();){var d=Mk(a,b.value,c);if(d!==m)return b.Xf(),d}return m}w.prototype.findObject=w.prototype.Te=function(a){if(this.name===a)return this;for(var b=this.elements;b.next();){var c=b.value;if(c.name===a)return c;if(c instanceof w&&!c.jG()&&(c=c.Te(a),c!==m))return c}return m};Q.prototype.findObjectByPred=w.prototype.eC=function(a){return a(this)?this:Nk(this,a)};
function Nk(a,b){for(var c=a.elements;c.next();){var d=c.value;if(b(d))return d;if(d instanceof w&&(d=Nk(d,b),d!==m))return d}return m}da=w.prototype;da.si=function(){return!(this.type===qj||this.type===rj)};
da.Xc=function(a,b,c){if(this.pf===p)return m;b===f&&(b=m);c===f&&(c=m);if(this.Jc)return m;var d=this.qa,e=1/this.Ll(),g=this.si()?a:qb((new E).set(a),this.transform);if(Mb(-(5*e),-(5*e),d.width+10*e,d.height+10*e,g.x,g.y)){if(!this.Pg)for(var i=this.oa.length,e=new E;i--;){var j=this.oa.j[i];if(j.visible||j===this.Eb){j.si()?qb(e.set(a),j.transform):e.set(a);var k=m;j instanceof w?k=j.Xc(e,b,c):j.pf===h&&j.ka(e)&&(k=j);if(k!==m&&(b!==m&&(k=b(k)),k&&(c===m||c(k))))return k}}return this.background===
m&&this.$h===m?m:Mb(0,0,d.width,d.height,g.x,g.y)?this:m}return m};
da.Kn=function(a,b,c,d){if(this.pf===p)return p;b===f&&(b=m);c===f&&(c=m);!(d instanceof A)&&!(d instanceof ta)&&(d=new A(Q));var e=this.qa,g=this.si()?a:qb((new E).set(a),this.transform);if(Mb(0,0,e.width,e.height,g.x,g.y)){if(!this.Pg){g=this.oa.length;for(e=new E;g--;){var i=this.oa.j[g];if(i.visible||i===this.Eb)if(i.si()?qb(e.set(a),i.transform):e.set(a),(i instanceof w?i.Kn(e,b,c,d):i.ka(e))&&i.pf!==p)b!==m&&(i=b(i)),i&&(c===m||c(i))&&d.add(i)}}return this.background!==m||this.$h!==m}return p};
da.Kl=function(a,b,c,d,e,g){if(this.pf===p)return p;g===f&&(g=new pb);b===f&&(b=m);c===f&&(c=m);g.multiply(this.transform);if(this.fy(a,g))return ij(this,b,c,e),h;if(this.Ve(a,g)){if(!this.Pg)for(var i=this.oa.length;i--;){var j=this.oa.j[i];if(j.visible||j===this.Eb){var k=j.pa,l=this.pa;if(!(k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height)){if(j instanceof w)k=j.Kl(a,b,c,d,e,g.copy());else{var k=j,l=a,n=d,r=g.copy();k.pf===p?k=p:(r===f&&(r=new pb),r.multiply(k.transform),k=n?k.Ve(l,r):
k.fy(l,r))}k&&(b!==m&&(j=b(j)),j&&(c===m||c(j))&&e.add(j))}}}return d}return p};
da.Ln=function(a,b,c,d,e){if(this.pf===p)return p;c===f&&(c=m);d===f&&(d=m);var g=this.qa,i=this.si()?a:qb((new E).set(a),this.transform),j=this.si()?b:qb((new E).set(b),this.transform),j=i.Xi(j);if(0<i.x&&i.x<g.width&&0<i.y&&i.y<g.height||sb(i.x,i.y,0,0,0,g.height)<j||sb(i.x,i.y,0,g.height,g.width,g.height)<j||sb(i.x,i.y,g.width,g.height,g.width,0)<j||sb(i.x,i.y,g.width,0,0,0)<j){if(!this.Pg){g=new E;i=new E;for(j=this.oa.length;j--;){var k=this.oa.j[j];if(k.visible||k===this.Eb){var l=k.pa,n=this.pa;
if(!(l.x>n.width||l.y>n.height||0>l.x+l.width||0>l.y+l.height))if(l=k.transform,k.si()?(qb(g.set(a),l),qb(i.set(b),l)):(g.set(a),i.set(b)),k instanceof w?k.Ln(g,i,c,d,e):k.fC(g,i))c!==m&&(k=c(k)),k&&(d===m||d(k))&&e.add(k)}}}return h}return p};function Ek(a){var b=a.n;if(b===f||b===ic)b=m;b===m&&a instanceof W&&(a=a.Ba,a!==m&&(b=a.n));b===m&&(b=nc);return b}function Fk(a){var b=a.o;if(b===f||b===ic)b=m;b===m&&a instanceof W&&(a=a.Ba,a!==m&&(b=a.o));b===m&&(b=vc);return b}
w.prototype.add=w.prototype.add=function(a){u.c(a,Q,w,"add:element");this.rc(this.oa.count,a)};w.prototype.elt=w.prototype.R=function(a){return this.oa.R(a)};
w.prototype.insertAt=w.prototype.rc=function(a,b){b instanceof R&&u.g("Cannot add a Part to a Panel: "+b);if(this===b||this.ni(b))this===b&&u.g("Cannot make a Panel contain itself: "+this.toString()),u.g("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.W;c!==m&&c!==this&&u.g("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.M===ii&&!(b instanceof W)&&u.g("Can only add Shapes to a Grid Panel, not: "+b);b.Fk(this);b.ml=m;if(this.Hy!==m){var d=b.data;d!==m&&"object"===typeof d&&(this.hf===m&&(this.hf=new sa(Object,w)),this.hf.add(d,b))}var e=this.oa,d=-1;if(c===this){for(var g=-1,i=e.count,j=0;j<i;j++)if(e.j[j]===b){g=j;break}if(-1!==g){if(g===a||g+1>=e.count&&a>=e.count)return;e.te(g);d=g}else u.g("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}a>e.count&&(a=e.count);
e.rc(a,b);this.L();b.L();c=this.aa;c!==m&&(e=this.b,e!==m&&e.ia.hb||(-1!==d&&c.ae(Ce,"elements",this,b,m,d,m),c.ae(Be,"elements",this,m,b,m,a)))};w.prototype.remove=w.prototype.remove=function(a){u.c(a,Q,w,"remove:element");for(var b=this.oa,c=b.count,d=-1,e=0;e<c;e++)if(b.j[e]===a){d=e;break}-1!==d&&this.Gd(d)};w.prototype.removeAt=w.prototype.te=function(a){t&&u.i(a,w,"removeAt:idx");0<=a&&this.Gd(a)};
w.prototype.Gd=function(a){var b=this.oa,c=b.R(a);c.ml=m;c.Fk(m);if(this.hf!==m){var d=c.data;"object"===typeof d&&this.hf.remove(d)}b.te(a);this.dc=p;this.L();b=this.aa;b!==m&&(d=this.b,d!==m&&d.ia.hb||b.ae(Ce,"elements",this,c,m,a,m))};u.m(w,{nv:"rowCount"},function(){return this.Ie.length});
w.prototype.getRowDefinition=w.prototype.Xd=function(a){t&&u.i(a,w,"getRowDefinition:idx");0>a&&u.ha(a,">= 0",w,"getRowDefinition:idx");var a=Math.round(a),b=this.Ie;if(b[a]===f){var c=new Wj;c.Fk(this);c.dl=h;c.ba=a;b[a]=c}return b[a]};w.prototype.removeRowDefinition=w.prototype.mK=function(a){t&&u.i(a,w,"removeRowDefinition:idx");0>a&&u.ha(a,">= 0",w,"removeRowDefinition:idx");var a=Math.round(a),b=this.Ie;b[a]&&(b[a]=f)};u.m(w,{Cu:"columnCount"},function(){return this.ze.length});
w.prototype.getColumnDefinition=w.prototype.ud=function(a){t&&u.i(a,w,"getColumnDefinition:idx");0>a&&u.ha(a,">= 0",w,"getColumnDefinition:idx");var a=Math.round(a),b=this.ze;if(b[a]===f){var c=new Wj;c.Fk(this);c.dl=h;c.ba=a;b[a]=c}return b[a]};w.prototype.removeColumnDefinition=w.prototype.kK=function(a){t&&u.i(a,w,"removeColumnDefinition:idx");0>a&&u.ha(a,">= 0",w,"removeColumnDefinition:idx");var a=Math.round(a),b=this.ze;b[a]&&(b[a]=f)};u.a(w,"rowSizing",w.prototype.yD);
u.defineProperty(w,{yD:"rowSizing"},s("Iq"),function(a){var b=this.Iq;b!==a&&(a!==Bk&&a!==Ik&&u.g("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Iq=a,this.L(),this.d("rowSizing",b,a))});u.a(w,"columnSizing",w.prototype.xB);
u.defineProperty(w,{xB:"columnSizing"},s("Oo"),function(a){var b=this.Oo;b!==a&&(a!==Bk&&a!==Ik&&u.g("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Oo=a,this.L(),this.d("columnSizing",b,a))});u.a(w,"topIndex",w.prototype.mH);u.defineProperty(w,{mH:"topIndex"},s("hn"),function(a){var b=this.hn;b!==a&&((!isFinite(a)||0>a)&&u.g("topIndex must be greater than zero and a real number. Was "+a),this.hn=a,vj(this),this.d("topIndex",b,a))});
u.a(w,"leftIndex",w.prototype.rG);u.defineProperty(w,{rG:"leftIndex"},s("Nm"),function(a){var b=this.Nm;b!==a&&((!isFinite(a)||0>a)&&u.g("leftIndex must be greater than zero and a real number. Was "+a),this.Nm=a,vj(this),this.d("leftIndex",b,a))});u.a(w,"data",w.prototype.data);
u.defineProperty(w,{data:"data"},s("sm"),function(a){var b=this.sm;if(b!==a){var c=this instanceof R&&!(this instanceof sf);c&&u.e(a,"object",w,"data");vf(this);this.sm=a;var d=this.b;d!==m&&(c?(b!==m&&d.Wf.remove(b),a!==m&&d.Wf.add(a,this)):(c=this.W,c!==m&&c.hf!==m&&(b!==m&&c.hf.remove(b),a!==m&&c.hf.add(a,this))));this.d("data",b,a);d!==m&&d.ia.hb||a!==m&&this.tc()}});function Sj(a){a=a.Rk;return a!==m&&a.Ra}
function vf(a){var b=a.Rk;if(b===m)a.data!==m&&u.g("Template cannot have .data be non-null: "+a),a.Rk=b=new A(Ze);else if(b.Ra)return;var c=new A(Q);Lk(a,a,function(a,d){var e=d.Zb;if(e!==m){d.lm=p;for(var g=e.f;g.next();){e=g.value;e.mode===af&&(d.lm=h);var i=e.to;if(i!==m){var q=a;""!==i&&(q=a.Te(i));q!==m&&(c.add(q),q.Wq===f&&(q.Wq=new A(Ze)),q.Wq.add(e))}b.add(e)}}if(d instanceof w){if(0<d.Ie.length){g=d.Ie;i=g.length;for(q=0;q<i;q++){var v=g[q];if(v!==f&&v.Zb!==m)for(var x=v.Zb.f;x.next();)e=
x.value,e.sf=v,e.vx=2,e.ju=v.index,b.add(e)}}if(0<d.ze.length){g=d.ze;i=g.length;for(q=0;q<i;q++)if(v=g[q],v!==f&&v.Zb!==m)for(x=v.Zb.f;x.next();)e=x.value,e.sf=v,e.vx=1,e.ju=v.index,b.add(e)}}});for(var d=c.f;d.next();){var e=d.value;if(e.Wq!==f){e.lm=h;for(var g=e.Wq.f;g.next();){var i=g.value;e.Zb===m&&(e.Zb=new A(Ze));e.Zb.add(i)}}delete e.Wq}for(d=b.f;d.next();)e=d.value,g=e.sf,g!==m&&(e.sf=m,g===a?e.bm="":(g instanceof Wj&&(g=g.W),e.bm=""!==g.name?g.name:g.name="_"+u.qc(g)));b.freeze()}
w.prototype.updateTargetBindings=w.prototype.tc=function(a){var b=this.Rk;if(b!==m){a===f&&(a="");for(b=b.f;b.next();){var c=b.value,d=c.jz;if(!(""!==a&&d!==a)&&(d=c.oz,!(c.AB===m&&""===d))){var d=this.data,e=c.to;e!==m&&(d=this.Te(e));if(d===m)t&&u.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var e=this,g=c.bm;if(""!==g){if(e=this.Te(g),e===m)continue}else c.sf!==m&&(e=c.sf);g=c.vx;if(0!==g){if(!(e instanceof w))continue;1===g?e=e.ud(c.ju):2===g&&(e=e.Xd(c.ju))}e!==
f&&c.bE(e,d)}}}}};u.a(w,"itemArray",w.prototype.Hy);u.defineProperty(w,{Hy:"itemArray"},s("Vj"),function(a){var b=this.Vj;if(b!==a){t&&(a!==m&&!u.isArray(a))&&u.g("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.b;c!==m&&b!==m&&Di(c,this);this.Vj=a;c!==m&&a!==m&&Bi(c,this);this.d("itemArray",b,a);c!==m&&c.ia.hb||this.$y()}});
w.prototype.rebuildItemElements=w.prototype.$y=function(){for(;0<this.oa.length;)this.Gd(0);var a=this.Hy;if(a!==m)for(var b=u.Hb(a),c=0;c<b;c++)Nh(this,u.wb(a,c))};
function Nh(a,b,c){if(!(b===f||b===m)){var d=a.getCategoryForItemData(b),e=a.FC,g=m;e!==m&&(g=e.ga(d));g===m&&(u.IE===f&&(u.IE=h,u.trace('No item template Panel found for category "'+d+'" on '+a),u.trace("  Using default item template.")),g=a.b.pE);g instanceof w&&(vf(g),e=g.copy(),"object"===typeof b&&(a.hf===m&&(a.hf=new sa(Object,w)),a.hf.add(b,e)),"number"===typeof c?(a.rc(c,e),Ok(e,c),Oh(a,c)):(a.add(e),Ok(e,a.oa.count-1)),e.Qw=d,e.data=b)}}
function Oh(a,b){for(var c=a.oa,d=b+1;d<c.length;){var e=c.R(d);e instanceof w&&Ok(e,d);d++}}function Ok(a,b){a.type===qj?a.Wb=b:a.type===rj&&(a.mc=b)}w.prototype.isItemPanel=w.prototype.jG=function(){return this.Vj!==m||this.bg!==m};u.a(w,"itemTemplate",w.prototype.nG);
u.defineProperty(w,{nG:"itemTemplate"},function(){return this.bg===m?m:this.bg.ga("")},function(a){this.bg===m&&(this.bg=new sa("string",w));var b=this.bg.ga("");b!==a&&(u.c(a,w,w,"itemTemplate"),a instanceof R&&u.g("itemTemplate must not be a Part: "+a),this.bg.add("",a),this.d("itemTemplate",b,a),a=this.b,a!==m&&a.ia.hb||this.$y())});u.a(w,"itemTemplateMap",w.prototype.FC);
u.defineProperty(w,{FC:"itemTemplateMap"},s("bg"),function(a){var b=this.bg;if(b!==a){u.c(a,sa,w,"itemTemplateMap");for(var c=a.f;c.next();){var d=c.value;d instanceof R&&u.g("Template in itemTemplateMap must not be a Part: "+d)}this.bg=a;this.d("itemTemplateMap",b,a);a=this.b;a!==m&&a.ia.hb||this.$y()}});u.a(w,"itemCategoryProperty",w.prototype.mG);
u.defineProperty(w,{mG:"itemCategoryProperty"},s("Jm"),function(a){var b=this.Jm;b!==a&&("string"!==typeof a&&"function"!==typeof a&&u.Ec(a,"string or function",w,"itemCategoryProperty"),this.Jm=a,this.d("itemCategoryProperty",b,a))});
w.prototype.getCategoryForItemData=w.prototype.cJ=function(a){if(a===m)return"";var b=this.Jm;if("function"===typeof b)b=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";b=u.bb(a,b)}else return"";if(b===f)return"";if("string"===typeof b)return b;t&&u.trace("Panel.getCategoryForItemData found a non-string category for "+a+": "+b);return""};u.a(w,"isAtomic",w.prototype.gG);
u.defineProperty(w,{gG:"isAtomic"},s("Pg"),function(a){var b=this.Pg;b!==a&&(u.e(a,"boolean",w,"isAtomic"),this.Pg=a,this.d("isAtomic",b,a))});function Wj(){u.Qb(this);this.dk=m;this.dl=h;this.ba=0;this.Je=NaN;this.jl=0;this.il=Infinity;this.ra=ic;this.qb=this.Ma=0;this.Zb=m;this.Tq=Pk;this.Yg=Xg}u.J("RowColumnDefinition",Wj);
Wj.prototype.copy=function(){var a=new Wj;a.dl=this.dl;a.ba=this.ba;a.Je=this.Je;a.jl=this.jl;a.il=this.il;a.ra=this.ra;a.Ma=this.Ma;a.qb=this.qb;a.Yg=this.Yg;a.Tq=this.Tq;a.Zb=this.Zb;return a};var Pk;Wj.Default=Pk=u.l(Wj,"Default",0);var Ik;Wj.None=Ik=u.l(Wj,"None",1);var Bk;Wj.ProportionalExtra=Bk=u.l(Wj,"ProportionalExtra",2);Wj.prototype.Fk=ba("dk");function Gk(a,b){a.Ma=isNaN(a.Je)?Math.max(Math.min(a.il,b),a.jl):Math.max(Math.min(a.il,a.Je),a.jl)}
Wj.prototype.Bd=function(a,b,c,d,e){var g=this.dk;if(g!==m){g.L();for(var i=this.bv,j=g.oa,k=j.length,l=0;l<k;l++){var n=j.j[l];(i?n.Wb:n.mc)===this.index&&n.L()}g.ae(Ae,a,this,b,c,d,e);if(this.Zb!==m&&(b=g.Jr(),b!==m&&(b=b.data,b!==m)))for(c=this.Zb.f;c.next();)c.value.aE(this,b,a)}};u.m(Wj,{W:"panel"},s("dk"));u.m(Wj,{bv:"isRow"},s("dl"));u.m(Wj,{index:"index"},s("ba"));u.a(Wj,"height",Wj.prototype.height);
u.defineProperty(Wj,{height:"height"},s("Je"),function(a){var b=this.Je;b!==a&&(t&&u.e(a,"number",Wj,"height"),0>a&&u.ha(a,">= 0",Wj,"height"),this.Je=a,Gk(this,this.Ma),this.Bd("size",b,a))});u.a(Wj,"width",Wj.prototype.width);u.defineProperty(Wj,{width:"width"},s("Je"),function(a){var b=this.Je;b!==a&&(t&&u.e(a,"number",Wj,"width"),0>a&&u.ha(a,">= 0",Wj,"width"),this.Je=a,Gk(this,this.Ma),this.Bd("size",b,a))});u.a(Wj,"minimum",Wj.prototype.Ef);
u.defineProperty(Wj,{Ef:"minimum"},s("jl"),function(a){var b=this.jl;b!==a&&(t&&u.e(a,"number",Wj,"minimum"),(0>a||!isFinite(a))&&u.ha(a,">= 0",Wj,"minimum"),this.jl=a,Gk(this,this.Ma),this.Bd("minimum",b,a))});u.a(Wj,"maximum",Wj.prototype.Kd);u.defineProperty(Wj,{Kd:"maximum"},s("il"),function(a){var b=this.il;b!==a&&(t&&u.e(a,"number",Wj,"maximum"),0>a&&u.ha(a,">= 0",Wj,"maximum"),this.il=a,Gk(this,this.Ma),this.Bd("maximum",b,a))});u.a(Wj,"alignment",Wj.prototype.vb);
u.defineProperty(Wj,{vb:"alignment"},s("ra"),function(a){var b=this.ra;b.z(a)||(t&&u.c(a,K,Wj,"alignment"),this.ra=a.F(),this.Bd("alignment",b,a))});u.a(Wj,"stretch",Wj.prototype.xh);u.defineProperty(Wj,{xh:"stretch"},s("Yg"),function(a){var b=this.Yg;b!==a&&(t&&u.Ya(a,Q,Wj,"stretch"),this.Yg=a,this.Bd("stretch",b,a))});u.a(Wj,"sizing",Wj.prototype.ps);u.defineProperty(Wj,{ps:"sizing"},s("Tq"),function(a){var b=this.Tq;b!==a&&(t&&u.Ya(a,Wj,Wj,"sizing"),this.Tq=a,this.Bd("sizing",b,a))});
function Hk(a){if(a.ps===Pk){var b=a.dk;return a.bv?b.yD:b.xB}return a.ps}u.m(Wj,{Qd:"actual"},s("Ma"));u.m(Wj,{position:"position"},s("qb"));Wj.prototype.bind=Wj.prototype.bind=function(a){a.sf=this;var b=this.W;b!==m&&(b=b.Jr(),b!==m&&Sj(b)&&u.g("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));this.Zb===m&&(this.Zb=new A(Ze));this.Zb.add(a)};
function W(){Q.call(this);this.Ba=m;this.lp="None";this.Ug=p;this.tp=Xg;this.Hj=m;this.zc=this.df="black";this.Pd=1;this.bn="butt";this.cn="miter";this.dn=10;this.Vh=this.Uh=ic;this.rq=this.qq=0;this.Hp=h;this.DE=new F;this.Am=this.gn="None";this.zp=1}u.J("Shape",W);u.va(W,Q);
W.prototype.pb=function(a){Q.prototype.pb.call(this,a);a.Ba=this.Ba;a.lp=this.lp;a.Ug=this.Ug;a.tp=this.tp;a.Hj=this.Hj;a.df=this.df;a.zc=this.zc;a.Pd=this.Pd;a.bn=this.bn;a.cn=this.cn;a.dn=this.dn;a.Uh=this.Uh.F();a.Vh=this.Vh.F();a.qq=this.qq;a.rq=this.rq;a.Hp=this.Hp;a.gn=this.gn;a.Am=this.Am;a.zp=this.zp};W.prototype.toString=function(){return"Shape("+("None"!==this.$a?this.$a:"None"!==this.em?this.em:this.Uu)+")#"+u.qc(this)};
W.prototype.Fn=function(a){if(!(this.zc===m&&this.df===m)){this.df!==m&&sj(this,a,this.df,h);this.zc!==m&&sj(this,a,this.zc,p);a.lineWidth=this.Pd;a.lineJoin=this.cn;a.lineCap=this.bn;a.miterLimit=this.dn;var b=p;this.aa&&(b=this.aa.Rl);var c=h;this.zc!==m&&this.df===m&&(c=p);var d=this.Ba;if(d!==m)if(d.M===Pd)a.beginPath(),a.moveTo(d.Tb,d.fc),a.lineTo(d.Ic,d.Sc),this.df!==m&&a.fill(),this.zc!==m&&a.stroke();else if(d.M===Qd){var e=d.Tb,g=d.fc,i=d.Ic,d=d.Sc,j=Math.min(e,i),k=Math.min(g,d),e=Math.abs(i-
e),g=Math.abs(d-g);this.df!==m&&a.fillRect(j,k,e,g);if(this.zc!==m){if(c&&b){var l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}a.strokeRect(j,k,e,g);c&&b&&(a.shadowOffsetX=l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2])}}else if(d.M===Rd)e=d.Tb,g=d.fc,i=d.Ic,d=d.Sc,j=Math.abs(i-e)/2,k=Math.abs(d-g)/2,e=Math.min(e,i)+j,g=Math.min(g,d)+k,a.beginPath(),a.moveTo(e,g-k),a.bezierCurveTo(e+Mc*j,g-k,e+j,g-Mc*k,e+j,g),a.bezierCurveTo(e+j,g+Mc*k,e+Mc*j,g+k,
e,g+k),a.bezierCurveTo(e-Mc*j,g+k,e-j,g+Mc*k,e-j,g),a.bezierCurveTo(e-j,g-Mc*k,e-Mc*j,g-k,e,g-k),a.closePath(),this.df!==m&&a.fill(),this.zc!==m&&(c&&b&&(l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),c&&b&&(a.shadowOffsetX=l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2]));else if(d.M===Jd){g=d.Yk;d=g.length;for(e=0;e<d;e++){c=g.j[e];a.beginPath();a.moveTo(c.Fa,c.Ga);i=c.kb.j;j=i.length;for(k=0;k<j;k++){var n=i[k];switch(n.M){case ee:a.moveTo(n.P,
n.Q);break;case ae:a.lineTo(n.P,n.Q);break;case pe:a.bezierCurveTo(n.ek,n.fk,n.nl,n.ol,n.pl,n.ql);break;case qe:a.quadraticCurveTo(n.ek,n.fk,n.pl,n.ql);break;case re:var r=Math.PI/180;a.arc(n.nm,n.om,n.Wl,n.qi*r,(n.qi+n.oj)*r,0>n.oj?h:p);break;default:u.g("Segment not of valid type")}n.Ci&&a.closePath()}c.Bp===h&&this.df!==m?(a.fill(),c=h):c=c.ag?p:h;this.zc!==m&&(c&&b&&(l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),c&&b&&(a.shadowOffsetX=
l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2]))}}}};W.prototype.Ag=function(){Q.prototype.Ag.call(this);var a=this.b;a!==m&&(Ui(a,"fill",this.fill),Ui(a,"geometry",this.Nr),this.Mn!==Xg&&Ui(a,"geometryStretch",this.Mn),Ui(a,"stroke",this.stroke),"butt"!==this.lz&&Ui(a,"strokeCap",this.lz),"miter"!==this.mz&&Ui(a,"strokeJoin",this.mz),10!==this.nz&&Ui(a,"strokeMiterLimit",this.nz),Ui(a,"strokeWidth",this.Wa))};
W.prototype.getDocumentPoint=W.prototype.Db=function(a){fc(a)&&u.g("Spot must be real");var b=this.qa,c=this.Wa,a=new E(a.x*(b.width+c)-c/2+b.x+a.offsetX,a.y*(b.height+c)-c/2+b.y+a.offsetY);this.je.Fb(a);return a};
W.prototype.Ti=function(a,b){var c=this.Ba;if(c===m||this.fill===m&&this.stroke===m)return p;var d=c.rb,e=this.Wa/2;c.type===Pd&&!b&&(e+=2);var g=this.DE;g.set(d);g.yf(e+2,e+2);if(!g.ka(a))return p;d=e+1E-4;if(c.type===Pd){if(this.stroke===m)return p;d=(c.P-c.Fa)*(a.x-c.Fa)+(c.Q-c.Ga)*(a.y-c.Ga);return 0>(c.Fa-c.P)*(a.x-c.P)+(c.Ga-c.Q)*(a.y-c.Q)||0>d?p:cd(c.Fa,c.Ga,c.P,c.Q,e,a.x,a.y)}if(c.type===Qd){var i=c.Fa,j=c.Ga,k=c.P,l=c.Q,c=Math.min(i,k),n=Math.min(j,l),i=Math.abs(k-i),j=Math.abs(l-j);g.x=
c;g.y=n;g.width=i;g.height=j;if(this.fill===m){g.yf(-d,-d);if(g.ka(a))return p;g.yf(d,d)}this.stroke!==m&&g.yf(e,e);return g.ka(a)}if(c.type===Rd){i=c.Fa;j=c.Ga;k=c.P;l=c.Q;c=Math.min(i,k);n=Math.min(j,l);i=Math.abs(k-i);j=Math.abs(l-j);g=i/2;j/=2;c=a.x-(c+g);n=a.y-(n+j);if(this.fill===m){g-=d;j-=d;if(0>=g||0>=j||1>=c*c/(g*g)+n*n/(j*j))return p;g+=d;j+=d}this.stroke!==m&&(g+=e,j+=e);return 0>=g||0>=j?p:1>=c*c/(g*g)+n*n/(j*j)}if(c.type===Jd)return this.fill===m?ue(c,a.x,a.y,e):c.ka(a,e,1<this.Wa,b);
u.g("Unknown Geometry type");return p};
W.prototype.Zr=function(a,b,c,d){var e=this.ta,g=this.Pd,a=Math.max(a,0),b=Math.max(b,0),i;this.Ug?i=this.Ba.rb:(Qk[this.$a]===f&&u.g("Unsupported Figure:"+this.$a),i=Qk[this.$a].rb);var j=i.width,k=i.height,l=i.width;i=i.height;switch(jj(this)){case dj:d=c=0;break;case Od:l=Math.max(a-g,0);i=Math.max(b-g,0);break;case fj:l=Math.max(a-g,0);d=0;break;case ej:c=0,i=Math.max(b-g,0)}isFinite(e.width)&&(l=e.width);isFinite(e.height)&&(i=e.height);var e=this.Jd,n=this.$d,c=Math.max(c/this.scale,n.width)-
g,d=Math.max(d/this.scale,n.height)-g,l=Math.min(e.width,l);i=Math.min(e.height,i);l=isFinite(l)?Math.max(c,l):Math.max(j,c);i=isFinite(i)?Math.max(d,i):Math.max(k,d);c=this.Mn;c=this.Ug?c===Xg?Od:c:c===Xg?Qk[this.$a].Rb:c;switch(c){case dj:break;case Od:j=l;k=i;break;case Yg:l=Math.min(l/j,i/k);isFinite(l)||(l=1);j*=l;k*=l;break;default:u.g(c+"is not a valid geometryStretch.")}if(this.Ug){d=this.Nr;i=j;c=k;l=d.copy();d=d.rb;i/=d.width;c/=d.height;isFinite(i)||(i=1);isFinite(c)||(c=1);if(!(1===i&&
1===c)){switch(l.type){case Pd:case Qd:case Rd:l.Tb*=i;l.fc*=c;l.Ic*=i;l.Sc*=c;break;case Jd:d=l.Mb;e=d.length;for(n=0;n<e;n++){var r=d.j[n];r.Fa*=i;r.Ga*=c;for(var r=r.kb,q=r.length,v=0;v<q;v++){var x=r.j[v];switch(x.type){case ae:case ee:x.P*=i;x.Q*=c;break;case pe:x.ek*=i;x.fk*=c;x.nl*=i;x.ol*=c;x.Ic*=i;x.Sc*=c;break;case qe:x.Dc*=i;x.vd*=c;x.P*=i;x.Q*=c;break;case re:x.Da*=i;x.Ea*=c;x.Wl*=i;x.lo!==f&&(x.lo*=c);break;default:u.g("Unknown Segment type: "+x.type)}}}}l.La=h}this.Ba=l}else if(this.Ba===
m||this.Ba.gt!==a||this.Ba.ft!==b)l=j,i=k,d=this.ta,c=d.width,d=d.height,l!==f&&(!isNaN(l)&&isFinite(l))&&(c=l),i!==f&&(!isNaN(i)&&isFinite(i))&&(d=i),isFinite(c)||(c=100),isFinite(d)||(d=100),e=f,"None"!==this.em?e=Rk(this.em):"None"!==this.Uu?e=Rk(this.Uu):(n=Sk[this.$a],"string"===typeof n&&(n=Sk[n]),n===f&&u.g("Unknown Shape.figure: "+this.$a),e=n(this,c,d),e.Ad=new L(c,d)),e===f&&(n=Sk.Rectangle)&&(e=n(this,c,d)),e.gt=l,e.ft=i,this.Ba=e;i=this.Ba.rb;gj(this,i.x-g/2,i.y-g/2,0===a&&0===j?0:i.width+
g,0===b&&0===k?0:i.height+g)};function Jk(a,b,c){if(a.dc!==p){a.Lc.wa();var d=a.Pd*a.Sb;gj(a,-(d/2),-(d/2),b+d,c+d);b=a.Lc;c=a.Jd;d=a.$d;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.Lc.freeze();a.Lc.ca()||u.g("Non-real measuredBounds has been set");a.dc=p}}W.prototype.Ri=function(a,b,c,d){mj(this,a,b,c,d)};
W.prototype.Vu=function(a,b,c){var d=this.transform.copy();d.Xu();var e=Pb(d,a),g=Pb(d,b),i=this.Wa/2,d=this.Ba;d===m&&(yh(this,Infinity,Infinity),d=this.Ba);var j=d.rb,k=p;if(d.type===Pd)if(1.5>=this.Wa)k=pd(d.Tb,d.fc,d.Ic,d.Sc,e.x,e.y,g.x,g.y,c);else{d.Tb===d.Ic?(a=i,k=0):(a=(d.Sc-d.fc)/(d.Ic-d.Tb),k=i/Math.sqrt(1+a*a),a*=k);i=[];b=new E;pd(d.Tb+a,d.fc+k,d.Ic+a,d.Sc+k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new E;pd(d.Tb-a,d.fc-k,d.Ic-a,d.Sc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new E;pd(d.Tb+a,d.fc+k,d.Tb-
a,d.fc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new E;pd(d.Ic+a,d.Sc+k,d.Ic-a,d.Sc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);if(0===i.length)return p;k=h;g=Infinity;for(j=0;j<i.length;j++){var d=i[j],l=(d.x-e.x)*(d.x-e.x)+(d.y-e.y)*(d.y-e.y);l<g&&(g=l,c.x=d.x,c.y=d.y)}}else if(d.type===Qd)k=rd(j.copy().yf(i,i),e,g,c);else if(d.type===Rd)a:if(d=j.copy().yf(i,i),0===d.width)k=pd(d.x,d.y,d.x,d.y+d.height,e.x,e.y,g.x,g.y,c);else if(0===d.height)k=pd(d.x,d.y,d.x+d.width,d.y,e.x,e.y,g.x,g.y,c);else{var a=d.width/2,n=d.height/
2,k=d.x+a,d=d.y+n,b=9999;e.x!==g.x&&(b=(e.y-g.y)/(e.x-g.x));if(9999>Math.abs(b)){g=e.y-d-b*(e.x-k);if(0>a*a*b*b+n*n-g*g){c.x=NaN;c.y=NaN;k=p;break a}j=Math.sqrt(a*a*b*b+n*n-g*g);i=(-(a*a*b*g)+a*n*j)/(n*n+a*a*b*b)+k;n=(-(a*a*b*g)-a*n*j)/(n*n+a*a*b*b)+k;a=b*(i-k)+g+d;d=b*(n-k)+g+d;k=Math.abs((e.x-i)*(e.x-i))+Math.abs((e.y-a)*(e.y-a));b=Math.abs((e.x-n)*(e.x-n))+Math.abs((e.y-d)*(e.y-d));k<b?(c.x=i,c.y=a):(c.x=n,c.y=d)}else{i=n*n;k=e.x-k;k=i-i/(a*a)*k*k;if(0>k){c.x=NaN;c.y=NaN;k=p;break a}j=Math.sqrt(k);
a=d+j;d-=j;k=Math.abs(a-e.y);b=Math.abs(d-e.y);k<b?(c.x=e.x,c.y=a):(c.x=e.x,c.y=d)}k=h}else if(d.type===Jd){var r,q,v,x=e.x,C=e.y,G=g.x,I=g.y,y=new E,g=e.Xi(g);c.x=G;c.y=I;for(j=0;j<d.Mb.count;j++){q=d.Mb.j[j];var J=q.kb;r=q.Fa;q=q.Ga;for(var z=r,H=q,ha,S,T=0;T<J.count;T++){ha=J.j[T];S=ha.type;l=ha.P;v=ha.Q;var ia=p;switch(S){case ee:z=l;H=v;break;case ae:ia=Tk(r,q,l,v,x,C,G,I,y);break;case pe:ia=ha.Dc;S=ha.vd;var la=ha.Ck,Da=ha.Dk,ia=jd(r,q,ia,S,la,Da,l,v,x,C,G,I,0.5,y);break;case qe:ia=(r+2*ha.Dc)/
3;S=(q+2*ha.vd)/3;la=(2*ha.Dc+l)/3;Da=(2*ha.Dc+l)/3;ia=jd(r,q,ia,S,la,Da,l,v,x,C,G,I,0.5,y);break;case re:v=se(ha);S=v.length;for(j=0;j<S;j++)n=v[j],0===j&&Tk(r,q,n.fm,n.gm,x,C,G,I,y)&&(l=Uk(e,y,g,c),l<g&&(g=l,k=h)),jd(n.fm,n.gm,n.Dv,n.Fv,n.Ev,n.Gv,n.Kk,n.Lk,x,C,G,I,0.5,y)&&(l=Uk(e,y,g,c),l<g&&(g=l,k=h));l=n.Kk;v=n.Lk;break;default:u.g("Unknown Segment type: "+ha.type)}r=l;q=v;ia&&(l=Uk(e,y,g,c),l<g&&(g=l,k=h));ha.Zu&&(l=z,v=H,Tk(r,q,l,v,x,C,G,I,y)&&(l=Uk(e,y,g,c),l<g&&(g=l,k=h)))}}e=b.x-a.x;d=b.y-
a.y;a=Math.sqrt(e*e+d*d);c.x-=e/a*i;c.y-=d/a*i}else u.g("Invalid Geometry type");if(!k)return p;b=Pb(this.transform,c);c.x=b.x;c.y=b.y;return h};function Uk(a,b,c,d){a=a.Xi(b);return a<c?(d.x=b.x,d.y=b.y,a):c}
function Tk(a,b,c,d,e,g,i,j,k){var l=p,n=(e-i)*(b-d)-(g-j)*(a-c);if(0===n)return p;k.x=((e*j-g*i)*(a-c)-(e-i)*(a*d-b*c))/n;k.y=((e*j-g*i)*(b-d)-(g-j)*(a*d-b*c))/n;if((a>c?a-c:c-a)<(b>d?b-d:d-b)){if(e=b<d?b:d,a=b<d?d:b,(k.y>e||mb(k.y,e))&&(k.y<a||mb(k.y,a)))l=h}else if(e=a<c?a:c,a=a<c?c:a,(k.x>e||mb(k.x,e))&&(k.x<a||mb(k.x,a)))l=h;return l}
W.prototype.containedInRect=W.prototype.fy=function(a,b){if(b===f)return a.Cl(this.pa);var c=this.Ba;c===m&&(yh(this,Infinity,Infinity),c=this.Ba);var c=c.rb,d=this.Wa/2;return!a.ka(b.Fb(new E(c.x-d,c.y-d)))||!a.ka(b.Fb(new E(c.x-d,c.bottom+d)))||!a.ka(b.Fb(new E(c.right+d,c.bottom+d)))||!a.ka(b.Fb(new E(c.right+d,c.y-d)))?p:h};
W.prototype.intersectsRect=W.prototype.Ve=function(a){function b(a,b){i.x=a*c.m11+b*c.m21+c.Pa;i.y=a*c.m12+b*c.m22+c.Qa}if(a.Cl(this.pa))return h;var c=this.transform.copy();c.Xu();var d=a.left,e=a.right,g=a.top,a=a.bottom,i=new E;b(d,g);if(this.Ti(i,h))return h;b(e,g);if(this.Ti(i,h))return h;b(d,a);if(this.Ti(i,h))return h;b(e,a);if(this.Ti(i,h))return h;var j=new E,k=new E;j.x=e;j.y=g;i.x=d;i.y=g;if(Vk(this,i,j,k))return h;i.x=e;i.y=a;if(Vk(this,i,j,k))return h;j.x=d;j.y=a;if(Vk(this,i,j,k))return h;
i.x=d;i.y=g;return Vk(this,i,j,k)?h:p};function Vk(a,b,c,d){if(!a.Vu(b,c,d))return p;var a=b.x,b=b.y,e=c.x,g=c.y,c=d.x,d=d.y;if(a===e){var i;b<g?(i=b,a=g):(i=g,a=b);return d>=i&&d<=a}a<e?(i=a,a=e):i=e;return c>=i&&c<=a}
W.prototype.fC=function(a,b){if(this.fill!==m&&this.Ti(a,h))return h;var c=a.Xi(b),d=c;1.5<this.Wa&&(c=this.Wa/2+Math.sqrt(c),c*=c);var e=this.Ba;e===m&&(yh(this,Infinity,Infinity),e=this.Ba);var g=e.Tb,i=e.fc,j=e.Ic,k=e.Sc;if(e.type===Pd){var e=sb(a.x,a.y,g,i,j,k),l=(g-j)*(a.x-j)+(i-k)*(a.y-k);if(e<=(0<=(j-g)*(a.x-g)+(k-i)*(a.y-i)&&0<=l?c:d))return h}else if(e.type===Qd){if(sb(a.x,a.y,g,i,g,k)<=c||sb(a.x,a.y,g,i,j,i)<=c||sb(a.x,a.y,j,i,j,k)<=c||sb(a.x,a.y,g,k,j,k)<=c)return h}else if(e.type===Rd){var e=
a.x-(g+j)/2,d=a.y-(i+k)/2,l=Math.abs(j-g)/2,n=Math.abs(k-i)/2;if(0===l||0===n)return e=sb(a.x,a.y,g,i,j,k),e<=c?h:p;g=new E(Infinity,Infinity);qd(e,d,0,0,-l,-n,l,n,g);qd(e,d,0,n,-l,-n,l,n,g);qd(e,d,0,-n,-l,-n,l,n,g);qd(e,d,0,l,-l,-n,l,n,g);qd(e,d,0,-l,-l,-n,l,n,g);qd(e,d,l/2,n/2,-l,-n,l,n,g);qd(e,d,-l/2,n/2,-l,-n,l,n,g);qd(e,d,l/2,-n/2,-l,-n,l,n,g);qd(e,d,-l/2,-n/2,-l,-n,l,n,g);if((g.x-e)*(g.x-e)+(g.y-d)*(g.y-d)<c)return h}else if(e.type===Jd){k=e.rb;g=k.x;i=k.y;j=k.x+k.width;k=k.y+k.height;if(a.x>
j&&a.x<g&&a.y>k&&a.y<i&&sb(a.x,a.y,g,i,g,k)>c&&sb(a.x,a.y,g,i,j,i)>c&&sb(a.x,a.y,j,k,g,k)>c&&sb(a.x,a.y,j,k,j,i)>c)return p;c=Math.sqrt(c);if(this.fill===m?ue(e,a.x,a.y,c):e.ka(a,c,h))return h}return p};u.a(W,"geometry",W.prototype.Nr);u.defineProperty(W,{Nr:"geometry"},function(){return this.Hj?this.Hj:this.Ba},function(a){var b=this.Ba;b!==a&&(a!==m?(t&&u.c(a,Dd,W,"geometry"),this.Hj=this.Ba=a.freeze()):this.Hj=this.Ba=m,this.Ug=h,this.L(),this.d("geometry",b,a))});
W.prototype.Af=function(){this.Ug?this.Hj=m:this.Ba=m;this.L()};u.a(W,"fill",W.prototype.fill);u.defineProperty(W,{fill:"fill"},s("df"),function(a){var b=this.df;if(b!==a&&(a===m||"string"===typeof a||a instanceof Re))a instanceof Re&&a.freeze(),this.df=a,pj(this),this.d("fill",b,a)});u.a(W,"stroke",W.prototype.stroke);
u.defineProperty(W,{stroke:"stroke"},s("zc"),function(a){var b=this.zc;if(b!==a&&(a===m||"string"===typeof a||a instanceof Re))a instanceof Re&&a.freeze(),this.zc=a,pj(this),this.d("stroke",b,a)});u.a(W,"strokeWidth",W.prototype.Wa);u.defineProperty(W,{Wa:"strokeWidth"},s("Pd"),function(a){var b=this.Pd;b!==a&&(t&&u.i(a,W,"strokeWidth"),0<=a&&(this.Pd=a,this.L(),this.d("strokeWidth",b,a)))});u.a(W,"strokeCap",W.prototype.lz);
u.defineProperty(W,{lz:"strokeCap"},s("bn"),function(a){var b=this.bn;b!==a&&("string"===typeof a&&("butt"===a||"round"===a||"square"===a)?(this.bn=a,pj(this),this.d("strokeCap",b,a)):u.ha(a,'"butt", "round", or "square"',W,"strokeCap"))});u.a(W,"strokeJoin",W.prototype.mz);
u.defineProperty(W,{mz:"strokeJoin"},s("cn"),function(a){var b=this.cn;b!==a&&("string"===typeof a&&("miter"===a||"bevel"===a||"round"===a)?(this.cn=a,pj(this),this.d("strokeJoin",b,a)):u.ha(a,'"miter", "bevel", or "round"',W,"strokeJoin"))});u.a(W,"strokeMiterLimit",W.prototype.nz);u.defineProperty(W,{nz:"strokeMiterLimit"},s("dn"),function(a){var b=this.dn;b!==a&&(t&&u.i(a,W,"strokeMiterLimit"),0<a&&(this.dn=a,pj(this),this.d("strokeMiterLimit",b,a)))});u.a(W,"figure",W.prototype.$a);
u.defineProperty(W,{$a:"figure"},s("lp"),function(a){var b=this.lp;if(b!==a){t&&u.e(a,"string",W,"figure");var c=Sk[a];"function"===typeof c?c=a:(c=Sk[a.toLowerCase()])||u.g("Unknown Shape.figure: "+a);b!==c&&(this.lp=c,this.Ug=p,this.Af(),this.d("figure",b,c))}});u.a(W,"toArrow",W.prototype.em);
u.defineProperty(W,{em:"toArrow"},s("gn"),function(a){var b=this.gn;a===h?a="Standard":a===p&&(a="None");if(b!==a){t&&u.e(a,"string",W,"toArrow");var c=Rk(a);c instanceof Dd?c=a:(c=Rk(a.toLowerCase()))||u.g("Unknown Shape.toArrow: "+a);b!==c&&(this.gn=c,this.Ug=p,this.Af(),Wk(this,c),this.d("toArrow",b,c))}});u.a(W,"fromArrow",W.prototype.Uu);
u.defineProperty(W,{Uu:"fromArrow"},s("Am"),function(a){var b=this.Am;a===h?a="Standard":a===p&&(a="None");if(b!==a){t&&u.e(a,"string",W,"fromArrow");var c=Rk(a);c instanceof Dd?c=a:(c=Rk(a.toLowerCase()))||u.g("Unknown Shape.fromArrow: "+a);b!==c&&(this.Am=c,this.Ug=p,this.Af(),Wk(this,c),this.d("fromArrow",b,c))}});
function Wk(a,b){var c=a.b;if(!(c!==m&&c.ia.hb)){a.ms=Xk;c=Ac;switch(b){case "halfarrowtop":c=vc;break;case "halftriangletop":c=vc;break;case "openrighttriangletop":c=vc;break;case "opentriangletop":c=vc}"None"!==a.gn?(a.wh=-1,a.Pi=c):"None"!==a.Am&&(a.wh=0,a.Pi=new K(1-c.x,c.y))}}u.defineProperty(W,{n:"spot1"},s("Uh"),function(a){u.c(a,K,W,"spot1");var b=this.Uh;b.z(a)||(this.Uh=a=a.F(),this.L(),this.d("spot1",b,a))});
u.defineProperty(W,{o:"spot2"},s("Vh"),function(a){u.c(a,K,W,"spot2");var b=this.Vh;b.z(a)||(this.Vh=a=a.F(),this.L(),this.d("spot2",b,a))});u.defineProperty(W,{Ob:"parameter1"},s("qq"),function(a){var b=this.qq;b!==a&&(this.qq=a,this.L(),this.d("parameter1",b,a))});u.defineProperty(W,{is:"parameter2"},s("rq"),function(a){var b=this.rq;b!==a&&(this.rq=a,this.L(),this.d("parameter2",b,a))});
u.m(W,{qa:"naturalBounds"},function(){if(this.Ba!==m)return this.vc.Xa(this.Ba.rb),this.vc;var a=this.ta;return new F(0,0,a.width,a.height)});u.a(W,"isRectangular",W.prototype.lG);u.defineProperty(W,{lG:"isRectangular"},s("Hp"),function(a){var b=this.Hp;b!==a&&(t&&u.e(a,"boolean",W,"isRectangular"),this.Hp=a,this.L(),this.d("isRectangular",b,a))});u.a(W,"geometryStretch",W.prototype.Mn);
u.defineProperty(W,{Mn:"geometryStretch"},s("tp"),function(a){var b=this.tp;b!==a&&(u.Ya(a,Q,W,"geometryStretch"),this.tp=a,this.d("geometryStretch",b,a))});u.a(W,"interval",W.prototype.ki);u.defineProperty(W,{ki:"interval"},s("zp"),function(a){var b=this.zp;t&&u.i(a,W,"interval");a=Math.floor(a);b!==a&&0<=a&&(this.zp=a,this.L(),this.d("interval",b,a))});
function ua(){Q.call(this);this.sd="";this.zc="black";this.zi="13px sans-serif";this.Ke="start";this.Ep=h;this.mt=p;this.vl=Yk;this.tt=this.hl=0;this.Lj=this.Uw=this.Vw=m;this.Om={};this.jp=p;this.de=this.Oi=this.br=m}u.J("TextBlock",ua);u.va(ua,Q);
ua.prototype.pb=function(a){Q.prototype.pb.call(this,a);a.sd=this.sd;a.zc=this.zc;a.zi=this.zi;a.Ke=this.Ke;a.Ep=this.Ep;a.mt=this.mt;a.vl=this.vl;a.hl=this.hl;a.tt=this.tt;a.Vw=this.Vw;a.Uw=this.Uw;a.Lj=this.Lj;a.Om=this.Om;a.jp=this.jp;a.br=this.br;a.Oi=this.Oi;a.de=this.de};ua.prototype.toString=function(){return 22<this.sd.length?'TextBlock("'+this.sd.substring(0,20)+'"...)':'TextBlock("'+this.sd+'")'};var Zk;ua.None=Zk=u.l(ua,"None",0);var $k;ua.WrapFit=$k=u.l(ua,"WrapFit",1);var Yk;
ua.WrapDesiredSize=Yk=u.l(ua,"WrapDesiredSize",2);ua.prototype.L=function(){Q.prototype.L.call(this);this.Lj=this.Uw=this.Vw=m};u.a(ua,"font",ua.prototype.font);u.defineProperty(ua,{font:"font"},s("zi"),function(a){var b=this.zi;b!==a&&(t&&u.e(a,"string",ua,"font"),this.zi=a,this.L(),this.d("font",b,a))});u.a(ua,"text",ua.prototype.text);u.defineProperty(ua,{text:"text"},s("sd"),function(a){var b=this.sd,a=a!==m&&a!==f?a.toString():"";b!==a&&(this.sd=a,this.L(),this.d("text",b,a))});
u.a(ua,"textAlign",ua.prototype.textAlign);u.defineProperty(ua,{textAlign:"textAlign"},s("Ke"),function(a){var b=this.Ke;b!==a&&(t&&u.e(a,"string",ua,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.Ke=a,pj(this),this.d("textAlign",b,a)):u.ha(a,'"start", "end", "left", "right", or "center"',ua,"textAlign"))});
u.m(ua,{qa:"naturalBounds"},function(){if(!this.vc.ca()){var a=al(this,this.sd,this.font,{},999999).width,b=bl(this,a,{}),c=this.ta;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);xb(this.vc,a,b)}return this.vc});u.a(ua,"isMultiline",ua.prototype.av);u.defineProperty(ua,{av:"isMultiline"},s("Ep"),function(a){var b=this.Ep;b!==a&&(t&&u.e(a,"boolean",ua,"isMultiline"),this.Ep=a,this.L(),this.d("isMultiline",b,a))});u.a(ua,"wrap",ua.prototype.wz);
u.defineProperty(ua,{wz:"wrap"},s("vl"),function(a){var b=this.vl;b!==a&&(t&&u.Ya(a,ua,ua,"wrap"),this.vl=a,this.L(),this.d("wrap",b,a))});u.a(ua,"stroke",ua.prototype.stroke);u.defineProperty(ua,{stroke:"stroke"},s("zc"),function(a){var b=this.zc;if(b!==a&&(a===m||"string"===typeof a||a instanceof Re))a instanceof Re&&a.freeze(),this.zc=a,pj(this),this.d("stroke",b,a)});u.m(ua,{HJ:"lineCount"},s("hl"));u.a(ua,"editable",ua.prototype.Mu);
u.defineProperty(ua,{Mu:"editable"},s("jp"),function(a){var b=this.jp;b!==a&&(t&&u.e(a,"boolean",ua,"editable"),this.jp=a,this.d("editable",b,a))});u.a(ua,"textEditor",ua.prototype.pz);u.defineProperty(ua,{pz:"textEditor"},s("br"),function(a){var b=this.br;b!==a&&(a instanceof HTMLElement||u.g("textEditor must be an HTMLElement"),this.br=a,this.d("textEditor",b,a))});u.a(ua,"errorFunction",ua.prototype.Dr);
u.defineProperty(ua,{Dr:"errorFunction"},s("de"),function(a){var b=this.de;b!==a&&(a!==m&&u.e(a,"function",ua,"errorFunction"),this.de=a,this.d("errorFunction",b,a))});
ua.prototype.Fn=function(a,b){if(this.zc!==m&&0!==this.sd.length){var c=this.zi;if(c!==m){var d=this.qa.width,e=zh(this,c);a.bw!==c&&(a.font=c,a.bw=c);a.textAlign=this.Ke;sj(this,a,this.zc,h);this.mt&&(sj(this,a,this.zc,p),a.lineWidth=0.05*e);var c=this.Om,g=0,i=p,j=this.je.Fb(new E(0,0)),k=this.je.Fb(new E(0,e)),j=j.Xi(k),k=b.scale;3>j*k*k&&(i=h);j=c.ai.length;for(k=0;k<j;k++){var l=c.ai[k],n=c.yl[k];l>d&&(l=d);var r=a,q=g,v=e,x=i,C=0;"start"===this.Ke||"left"===this.Ke?C=0:"end"===this.Ke||"right"===
this.Ke?C=d:"center"===this.Ke?C=d/2:u.g("textAlign must be start, end, left, right, or center");x?r.fillRect(0+C-l/2,q+0.25*v,l,1):(r.fillText(n,0+C,q+v-0.25*v),this.mt&&("end"===this.Ke||"right"===this.Ke?C-=l:"center"===this.Ke&&(C-=l/2),r.moveTo(0+C,q+v-0.2*v),r.lineTo(0+C+l,q+v-0.2*v),r.stroke()));g+=e}}}};
ua.prototype.Zr=function(a,b,c,d){var e={},g=0,i=0;if(isNaN(this.ta.width)){g=this.sd;if(0===g.length)g=0;else if(this.av){for(var j=i=0,k=p,l={Ah:0};!k;){var n=cl(g,j,l);-1===n&&(n=g.length,k=h);j=dl(g.substr(j,n-j).replace(/^\s+|\s+$/g,""),this.zi);j>i&&(i=j);j=l.Ah}g=i}else i=cl(g,0,{}),0<=i&&(g=g.substr(0,i)),g=j=dl(g,this.zi);g=Math.min(g,a/this.scale)}else g=this.ta.width;this.W&&(g=Math.min(g,this.W.Jd.width),g=Math.max(g,this.W.$d.width));i=bl(this,g,e);i=isNaN(this.ta.height)?Math.min(i,
b/this.scale):this.ta.height;if(this.wz===$k||isNaN(this.ta.width))g=e.pi;g=Math.max(c,g);i=Math.max(d,i);xb(this.vc,g,i);gj(this,0,0,g,i);this.Om=e};ua.prototype.Ri=function(a,b,c,d){mj(this,a,b,c,d)};
function al(a,b,c,d,e){b=b.replace(/^\s+|\s+$/g,"");d.pi===f&&(d.pi=0);d.ai===f&&(d.ai=[]);d.yl===f&&(d.yl=[]);var g=0,i;if(a.vl===Zk)return d.Ah=1,d.pi=dl(b,c),d.ai.push(d.pi),d.yl.push(b),new L(d.pi,zh(a,c));a.Lj===m&&(a.Lj=zh(a,c));var a=a.Lj,j=b,k=0;0===j.length&&(k=1,d.ai.push(0),d.yl.push(j));for(;0<j.length;){for(var l=el(j),j=j.substr(l.length);dl(l,c)>e;){var n=1,b=dl(l.substr(0,n),c);for(i=0;b<=e;)n++,i=b,b=dl(l.substr(0,n),c);1===n?(d.ai[k]=b,g=Math.max(g,b)):(d.ai[k]=i,g=Math.max(g,i));
n--;1>n&&(n=1);d.yl[k]=l.substr(0,n);k++;l=l.substr(n)}i=el(j);for(b=dl(l+i,c);0<i.length&&b<=e;)l+=i,j=j.substr(i.length),i=el(j),b=dl((l+i).replace(/^\s+|\s+$/g,""),c);l=l.replace(/^\s+|\s+$/g,"");""!==l&&(0===i.length?(d.ai.push(b),g=Math.max(g,b)):(i=dl(l,c),d.ai.push(i),g=Math.max(g,i)),d.yl.push(l),k++)}d.Ah=k;d.pi=Math.max(d.pi,g);return new L(d.pi,a*d.Ah)}function el(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}
function dl(a,b){u.cu!==b&&(u.bu.font=b,u.cu=b);return u.bu.measureText(a).width}function zh(a,b){if(a.Lj!==m)return a.Lj;u.cu!==b&&(u.bu.font=b,u.cu=b);var c=0;u.Ew[b]!==f&&5E3>u.aA?c=u.Ew[b]:(c=1.3*u.bu.measureText("M").width,u.Ew[b]=c,u.aA++);return c}function cl(a,b,c){c.Ah===f&&(c.Ah=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.Ah="\r"===a[d]&&d+1<a.length&&"\n"===a[d+1]?d+2:d+1);return d}
function bl(a,b,c){var d=a.sd,e=a.zi,g=zh(a,e);if(0===d.length)return c.pi=0,a.hl=1,g;if(!a.av){var i=cl(d,0,{});0<=i&&(d=d.substr(0,i))}for(var j=i=0,k=0,l=-1,n={Ah:0},r=p;!r;)l=cl(d,k,n),-1===l&&(l=d.length,r=h),k<=l&&(k=d.substr(k,l-k),a.vl!==Zk?(c.Ah=0,k=al(a,k,e,c,b),i+=k.height,j+=c.Ah):(al(a,k,e,c,Infinity),i+=g,j++)),k=n.Ah;a.hl=j;return a.tt=i}
ua.prototype.Ag=function(){Q.prototype.Ag.call(this);var a=this.b;if(a!==m){var b=this.Om;b!==m&&(Ui(a,"sizeArray",b.ai),Ui(a,"textArray",b.yl),Ui(a,"font",this.font),Ui(a,"stroke",this.stroke),Ui(a,"textAlign",this.textAlign))}};u.a(ua,"textValidation",ua.prototype.ss);u.defineProperty(ua,{ss:"textValidation"},s("Oi"),function(a){var b=this.Oi;b!==a&&(a!==m&&u.e(a,"function",ua,"textValidation"),this.Oi=a,this.d("textValidation",b,a))});
function Vj(){Q.call(this);this.Yf=m;this.Vq="";this.Ni=(new F(NaN,NaN,NaN,NaN)).freeze();this.Em=Od;this.fn=this.de=m;this.$j=p}u.J("Picture",Vj);u.va(Vj,Q);Vj.prototype.pb=function(a){Q.prototype.pb.call(this,a);a.Yf=this.Yf;a.Vq=this.Vq;a.Ni.Xa(this.Ni);a.Em=this.Em;a.de=this.de};Vj.prototype.toString=function(){return"Picture("+this.source+")#"+u.qc(this)};u.a(Vj,"element",Vj.prototype.element);
u.defineProperty(Vj,{element:"element"},s("Yf"),function(a){var b=this.Yf;if(b!==a){a instanceof HTMLImageElement||(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement)||u.g("Picture.element must be an instance of Image, Canvas, or Video.");var c=this;a.onerror=function(a){c.de!==m&&c.de(c,a)};this.Yf=a;this.d("element",b,a);a.complete===h||a.complete===f?(this.$j=h,this.ta.ca()||(this.dc=p,this.L())):(u.Ex.push(this),u.Qt===m&&(u.Qt=setInterval(function(){for(var a=[],b=u.Ex,c=b.length,
i=0;i<c;i++){var j=b[i];fl(j)||a.push(j)}0===a.length&&(clearInterval(u.Qt),u.Qt=m);u.Ex=a},600)))}});function fl(a){var b=a.Yf;if(!b)return h;if(!b.complete)return p;if(a.$j===h)return h;a.$j=h;if(a.b)a.ta.ca()||(a.dc=p,a.L(),a.b.li()),Dh(a.b);else{var a=u.Uz,c=a.length;if(0===c)for(var c=document.getElementsByTagName("canvas"),d=c.length,b=0;b<d;b++){var e=c[b];e.parentElement&&e.parentElement.N&&a.push(e.parentElement.N)}c=a.length;for(b=0;b<c;b++)Dh(a[b])}return h}
function gl(a){var b=document.createElement("canvas").getContext("2d");b.drawImage(a.Yf,0,0);try{b.getImageData(0,0,1,1),a.fn=p}catch(c){a.fn=h}}u.a(Vj,"source",Vj.prototype.source);u.defineProperty(Vj,{source:"source"},s("Vq"),function(a){var b=this.Vq;if(b!==a)if(u.e(a,"string",Vj,"source"),this.Vq=a,this.d("source",b,a),b=u.uE,b[a]!==f)this.element=b[a];else{var c=new Image;c.src=a;this.element=b[a]=c}});u.a(Vj,"sourceRect",Vj.prototype.Kf);
u.defineProperty(Vj,{Kf:"sourceRect"},s("Ni"),function(a){var b=this.Ni;b.z(a)||(u.c(a,F,Vj,"sourceRect"),this.Ni=a=a.F(),this.d("sourceRect",b,a))});u.a(Vj,"imageStretch",Vj.prototype.wC);u.defineProperty(Vj,{wC:"imageStretch"},s("Em"),function(a){var b=this.Em;b!==a&&(u.Ya(a,Q,Vj,"imageStretch"),this.Em=a,this.d("imageStretch",b,a))});u.a(Vj,"errorFunction",Vj.prototype.Dr);
u.defineProperty(Vj,{Dr:"errorFunction"},s("de"),function(a){var b=this.de;if(b!==a){a!==m&&u.e(a,"function",Vj,"errorFunction");this.de=a;if(this.Yf){var c=this;this.Yf.onerror=function(a){c.de!==m&&c.de(c,a)}}this.d("errorFunction",b,a)}});
Vj.prototype.Fn=function(a,b){if(!b.fp&&(this.fn===m&&gl(this),this.fn))return;var c=this.Yf;if(c!==m){var d=c.src;(d===m||""===d)&&u.g("Element has no source attribute: "+c);var d=this.qa,e=0,g=0,i=c.naturalWidth,j=c.naturalHeight;if(!(0===i||0===j)){i===f&&c.videoWidth&&(i=c.videoWidth||d.width);j===f&&c.videoHeight&&(j=c.videoHeight||d.height);this.Kf.ca()&&(e=this.Ni.x,g=this.Ni.y,i=this.Ni.width,j=this.Ni.height);var k=i,l=j,n=this.Em;switch(n){case dj:if(this.Kf.ca())break;e+=Math.max((k-d.width)/
2,0);g+=Math.max((l-d.height)/2,0);i=Math.min(d.width,k);j=Math.min(d.height,l);break;case Od:k=d.width;l=d.height;break;case Yg:case Zg:n===Yg?(n=Math.min(d.height/l,d.width/k),k*=n,l*=n):n===Zg&&(n=Math.max(d.height/l,d.width/k),k*=n,l*=n,e+=(k-d.width)/2,g+=(l-d.height)/2,i*=1/(k/d.width),j*=1/(l/d.height),k=d.width,l=d.height)}a.drawImage(c,e,g,i,j,Math.max((d.width-k)/2,0),Math.max((d.height-l)/2,0),Math.min(d.width,k),Math.min(d.height,l))}}};u.m(Vj,{qa:"naturalBounds"},s("vc"));
Vj.prototype.Zr=function(a,b,c,d){var e=this.ta,g=jj(this),i=this.Yf;!this.$j&&(i&&i.complete)&&(this.$j=h);i===m&&(b=a=0);g!==Od&&g!==fj?isFinite(e.width)?a=e.width:i!==m&&this.$j!==p&&(a=this.Kf.ca()?this.Kf.width:i.naturalWidth):(isFinite(a)||(a=this.Kf.ca()?this.Kf.width:i.naturalWidth),c=0);g!==Od&&g!==ej?isFinite(e.height)?b=e.height:i!==m&&this.$j!==p&&(b=this.Kf.ca()?this.Kf.height:i.naturalHeight):(isFinite(b)||(b=this.Kf.ca()?this.Kf.height:i.naturalHeight),d=0);e=this.Jd;g=this.$d;c=Math.max(c/
this.scale,g.width);d=Math.max(d/this.scale,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);i!==m&&!i.complete&&(isFinite(a)||(a=0),isFinite(b)||(b=0));xb(this.vc,a,b);gj(this,0,0,a,b)};Vj.prototype.Ri=function(a,b,c,d){mj(this,a,b,c,d)};
Vj.prototype.Ag=function(){Q.prototype.Ag.call(this);var a=this.b;if(a!==m){Ui(a,"source",this.source);Ui(a,"imageStretch",this.wC);this.Kf.ca()&&Ui(a,"sourceRect",this.Kf);var b,c;this instanceof Vj&&this.element!==m&&(c=a.Gh.ga(u.qc(this.element)));b="number"===typeof c?c:-1;if(-1<b)a=a.Gg,a.add(","),Oa(a),a.add('"base64": { "class":"ref", "id":'+b+" }");else{c=this.Yf;b=c.naturalWidth;var d=c.naturalHeight;this.fn===m&&gl(this);if(!(this.$j===p||this.fn===h||0===b||0===d)){b===f&&c.videoWidth&&
(b=c.videoWidth);d===f&&c.videoHeight&&(d=c.videoHeight);var e=document.createElement("canvas");e.width=b;e.height=d;e.getContext("2d").drawImage(c,0,0);c=e.toDataURL();b=-1;this instanceof Vj&&this.element!==m&&(u.Qn(this.element),b=a.Gh.count,a.Gh.add(u.qc(this.element),b));-1<b?(a=a.Gg,a.add(","),Oa(a),a.add('"base64": { "id":'+b+', "value":"'+c+'" }')):Ui(a,"base64",c)}}}};function M(){this.k=new Dd;this.ic=m}
function N(a,b,c,d,e){a.k===m&&u.g("StreamGeometryContext has been closed");e!==f&&e===h?(a.ic===m&&u.g("Need to call beginFigure first"),d=new ve(ee),d.P=b,d.Q=c,a.ic.kb.add(d)):(a.ic=new Nd,a.ic.Fa=b,a.ic.Ga=c,a.ic.Ur=d,a.k.Mb.add(a.ic))}function de(a){a.k===m&&u.g("StreamGeometryContext has been closed");a.ic===m&&u.g("Need to call beginFigure first");var b=a.ic.kb.length;0<b&&a.ic.kb.j[b-1].close()}
function hl(a){a.k===m&&u.g("StreamGeometryContext has been closed");a.ic===m&&u.g("Need to call beginFigure first");a.ic.Rl=p}M.prototype.moveTo=function(a,b,c){this.k===m&&u.g("StreamGeometryContext has been closed");this.ic===m&&u.g("Need to call beginFigure first");var d=new ve(ee);d.P=a;d.Q=b;c&&d.close();this.ic.kb.add(d)};
M.prototype.lineTo=function(a,b,c){this.k===m&&u.g("StreamGeometryContext has been closed");this.ic===m&&u.g("Need to call beginFigure first");var d=new ve(ae);d.P=a;d.Q=b;c&&d.close();this.ic.kb.add(d)};function O(a,b,c,d,e,g,i,j){a.k===m&&u.g("StreamGeometryContext has been closed");a.ic===m&&u.g("Need to call beginFigure first");var k=new ve(pe);k.Dc=b;k.vd=c;k.Ck=d;k.Dk=e;k.P=g;k.Q=i;j&&k.close();a.ic.kb.add(k)}
function ce(a,b,c,d,e){a.k===m&&u.g("StreamGeometryContext has been closed");a.ic===m&&u.g("Need to call beginFigure first");var g=new ve(qe);g.Dc=b;g.vd=c;g.P=d;g.Q=e;a.ic.kb.add(g)}M.prototype.arcTo=function(a,b,c,d,e,g,i){this.k===m&&u.g("StreamGeometryContext has been closed");this.ic===m&&u.g("Need to call beginFigure first");var j=new ve(re);j.qi=a;j.oj=b;j.Da=c;j.Ea=d;j.Wl=e;g&&(j.lo=g);i&&j.close();this.ic.kb.add(j)};
function il(a,b,c,d,e,g,i,j,k,l,n,r,q,v){var x=1-k,a=a*x+c*k,b=b*x+d*k,c=c*x+e*k,d=d*x+g*k,e=e*x+i*k,g=g*x+j*k,j=a*x+c*k,i=b*x+d*k,c=c*x+e*k,d=d*x+g*k;l.x=a;l.y=b;n.x=j;n.y=i;r.x=j*x+c*k;r.y=i*x+d*k;q.x=c;q.y=d;v.x=e;v.y=g}function jl(a){var a=kl(a),b=[];b[0]=a[0];for(var c=1,d=1;c<a.length;c+=2,d+=3)b[d]=a[c],b[d+1]=a[c],b[d+2]=a[c+1];return b}
function kl(a){for(var b=ll(a),c=[],d=Math.floor(b.length/2),e=b.length-1,a=0===a%2?2:1,g=0;g<e;g++){var i=b[g],j=b[g+1],k=b[(d+g-1)%e],l=b[(d+g+a)%e];c[2*g]=i;c[2*g+1]=ml(i.x,i.y,k.x,k.y,j.x,j.y,l.x,l.y)}c[c.length]=c[0];return c}function ml(a,b,c,d,e,g,i,j){c=a-c;i=e-i;0===c||0===i?0===c?(i=(g-j)/i,j=a,e=i*j+(g-i*e)):(d=(b-d)/c,j=e,e=d*j+(b-d*a)):(d=(b-d)/c,i=(g-j)/i,a=b-d*a,j=(g-i*e-a)/(d-i),e=d*j+a);return new E(j,e)}
function ll(a){for(var b=[],c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new E(0.5+0.5*Math.cos(d),0.5+0.5*Math.sin(d));b.push(b[0]);return b}
var Sk={None:"Rectangle",Rectangle:function(a,b,c){a=new Dd;a.type=Qd;a.Fa=0;a.Ga=0;a.P=b;a.Q=c;return a},Circle:function(a,b,c){a=new Dd;a.Rb=Yg;a.type=Rd;a.Fa=0;a.Ga=0;a.P=b;a.Q=c;a.n=new K(0.156,0.156);a.o=new K(0.844,0.844);return a},Connector:"Ellipse",Ellipse:function(a,b,c){a=new Dd;a.type=Rd;a.Fa=0;a.Ga=0;a.P=b;a.Q=c;a.n=new K(0.156,0.156);a.o=new K(0.844,0.844);return a},TriangleRight:function(a,b,c){var a=new Dd,d=new Nd,e=new ve;e.P=b;e.Q=0.5*c;d.kb.add(e);b=new ve;b.P=0;b.Q=c;d.kb.add(b.close());
a.Mb.add(d);a.n=new K(0,0.25);a.o=new K(0.5,0.75);return a},TriangleDown:function(a,b,c){var a=new Dd,d=new Nd,e=new ve;e.P=b;e.Q=0;d.kb.add(e);e=new ve;e.P=0.5*b;e.Q=c;d.kb.add(e.close());a.Mb.add(d);a.n=new K(0.25,0);a.o=new K(0.75,0.5);return a},TriangleLeft:function(a,b,c){var a=new Dd,d=new Nd;d.Fa=b;d.Ga=c;var e=new ve;e.P=0;e.Q=0.5*c;d.kb.add(e);c=new ve;c.P=b;c.Q=0;d.kb.add(c.close());a.Mb.add(d);a.n=new K(0.5,0.25);a.o=new K(1,0.75);return a},TriangleUp:function(a,b,c){var a=new Dd,d=new Nd;
d.Fa=b;d.Ga=c;var e=new ve;e.P=0;e.Q=c;d.kb.add(e);c=new ve;c.P=0.5*b;c.Q=0;d.kb.add(c.close());a.Mb.add(d);a.n=new K(0.25,0.5);a.o=new K(0.75,1);return a},Line1:function(a,b,c){a=new Dd;a.type=Pd;a.Fa=0;a.Ga=0;a.P=b;a.Q=c;return a},Line2:function(a,b,c){a=new Dd;a.type=Pd;a.Fa=b;a.Ga=0;a.P=0;a.Q=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new Dd;a.type=Pd;a.Fa=0;a.Ga=c/2;a.P=b;a.Q=c/2;return a},LineV:function(a,b,c){a=new Dd;a.type=Pd;a.Fa=b/2;a.Ga=0;a.P=b/2;a.Q=c;return a},Curve1:function(a,
b,c){a=new M;N(a,0,0,p);O(a,Mc*b,0,1*b,(1-Mc)*c,b,c);return a.k},Curve2:function(a,b,c){a=new M;N(a,0,0,p);O(a,0,Mc*c,(1-Mc)*b,c,b,c);return a.k},Curve3:function(a,b,c){a=new M;N(a,1*b,0,p);O(a,1*b,Mc*c,Mc*b,1*c,0,1*c);return a.k},Curve4:function(a,b,c){a=new M;N(a,1*b,0,p);O(a,(1-Mc)*b,0,0,(1-Mc)*c,0,1*c);return a.k},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=new M;N(a,0.5*b,0*c,h);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,h);b=a.k;b.n=new K(0.25,0.5);b.o=new K(0.75,1);return b},
Decision:"Diamond",Diamond:function(a,b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(0,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0.5*c,h);b=a.k;b.n=new K(0.25,0.25);b.o=new K(0.75,0.75);return b},Pentagon:function(a,b,c){var a=ll(5),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;5>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.2,0.22);b.o=new K(0.8,0.9);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var a=ll(6),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;6>e;e++)d.lineTo(a[e].x*b,a[e].y*
c);de(d);b=d.k;b.n=new K(0.07,0.25);b.o=new K(0.93,0.75);return b},Heptagon:function(a,b,c){var a=ll(7),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;7>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.2,0.15);b.o=new K(0.8,0.85);return b},Octagon:function(a,b,c){var a=ll(8),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;8>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.15,0.15);b.o=new K(0.85,0.85);return b},Nonagon:function(a,b,c){var a=ll(9),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=
1;9>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.17,0.13);b.o=new K(0.82,0.82);return b},Decagon:function(a,b,c){var a=ll(10),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.16,0.16);b.o=new K(0.84,0.84);return b},Dodecagon:function(a,b,c){var a=ll(12),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.16,0.16);b.o=new K(0.84,0.84);return b},FivePointedStar:function(a,b,c){var a=
kl(5),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.312,0.383);b.o=new K(0.693,0.765);return b},SixPointedStar:function(a,b,c){var a=kl(6),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.17,0.251);b.o=new K(0.833,0.755);return b},SevenPointedStar:function(a,b,c){var a=kl(7),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;14>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.363,
0.361);b.o=new K(0.641,0.709);return b},EightPointedStar:function(a,b,c){var a=kl(8),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;16>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.252,0.255);b.o=new K(0.75,0.75);return b},NinePointedStar:function(a,b,c){var a=kl(9),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;18>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.355,0.361);b.o=new K(0.645,0.651);return b},TenPointedStar:function(a,b,c){var a=kl(10),d=new M;N(d,a[0].x*b,a[0].y*c,
h);for(var e=1;20>e;e++)d.lineTo(a[e].x*b,a[e].y*c);de(d);b=d.k;b.n=new K(0.281,0.261);b.o=new K(0.723,0.748);return b},FivePointedBurst:function(a,b,c){var a=jl(5),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);de(d);b=d.k;b.n=new K(0.312,0.383);b.o=new K(0.693,0.765);return b},SixPointedBurst:function(a,b,c){var a=jl(6),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+
1].y*c,a[e+2].x*b,a[e+2].y*c);de(d);b=d.k;b.n=new K(0.17,0.251);b.o=new K(0.833,0.755);return b},SevenPointedBurst:function(a,b,c){var a=jl(7),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);de(d);b=d.k;b.n=new K(0.363,0.361);b.o=new K(0.641,0.709);return b},EightPointedBurst:function(a,b,c){var a=jl(8),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,
a[e+2].y*c);de(d);b=d.k;b.n=new K(0.252,0.255);b.o=new K(0.75,0.75);return b},NinePointedBurst:function(a,b,c){var a=jl(9),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);de(d);b=d.k;b.n=new K(0.355,0.361);b.o=new K(0.645,0.651);return b},TenPointedBurst:function(a,b,c){var a=jl(10),d=new M;N(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)O(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);de(d);b=d.k;
b.n=new K(0.281,0.261);b.o=new K(0.723,0.748);return b},Cloud:function(a,b,c){a=new M;N(a,0.08034461*b,0.1944299*c,h);O(a,-0.09239631*b,0.07836421*c,0.1406031*b,-0.0542823*c,0.2008615*b,0.05349299*c);O(a,0.2450511*b,-0.00697547*c,0.3776197*b,-0.01112067*c,0.4338609*b,0.074219*c);O(a,0.4539471*b,0,0.6066018*b,-0.02526587*c,0.6558228*b,0.07004196*c);O(a,0.6914277*b,-0.01904177*c,0.8921095*b,-0.01220843*c,0.8921095*b,0.08370865*c);O(a,1.036446*b,0.04105738*c,1.020377*b,0.3022052*c,0.9147671*b,0.3194596*
c);O(a,1.04448*b,0.360238*c,0.992256*b,0.5219009*c,0.9082935*b,0.562044*c);O(a,1.032337*b,0.5771781*c,1.018411*b,0.8120651*c,0.9212406*b,0.8217117*c);O(a,1.028411*b,0.9571472*c,0.8556702*b,1.052487*c,0.7592566*b,0.9156953*c);O(a,0.7431877*b,1.009325*c,0.5624123*b,1.021761*c,0.5101666*b,0.9310455*c);O(a,0.4820677*b,1.031761*c,0.3030112*b,1.002796*c,0.2609328*b,0.9344623*c);O(a,0.2329994*b,1.01518*c,0.03213784*b,1.01518*c,0.08034461*b,0.870098*c);O(a,-0.02812061*b,0.9032597*c,-0.01205169*b,0.6835638*
c,0.06829292*b,0.6545475*c);O(a,-0.01812061*b,0.6089503*c,-0.00606892*b,0.4555777*c,0.06427569*b,0.4265613*c);O(a,-0.01606892*b,0.3892545*c,-0.01205169*b,0.1944299*c,0.08034461*b,0.1944299*c);de(a);b=a.k;b.n=new K(0.1,0.1);b.o=new K(0.9,0.9);return b},Gate:"Crescent",Crescent:function(a,b,c){a=new M;N(a,0,0,h);O(a,1*b,0,1*b,1*c,0,1*c);O(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);de(a);b=a.k;b.n=new K(0.511,0.19);b.o=new K(0.776,0.76);return b},FramedRectangle:function(a,b,c){var d=new M,e=a?a.Ob:0,a=a?a.is:
0;0===e&&(e=0.1);0===a&&(a=0.1);N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,h);N(d,e*b,a*c,p,h);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,h);b=d.k;b.n=new K(e,a);b.o=new K(1-e,1-a);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=new M;N(a,0,0,h);O(a,Mc*b,0,1*b,(0.5-Mc/2)*c,1*b,0.5*c);O(a,1*b,(0.5+Mc/2)*c,Mc*b,1*c,0,1*c);de(a);b=a.k;b.n=new K(0,0.2);b.o=new K(0.75,0.8);return b},Heart:function(a,b,c){a=new M;N(a,0.5*b,1*c,h);O(a,0.1*b,0.8*c,0,
0.5*c,0*b,0.3*c);O(a,0*b,0,0.45*b,0,0.5*b,0.3*c);O(a,0.55*b,0,1*b,0,1*b,0.3*c);O(a,b,0.5*c,0.9*b,0.8*c,0.5*b,1*c);de(a);b=a.k;b.n=new K(0.15,0.29);b.o=new K(0.86,0.68);return b},Spade:function(a,b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(0.51*b,0.01*c);O(a,0.6*b,0.2*c,b,0.25*c,b,0.5*c);O(a,b,0.8*c,0.6*b,0.8*c,0.55*b,0.7*c);O(a,0.5*b,0.75*c,0.55*b,0.95*c,0.75*b,c);a.lineTo(0.25*b,c);O(a,0.45*b,0.95*c,0.5*b,0.75*c,0.45*b,0.7*c);O(a,0.4*b,0.8*c,0,0.8*c,0,0.5*c);O(a,0,0.25*c,0.4*b,0.2*c,0.49*b,0.01*c);de(a);
b=a.k;b.n=new K(0.19,0.26);b.o=new K(0.8,0.68);return b},Club:function(a,b,c){a=new M;N(a,0.4*b,0.6*c,h);O(a,0.5*b,0.75*c,0.45*b,0.95*c,0.15*b,1*c);a.lineTo(0.85*b,c);O(a,0.55*b,0.95*c,0.5*b,0.75*c,0.6*b,0.6*c);var d=0.2,e=0.3,g=0,i=d*(4*(Math.SQRT2-1)/3);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);O(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-
d+g)*c,(0.5-d+e+0.05)*b,(0.5-i+g-0.02)*c,0.65*b,0.36771243*c);d=0.2;e=0;g=-0.3;i=d*(4*(Math.SQRT2-1)/3);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);O(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,0.35*b,0.36771243*c);d=0.2;e=-0.3;g=0;i=d*(4*(Math.SQRT2-1)/3);O(a,(0.5+d+e-0.05)*b,(0.5-i+g-0.02)*c,(0.5+i+e)*b,(0.5-d+
g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,0.4*b,0.6*c);de(a);b=a.k;b.n=new K(0.06,0.39);b.o=new K(0.93,0.58);return b},YinYang:function(a,b,c){var a=0.5,d=new M,a=0.5;N(d,0.5*b,0,h);d.arcTo(270,180,0.5*b,0.5*b,0.5*b);O(d,1*b,a*c,0,a*c,a*b,0,h);var a=0.1,e=0.25;N(d,(0.5+a)*b,e*c,h,h);d.arcTo(0,-360,0.5*b,c*e,a*b);
de(d);N(d,0.5*b,0,p);d.arcTo(270,-180,0.5*b,0.5*b,0.5*b);hl(d);e=0.75;N(d,(0.5+a)*b,e*c,h);d.arcTo(0,360,0.5*b,c*e,a*b);de(d);b=d.k;b.Rb=Yg;return b},Peace:function(a,b,c){var a=new M,d=0.5*(4*(Math.SQRT2-1)/3);N(a,b,0.5*c,h);O(a,b,(0.5-d)*c,(0.5+d)*b,0,0.5*b,0);O(a,(0.5-d)*b,0,0,(0.5-d)*c,0,0.5*c);O(a,0,(0.5+d)*c,(0.5-d)*b,c,0.5*b,c);O(a,(0.5+d)*b,c,b,(0.5+d)*c,b,0.5*c);d=0.4*(4*(Math.SQRT2-1)/3);N(a,0.5*b,0.1*c,h,h);O(a,(0.5+d)*b,0.1*c,0.9*b,(0.5-d)*c,0.9*b,0.5*c);O(a,0.9*b,(0.5+d)*c,(0.5+d)*b,
0.9*c,0.5*b,0.9*c);O(a,(0.5-d)*b,0.9*c,0.1*b,(0.5+d)*c,0.1*b,0.5*c);O(a,0.1*b,(0.5-d)*c,(0.5-d)*b,0.1*c,0.5*b,0.1*c);var d=0.07,e=0,g=-0.707*0.11,i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+d+e)*b,(0.5+g)*c,h);O(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=
0.07;e=-0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+d+e)*b,(0.5+g)*c,h);O(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+d+e)*b,(0.5+g)*c,h);O(a,(0.5+d+e)*b,(0.5-i+g)*c,
(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);b=a.k;b.n=new K(0.146,0.146);b.o=new K(0.853,0.853);b.Rb=Yg;return b},NotAllowed:function(a,b,c){var a=0.5*Mc,d=0.5,e=new M;N(e,0.5*b,(0.5-d)*c,h);O(e,(0.5-a)*b,(0.5-d)*c,(0.5-d)*b,(0.5-a)*c,(0.5-d)*b,0.5*c);O(e,(0.5-d)*b,(0.5+a)*
c,(0.5-a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);O(e,(0.5+a)*b,(0.5+d)*c,(0.5+d)*b,(0.5+a)*c,(0.5+d)*b,0.5*c);O(e,(0.5+d)*b,(0.5-a)*c,(0.5+a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);var d=0.4,a=0.4*Mc,g=new E(0,0),i=new E(0,0),j=new E(0,0),k=new E(0,0);il(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.42,g,i,j,k,k);var l=new E(0,0),n=new E(0,0),r=new E(0,0);il(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.58,k,k,r,l,n);var q=new E(0,0),v=new E(0,0),x=new E(0,0);il(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.42,q,v,x,
k,k);var C=new E(0,0),G=new E(0,0),I=new E(0,0);il(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.58,k,k,I,C,G);N(e,I.x*b,I.y*c,h,h);O(e,C.x*b,C.y*c,G.x*b,G.y*c,(0.5-d)*b,0.5*c);O(e,(0.5-d)*b,(0.5-a)*c,(0.5-a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);O(e,g.x*b,g.y*c,i.x*b,i.y*c,j.x*b,j.y*c);e.lineTo(I.x*b,I.y*c);de(e);N(e,x.x*b,x.y*c,h,h);e.lineTo(r.x*b,r.y*c);O(e,l.x*b,l.y*c,n.x*b,n.y*c,(0.5+d)*b,0.5*c);O(e,(0.5+d)*b,(0.5+a)*c,(0.5+a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);O(e,q.x*b,q.y*c,v.x*b,v.y*c,x.x*b,x.y*c);de(e);
e.k.Rb=Yg;return e.k},Fragile:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(0.25*b,0);a.lineTo(0.2*b,0.15*c);a.lineTo(0.3*b,0.25*c);a.lineTo(0.29*b,0.33*c);a.lineTo(0.35*b,0.25*c);a.lineTo(0.3*b,0.15*c);a.lineTo(0.4*b,0);a.lineTo(1*b,0);O(a,1*b,0.25*c,0.75*b,0.5*c,0.55*b,0.5*c);a.lineTo(0.55*b,0.9*c);a.lineTo(0.7*b,0.9*c);a.lineTo(0.7*b,1*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.9*c);a.lineTo(0.45*b,0.9*c);a.lineTo(0.45*b,0.5*c);O(a,0.25*b,0.5*c,0,0.25*c,0,0);de(a);b=a.k;b.n=new K(0.25,0);b.o=new K(0.75,
0.4);return b},HourGlass:function(a,b,c){a=new M;N(a,0.65*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.35*b,0.5*c);a.lineTo(0,0);a.lineTo(1*b,0);de(a);return a.k},Lightning:function(a,b,c){a=new M;N(a,0*b,0.55*c,h);a.lineTo(0.75*b,0);a.lineTo(0.25*b,0.45*c);a.lineTo(0.9*b,0.48*c);a.lineTo(0.4*b,1*c);a.lineTo(0.65*b,0.55*c);de(a);return a.k},Parallelogram1:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);de(d);b=d.k;
b.n=new K(a,0);b.o=new K(1-a,1);return b},Input:"Output",Output:function(a,b,c){a=new M;N(a,0,1*c,h);a.lineTo(0.1*b,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);de(a);b=a.k;b.n=new K(0.1,0);b.o=new K(0.9,1);return b},Parallelogram2:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.25);var d=new M;N(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);de(d);b=d.k;b.n=new K(a,0);b.o=new K(1-a,1);return b},ThickCross:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.25);var d=new M;N(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+
a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);de(d);b=d.k;b.n=new K(0.5-a/2,0.5-a/2);b.o=new K(0.5+a/2,0.5+a/2);return b},ThickX:function(a,b,c){var a=0.25/Math.SQRT2,d=new M;N(d,0.3*b,0,h);d.lineTo(0.5*b,0.2*c);d.lineTo(0.7*b,0);d.lineTo(1*b,0.3*c);
d.lineTo(0.8*b,0.5*c);d.lineTo(1*b,0.7*c);d.lineTo(0.7*b,1*c);d.lineTo(0.5*b,0.8*c);d.lineTo(0.3*b,1*c);d.lineTo(0,0.7*c);d.lineTo(0.2*b,0.5*c);d.lineTo(0,0.3*c);de(d);b=d.k;b.n=new K(0.5-a,0.5-a);b.o=new K(0.5+a,0.5+a);return b},ThinCross:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/
2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);de(d);return d.k},ThinX:function(a,b,c){a=new M;N(a,0.1*b,0,h);a.lineTo(0.5*b,0.4*c);a.lineTo(0.9*b,0);a.lineTo(1*b,0.1*c);a.lineTo(0.6*b,0.5*c);a.lineTo(1*b,0.9*c);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.6*c);a.lineTo(0.1*b,1*c);a.lineTo(0,0.9*c);a.lineTo(0.4*b,0.5*c);a.lineTo(0,0.1*c);de(a);return a.k},RightTriangle:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);de(a);b=a.k;b.n=new K(0,0.5);b.o=new K(0.5,1);return b},RoundedIBeam:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(1*b,0);O(a,0.5*b,0.25*c,0.5*b,0.75*c,1*b,1*c);a.lineTo(0,1*c);O(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);de(a);return a.k},RoundedRectangle:function(a,b,c){var d=a?a.Ob:0;0>=d&&(d=5);var d=Math.min(d,b/3),d=Math.min(d,c/3),a=d*Mc,e=new M;N(e,d,0,h);e.lineTo(b-d,0);O(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);O(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);O(e,a,c,0,c-a,0,c-d);e.lineTo(0,d);O(e,0,a,a,0,d,0);de(e);
b=e.k;1<a?(b.n=new K(0,0,a,a),b.o=new K(1,1,-a,-a)):(b.n=nc,b.o=vc);return b},Border:function(a,b,c){a=a?a.Ob:0;0>=a&&(a=5);var a=Math.min(a,b/3),a=Math.min(a,c/3),d=new M;N(d,a,0,h);d.lineTo(b-a,0);O(d,b-0,0,b,0,b,a);d.lineTo(b,c-a);O(d,b,c-0,b-0,c,b-a,c);d.lineTo(a,c);O(d,0,c,0,c-0,0,c-a);d.lineTo(0,a);O(d,0,0,0,0,a,0);de(d);b=d.k;b.n=nc;b.o=vc;return b},SquareIBeam:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.2);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,a*c);d.lineTo((0.5+a/2)*b,a*c);d.lineTo((0.5+
a/2)*b,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);d.lineTo(0,(1-a)*c);d.lineTo((0.5-a/2)*b,(1-a)*c);d.lineTo((0.5-a/2)*b,a*c);d.lineTo(0,a*c);de(d);return d.k},Trapezoid:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.2);var d=new M;N(d,a*b,0,h);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);b=d.k;b.n=new K(a,0);b.o=new K(1-a,1);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var a=a?a.Ob:0,d=new M;N(d,a,0,h);d.lineTo(0,0);d.lineTo(1*b,0);d.lineTo(0.9*
b,1*c);d.lineTo(0.1*b,1*c);de(d);b=d.k;b.n=new K(0.1,0);b.o=new K(0.9,1);return b},GenderMale:function(a,b,c){var a=new M,d=0.4*Mc,e=0.4,g=new E(0,0),i=new E(0,0),j=new E(0,0),k=new E(0,0);N(a,(0.5-e)*b,0.5*c,h);O(a,(0.5-e)*b,(0.5-d)*c,(0.5-d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);il(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.44,j,k,i,g,g);O(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);var l=new E(i.x,i.y);il(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.56,g,g,i,j,k);g=new E(i.x,i.y);a.lineTo((0.1*l.x+0.855)*
b,0.1*l.y*c);a.lineTo(0.85*b,0.1*l.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,(0.1*g.y+0.05*0.9)*c);a.lineTo(g.x*b,g.y*c);O(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);O(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);O(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);e=0.35;d=0.35*Mc;N(a,0.5*b,(0.5-e)*c,h,h);O(a,(0.5-d)*b,(0.5-e)*c,(0.5-e)*b,(0.5-d)*c,(0.5-e)*b,0.5*c);O(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,
(0.5+e)*c,0.5*b,(0.5+e)*c);O(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);O(a,(0.5+e)*b,(0.5-d)*c,(0.5+d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);N(a,(0.5-e)*b,0.5*c,h);b=a.k;b.n=new K(0.202,0.257);b.o=new K(0.692,0.839);b.Rb=Yg;return b},GenderFemale:function(a,b,c){var a=new M,d=0.375,e=0,g=-0.125,i=d*(4*(Math.SQRT2-1)/3);N(a,(0.525+e)*b,(0.5+d+g)*c,h);O(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);O(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-
d+g)*c);O(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.475+e)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c);a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);de(a);d=0.325;e=0;g=-0.125;i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+d+e)*b,(0.5+g)*c,h,h);O(a,(0.5+d+e)*b,(0.5+
i+g)*c,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);O(a,(0.5-i+e)*b,(0.5+d+g)*c,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-d+e)*b,(0.5+g)*c);O(a,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);O(a,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+d+e)*b,(0.5+g)*c);N(a,(0.525+e)*b,(0.5+d+g)*c,h);b=a.k;b.n=new K(0.232,0.136);b.o=new K(0.782,0.611);b.Rb=Yg;return b},PlusLine:function(a,b,c){a=new M;N(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.k},XLine:function(a,
b,c){a=new M;N(a,0,1*c,p);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);return a.k},AsteriskLine:function(a,b,c){var a=new M,d=0.2/Math.SQRT2;N(a,d*b,(1-d)*c,p);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);return a.k},CircleLine:function(a,b,c){var a=0.5*Mc,d=new M;N(d,1*b,0.5*c,p);O(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);O(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);O(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,
0);O(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);b=d.k;b.n=new K(0.146,0.146);b.o=new K(0.853,0.853);b.Rb=Yg;return b},Pie:function(a,b,c){var a=new M,d=0.5*(4*(Math.SQRT2-1)/3);N(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,h);O(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);O(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);O(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);O(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);de(a);return a.k},PiePiece:function(a,b,c){var a=0.5*(Mc/Math.SQRT2),d=Math.SQRT2/
2,e=1-Math.SQRT2/2,g=new M;N(g,b,c,h);O(g,b,(1-a)*c,(d+a)*b,(e+a)*c,d*b,e*c);g.lineTo(0,c);de(g);return g.k},StopSign:function(a,b,c){var d=1/(Math.SQRT2+2),e=new M;N(e,d*b,0,h);e.lineTo((1-d)*b,0);e.lineTo(1*b,d*c);e.lineTo(1*b,(1-d)*c);e.lineTo((1-d)*b,1*c);e.lineTo(d*b,1*c);e.lineTo(0,(1-d)*c);e.lineTo(0,d*c);de(e);b=e.k;a&&gc(a.n)&&(a.n=new K(d/2,d/2));a&&gc(a.o)&&(a.o=new K(1-d/2,1-d/2));return b},LogicImplies:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.2);var d=new M;N(d,(1-a)*b,0*c,p);d.lineTo(1*
b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);b=d.k;b.n=new K(0,0);b.o=new K(0.8,0.5);return b},LogicIff:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.2);var d=new M;N(d,(1-a)*b,0*c,p);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);d.moveTo(a*b,0);d.lineTo(0,0.5*c);d.lineTo(a*b,c);b=d.k;b.n=new K(0.2,0);b.o=new K(0.8,0.5);return b},LogicNot:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(1*b,0);a.lineTo(1*b,1*c);return a.k},LogicAnd:function(a,b,c){a=new M;N(a,
0,1*c,p);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.k;b.n=new K(0.25,0.5);b.o=new K(0.75,1);return b},LogicOr:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.k;b.n=new K(0.219,0);b.o=new K(0.78,0.409);return b},LogicXor:function(a,b,c){a=new M;N(a,0.5*b,0,p);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*Mc;O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*
c,1*b,0.5*c);b=a.k;b.Rb=Yg;return b},LogicTruth:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(1*b,0);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.k},LogicFalsity:function(a,b,c){a=new M;N(a,0,1*c,p);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);return a.k},LogicThereExists:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);return a.k},LogicForAll:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(0.5*b,
1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.k;b.n=new K(0.25,0);b.o=new K(0.75,0.5);return b},LogicIsDefinedAs:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.k;b.n=new K(0.01,0.01);b.o=new K(0.99,0.49);return b},LogicIntersect:function(a,b,c){var a=0.5*Mc,d=new M;N(d,0,1*c,p);d.lineTo(0,0.5*c);O(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);O(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);d.lineTo(1*b,1*c);b=d.k;b.n=new K(0,
0.5);b.o=new K(1,1);return b},LogicUnion:function(a,b,c){var a=0.5*Mc,d=new M;N(d,1*b,0,p);d.lineTo(1*b,0.5*c);O(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);O(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);d.lineTo(0,0);b=d.k;b.n=new K(0,0);b.o=new K(1,0.5);return b},Arrow:function(a,b,c){var d=a?a.Ob:0,a=a?a.is:0;0===d&&(d=0.3);0===a&&(a=0.3);var e=new M;N(e,0,(0.5-a/2)*c,h);e.lineTo((1-d)*b,(0.5-a/2)*c);e.lineTo((1-d)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-d)*b,1*c);e.lineTo((1-d)*b,(0.5+a/2)*c);e.lineTo(0,(0.5+
a/2)*c);de(e);b=e.k;b.n=new K(0,0.5-a/2);d=ml(0,0.5+a/2,1,0.5+a/2,1-d,1,1,0.5);b.o=new K(d.x,d.y);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);de(a);return a.k},DoubleArrow:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*c);a.lineTo(0,1*c);de(a);N(a,0.3*b,0.214*c,p);a.lineTo(0.3*b,0.786*
c);hl(a);return a.k},DoubleEndArrow:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);de(a);b=a.k;c=ml(0,0.5,0.3,0,0,0.3,0.3,0.3);b.n=new K(c.x,c.y);c=ml(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new K(c.x,c.y);return b},IBeamArrow:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7*c);a.lineTo(0.2*
b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);de(a);b=a.k;b.n=new K(0,0.3);c=ml(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new K(c.x,c.y);return b},Pointer:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);de(a);b=a.k;b.n=new K(0.2,0.35);c=ml(0.2,0.65,1,0.65,0,1,1,0.5);b.o=new K(c.x,c.y);return b},RoundedPointer:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0,1*c);O(a,0.5*b,0.75*c,0.5*b,0.25*
c,0,0);de(a);b=a.k;b.n=new K(0.4,0.35);c=ml(0.2,0.65,1,0.65,0,1,1,0.5);b.o=new K(c.x,c.y);return b},SplitEndArrow:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);de(a);b=a.k;b.n=new K(0.2,0.3);c=ml(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new K(c.x,c.y);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0,1*
c);a.lineTo(0,0);a.lineTo(0.7*b,0);de(a);b=a.k;b.n=new K(0,0);b.o=new K(0.7,1);return b},Cone1:function(a,b,c){var a=0.5*Mc,d=0.1*Mc,e=new M;N(e,0,0.9*c,h);e.lineTo(0.5*b,0);e.lineTo(1*b,0.9*c);O(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);O(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);de(e);b=e.k;b.n=new K(0.25,0.5);b.o=new K(0.75,0.97);return b},Cone2:function(a,b,c){a=new M;N(a,0,0.9*c,h);O(a,(1-0.85/0.9)*b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*b,0);a.lineTo(0,0.9*c);de(a);N(a,0,0.9*c,p);O(a,(1-0.85/
0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);hl(a);b=a.k;b.n=new K(0.25,0.5);b.o=new K(0.75,0.82);return b},Cube1:function(a,b,c){a=new M;N(a,0.5*b,1*c,h);a.lineTo(1*b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);de(a);N(a,0.5*b,1*c,p);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);hl(a);b=a.k;b.n=new K(0,0.3);b.o=new K(0.5,0.85);return b},Cube2:function(a,b,c){a=new M;N(a,0,0.3*c,h);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);
a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);de(a);N(a,0,0.3*c,p);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);hl(a);b=a.k;b.n=new K(0,0.3);b.o=new K(0.7,1);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var a=0.5*Mc,d=0.1*Mc,e=new M;N(e,0,0.1*c,h);O(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);O(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(b,0.9*c);O(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);O(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);e.lineTo(0,
0.1*c);N(e,0,0.1*c,p);O(e,0,(0.1+d)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);O(e,(0.5+a)*b,0.2*c,1*b,(0.1+d)*c,1*b,0.1*c);hl(e);b=e.k;b.n=new K(0,0.2);b.o=new K(1,0.9);return b},Cylinder2:function(a,b,c){var a=0.5*Mc,d=0.1*Mc,e=new M;N(e,0,0.9*c,h);e.lineTo(0,0.1*c);O(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);O(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(1*b,0.9*c);O(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);O(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);N(e,0,0.9*c,p);O(e,0,(0.9-d)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);O(e,
(0.5+a)*b,0.8*c,1*b,(0.9-d)*c,1*b,0.9*c);hl(e);b=e.k;b.n=new K(0,0.1);b.o=new K(1,0.8);return b},Cylinder3:function(a,b,c){var a=0.1*Mc,d=0.5*Mc,e=new M;N(e,0.1*b,0,h);e.lineTo(0.9*b,0);O(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);O(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);O(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);N(e,0.1*b,0,p);O(e,(0.1+a)*b,0,0.2*b,(0.5-d)*c,0.2*b,0.5*c);O(e,0.2*b,(0.5+d)*c,(0.1+a)*b,1*c,0.1*b,1*c);hl(e);b=e.k;b.n=new K(0.2,0);b.o=
new K(0.9,1);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var a=0.1*Mc,d=0.5*Mc,e=new M;N(e,0.9*b,0,h);O(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);O(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);O(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);e.lineTo(0.9*b,0);N(e,0.9*b,0,p);O(e,(0.9-a)*b,0,0.8*b,(0.5-d)*c,0.8*b,0.5*c);O(e,0.8*b,(0.5+d)*c,(0.9-a)*b,1*c,0.9*b,1*c);hl(e);b=e.k;b.n=new K(0.1,0);b.o=new K(0.8,1);return b},Prism1:function(a,b,c){a=
new M;N(a,0.25*b,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);de(a);N(a,0.25*b,0.25*c,p);a.lineTo(0.5*b,c);hl(a);b=a.k;b.n=new K(0.408,0.172);b.o=new K(0.833,0.662);return b},Prism2:function(a,b,c){a=new M;N(a,0,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);de(a);N(a,0,c,p);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);hl(a);b=a.k;b.n=new K(0.25,0.5);b.o=new K(0.75,0.75);return b},Pyramid1:function(a,
b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);de(a);N(a,0.5*b,0,p);a.lineTo(0.5*b,1*c);hl(a);b=a.k;b.n=new K(0.25,0.367);b.o=new K(0.75,0.875);return b},Pyramid2:function(a,b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(b,0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);de(a);N(a,0.5*b,0,p);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);hl(a);b=a.k;b.n=new K(0.25,0.367);b.o=new K(0.75,0.875);return b},Actor:function(a,b,c){var d=0.2*
Mc,e=0.1*Mc,a=0.5,g=0.1,i=new M;N(i,a*b,(g+0.1)*c,h);O(i,(a-d)*b,(g+0.1)*c,(a-0.2)*b,(g+e)*c,(a-0.2)*b,g*c);O(i,(a-0.2)*b,(g-e)*c,(a-d)*b,(g-0.1)*c,a*b,(g-0.1)*c);O(i,(a+d)*b,(g-0.1)*c,(a+0.2)*b,(g-e)*c,(a+0.2)*b,g*c);O(i,(a+0.2)*b,(g+e)*c,(a+d)*b,(g+0.1)*c,a*b,(g+0.1)*c);d=0.05;e=Mc*d;N(i,0.5*b,0.2*c,h);i.lineTo(0.95*b,0.2*c);a=0.95;g=0.25;O(i,(a+e)*b,(g-d)*c,(a+d)*b,(g-e)*c,(a+d)*b,g*c);i.lineTo(1*b,0.6*c);i.lineTo(0.85*b,0.6*c);i.lineTo(0.85*b,0.35*c);d=0.025;e=Mc*d;a=0.825;g=0.35;O(i,(a+d)*b,
(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);O(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.8*b,1*c);i.lineTo(0.55*b,1*c);i.lineTo(0.55*b,0.7*c);d=0.05;e=Mc*d;a=0.5;g=0.7;O(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);O(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.45*b,1*c);i.lineTo(0.2*b,1*c);i.lineTo(0.2*b,0.35*c);d=0.025;e=Mc*d;a=0.175;g=0.35;O(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);O(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.15*b,0.6*c);i.lineTo(0*b,
0.6*c);i.lineTo(0*b,0.25*c);d=0.05;e=Mc*d;a=0.05;g=0.25;O(i,(a-d)*b,(g-e)*c,(a-e)*b,(g-d)*c,a*b,(g-d)*c);i.lineTo(0.5*b,0.2*c);b=i.k;b.n=new K(0.2,0.2);b.o=new K(0.8,0.65);return b},Card:function(a,b,c){a=new M;N(a,1*b,0*c,h);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);de(a);b=a.k;b.n=new K(0,0.2);b.o=new K(1,1);return b},Collate:function(a,b,c){a=new M;N(a,0.5*b,0.5*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);N(a,0.5*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);a.lineTo(0.5*b,0.5*c);b=a.k;b.n=new K(0.25,0);b.o=new K(0.75,0.25);return b},CreateRequest:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);N(d,0,a*c,p);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);hl(d);b=d.k;b.n=new K(0,a);b.o=new K(1,1-a);return b},Database:function(a,b,c){var a=new M,d=0.5*Mc,e=0.1*Mc;N(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);O(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0,(0.9+
e)*c,0,0.9*c);a.lineTo(0,0.1*c);O(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);N(a,1*b,0.1*c,p);O(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);O(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);O(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);O(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);a.moveTo(1*b,0.3*c);O(a,1*b,(0.3+e)*c,(0.5+d)*b,0.4*c,0.5*b,0.4*c);O(a,(0.5-d)*b,0.4*c,0,(0.3+e)*c,0,0.3*c);hl(a);b=a.k;b.n=new K(0,0.4);b.o=new K(1,0.9);return b},StoredData:"DataStorage",
DataStorage:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(0.75*b,0);O(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);O(a,0.25*b,0.9*c,0.25*b,0.1*c,0,0);de(a);b=a.k;b.n=new K(0.226,0);b.o=new K(0.81,1);return b},DiskStorage:function(a,b,c){var a=new M,d=0.5*Mc,e=0.1*Mc;N(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);O(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);O(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);N(a,1*b,0.1*c,p);O(a,1*
b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);O(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);O(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);O(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);hl(a);b=a.k;b.n=new K(0,0.3);b.o=new K(1,0.9);return b},Display:function(a,b,c){a=new M;N(a,0.25*b,0,h);a.lineTo(0.75*b,0);O(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);de(a);b=a.k;b.n=new K(0.25,0);b.o=new K(0.75,1);return b},DividedEvent:function(a,b,c){a=a?a.Ob:0;0===a?a=0.2:0.15>a&&(a=
0.15);var d=new M,e=0.2*Mc;N(d,0,0.2*c,h);O(d,0,(0.2-e)*c,(0.2-e)*b,0,0.2*b,0);d.lineTo(0.8*b,0);O(d,(0.8+e)*b,0,1*b,(0.2-e)*c,1*b,0.2*c);d.lineTo(1*b,0.8*c);O(d,1*b,(0.8+e)*c,(0.8+e)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);O(d,(0.2-e)*b,1*c,0,(0.8+e)*c,0,0.8*c);d.lineTo(0,0.2*c);N(d,0,a*c,p);d.lineTo(1*b,a*c);hl(d);b=d.k;b.n=new K(0,a);b.o=new K(1,1-a);return b},DividedProcess:function(a,b,c){a=a?a.Ob:0;0.1>a&&(a=0.1);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);N(d,
0,a*c,p);d.lineTo(1*b,a*c);hl(d);b=d.k;b.n=new K(0,a);b.o=new K(1,1);return b},Document:function(a,b,c){c/=0.8;a=new M;N(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);O(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);de(a);b=a.k;b.n=new K(0,0);b.o=new K(1,0.6);return b},ExternalOrganization:function(a,b,c){a=a?a.Ob:0;0.2>a&&(a=0.2);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);N(d,a*b,0,p);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);
d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);hl(d);b=d.k;b.n=new K(a/2,a/2);b.o=new K(1-a/2,1-a/2);return b},ExternalProcess:function(a,b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);de(a);N(a,0.1*b,0.4*c,p);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*c);hl(a);b=a.k;b.n=new K(0.25,0.25);b.o=new K(0.75,0.75);return b},File:function(a,b,c){a=
new M;N(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);de(a);N(a,0.75*b,0,p);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.25*c);hl(a);b=a.k;b.n=new K(0,0.25);b.o=new K(1,1);return b},Interrupt:function(a,b,c){a=new M;N(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);N(a,1*b,0.5*c,p);a.lineTo(1*b,1*c);N(a,1*b,0.5*c,p);a.lineTo(1*b,0);b=a.k;b.n=new K(0,0.25);b.o=new K(0.5,0.75);return b},InternalStorage:function(a,b,c){var d=a?a.Ob:0,a=a?a.is:0;0===d&&
(d=0.1);0===a&&(a=0.1);var e=new M;N(e,0,0,h);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);de(e);N(e,d*b,0,p);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);hl(e);b=e.k;b.n=new K(d,a);b.o=new K(1,1);return b},Junction:function(a,b,c){var a=new M,d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=0.5*Mc;N(a,1*b,0.5*c,h);O(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);O(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);O(a,0,(0.5-g)*c,(0.5-g)*b,0,0.5*b,0);O(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);N(a,(e+d)*b,(e+d)*c,p);
a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);hl(a);b=a.k;b.Rb=Yg;return b},LinedDocument:function(a,b,c){c/=0.8;a=new M;N(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);O(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);de(a);N(a,0.1*b,0,p);a.lineTo(0.1*b,0.75*c);hl(a);b=a.k;b.n=new K(0.1,0);b.o=new K(1,0.6);return b},LoopLimit:function(a,b,c){a=new M;N(a,0,1*c,h);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);de(a);b=a.k;b.n=new K(0,
0.25);b.o=new K(1,1);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){var a=new M,d=0.5*Mc;N(a,0.5*b,1*c,h);O(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);O(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.k;b.n=new K(0.15,0.15);b.o=new K(0.85,0.8);return b},ManualInput:function(a,b,c){a=new M;N(a,1*b,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,
0.25*c);de(a);b=a.k;b.n=new K(0,0.25);b.o=new K(1,1);return b},MessageFromUser:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.7);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(a*b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);b=d.k;b.n=new K(0,0);b.o=new K(a,1);return b},MicroformProcessing:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.25);var d=new M;N(d,0,0,h);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);d.lineTo(0,1*c);de(d);b=d.k;b.n=new K(0,a);b.o=new K(1,1-a);return b},MicroformRecording:function(a,
b,c){a=new M;N(a,0,0,h);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);de(a);b=a.k;b.n=new K(0,0.25);b.o=new K(1,0.75);return b},MultiDocument:function(a,b,c){c/=0.8;a=new M;N(a,b,0,h);a.lineTo(b,0.5*c);O(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);O(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);O(a,0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*
b,0.1*c);a.lineTo(0.2*b,0);de(a);N(a,0.1*b,0.2*c,p);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.44*c);hl(a);b=a.k;b.n=new K(0,0.25);b.o=new K(0.8,0.77);return b},MultiProcess:function(a,b,c){a=new M;N(a,0.1*b,0.1*c,h);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);de(a);
N(a,0.2*b,0.1*c,p);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);hl(a);b=a.k;b.n=new K(0,0.2);b.o=new K(0.8,1);return b},OfflineStorage:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=1-a,e=new M;N(e,0,0,h);e.lineTo(1*b,0);e.lineTo(0.5*b,1*c);de(e);N(e,0.5*a*b,a*c,p);e.lineTo((1-0.5*a)*b,a*c);hl(e);b=e.k;b.n=new K(d/4+0.5*a,a);b.o=new K(3*d/4+0.5*a,a+0.5*d);return b},OffPageConnector:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(0.75*b,
0);a.lineTo(1*b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);de(a);b=a.k;b.n=new K(0,0);b.o=new K(0.75,1);return b},Or:function(a,b,c){var a=new M,d=0.5*Mc;N(a,1*b,0.5*c,h);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,0.5*c,p);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);hl(a);b=a.k;b.Rb=Yg;return b},PaperTape:function(a,b,c){c/=0.8;a=new M;N(a,0,0.7*c,h);a.lineTo(0,
0.3*c);O(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);O(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);de(a);b=a.k;b.n=new K(0,0.49);b.o=new K(1,0.75);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.Ob:0,a=a?a.is:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new M;N(e,0,0,h);e.lineTo(1*b,0);e.lineTo((1-a)*b,0.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);de(e);b=e.k;b.n=new K(d,0);b.o=new K(1-a,1);return b},PrimitiveToCall:function(a,b,c){var d=a?a.Ob:0,a=a?a.is:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new M;N(e,0,0,
h);e.lineTo((1-a)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);de(e);b=e.k;b.n=new K(d,0);b.o=new K(1-a,1);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);N(d,(1-a)*b,0,p);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);hl(d);b=d.k;b.n=new K(a,0);b.o=new K(1-a,1);return b},Process:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,0,0,h);d.lineTo(1*b,
0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);de(d);N(d,a*b,0,p);d.lineTo(a*b,1*c);hl(d);b=d.k;b.n=new K(a,0);b.o=new K(1,1);return b},Sort:function(a,b,c){a=new M;N(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);de(a);N(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);hl(a);b=a.k;b.n=new K(0.25,0.25);b.o=new K(0.75,0.5);return b},Start:function(a,b,c){a=new M;N(a,0.25*b,0,h);a.lineTo(0.75*b,0);O(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);O(a,0,1*c,0,0,0.25*b,0);N(a,0.25*b,0,p);a.lineTo(0.25*
b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);hl(a);b=a.k;b.n=new K(0.25,0);b.o=new K(0.75,1);return b},Terminator:function(a,b,c){a=new M;N(a,0.25*b,0,h);a.lineTo(0.75*b,0);O(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);O(a,0,1*c,0,0,0.25*b,0);b=a.k;b.n=new K(0.23,0);b.o=new K(0.77,1);return b},TransmittalTape:function(a,b,c){a=a?a.Ob:0;0===a&&(a=0.1);var d=new M;N(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)*c);d.lineTo(0,(1-a)*c);de(d);b=d.k;b.n=new K(0,0);b.o=new K(1,
1-a);return b},AndGate:function(a,b,c){var a=new M,d=0.5*Mc;N(a,0,0,h);a.lineTo(0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);a.lineTo(0,1*c);de(a);b=a.k;b.n=new K(0,0);b.o=new K(0.55,1);return b},Buffer:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);de(a);b=a.k;b.n=new K(0,0.25);b.o=new K(0.5,0.75);return b},Clock:function(a,b,c){var a=new M,d=0.5*Mc;N(a,1*b,0.5*c,h);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*
c,0,(0.5+d)*c,0,0.5*c);O(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,0.5*c,p);a.lineTo(1*b,0.5*c);N(a,0.8*b,0.75*c,p);a.lineTo(0.8*b,0.25*c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);hl(a);b=a.k;b.Rb=Yg;return b},Ground:function(a,b,c){a=new M;N(a,0.5*b,0,p);a.lineTo(0.5*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*
c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);return a.k},Inverter:function(a,b,c){var a=new M,d=0.1*Mc;N(a,0.8*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);N(a,1*b,0.5*c,h);O(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);O(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);O(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);O(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.k;b.n=new K(0,0.25);b.o=new K(0.4,0.75);return b},NandGate:function(a,b,c){var a=new M,d=0.5*Mc,e=0.4*Mc,g=0.1*Mc;N(a,
0.8*b,0.5*c,h);O(a,0.8*b,(0.5+e)*c,(0.4+d)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);O(a,(0.4+d)*b,0,0.8*b,(0.5-e)*c,0.8*b,0.5*c);N(a,1*b,0.5*c,h);O(a,1*b,(0.5+g)*c,(0.9+g)*b,0.6*c,0.9*b,0.6*c);O(a,(0.9-g)*b,0.6*c,0.8*b,(0.5+g)*c,0.8*b,0.5*c);O(a,0.8*b,(0.5-g)*c,(0.9-g)*b,0.4*c,0.9*b,0.4*c);O(a,(0.9+g)*b,0.4*c,1*b,(0.5-g)*c,1*b,0.5*c);b=a.k;b.n=new K(0,0.05);b.o=new K(0.55,0.95);return b},NorGate:function(a,b,c){var a=new M,d=0.5,e=Mc*d,g=0,i=0.5;N(a,0.8*b,0.5*c,h);O(a,0.7*
b,(i+e)*c,(g+e)*b,(i+d)*c,0,1*c);O(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);O(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*Mc;g=0.9;i=0.5;N(a,(g-d)*b,i*c,h);O(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);O(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);O(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);O(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.k;b.n=new K(0.2,0.25);b.o=new K(0.6,0.75);return b},OrGate:function(a,b,c){var a=new M,d=0.5*Mc;N(a,0,0,h);O(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*
c,1*b,0.5*c);O(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);O(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);de(a);b=a.k;b.n=new K(0.2,0.25);b.o=new K(0.75,0.75);return b},XnorGate:function(a,b,c){var a=new M,d=0.5,e=Mc*d,g=0.2,i=0.5;N(a,0.1*b,0,p);O(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);N(a,0.8*b,0.5*c,h);O(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0.2*b,1*c);O(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);O(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*Mc;g=0.9;i=0.5;N(a,(g-d)*b,i*c,h);O(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-
d)*c,g*b,(i-d)*c);O(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);O(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);O(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.k;b.n=new K(0.4,0.25);b.o=new K(0.65,0.75);return b},XorGate:function(a,b,c){var a=new M,d=0.5*Mc;N(a,0.1*b,0,p);O(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);N(a,0.2*b,0,h);O(a,(0.2+d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);O(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);O(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);de(a);b=a.k;b.n=new K(0.4,0.25);
b.o=new K(0.8,0.75);return b},Capacitor:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},Resistor:function(a,b,c){a=new M;N(a,0,0.5*c,p);a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);return a.k},Inductor:function(a,b,c){var a=new M,d=0.1*Mc,e=0.1,g=0.5;N(a,(e-0.5*d)*b,(g+0.1)*c,p);O(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.3;g=0.5;O(a,(e+0.1)*
b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);O(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);g=e=0.5;O(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);O(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.7;g=0.5;O(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);O(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.9;g=0.5;O(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,(e+0.5*d)*b,(g+0.1)*c);return a.k},ACvoltageSource:function(a,b,c){var a=new M,d=0.5*Mc;N(a,0*b,0.5*
c,p);O(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);O(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*b,0.5*c);O(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.k;b.Rb=Yg;return b},DCvoltageSource:function(a,b,c){a=new M;N(a,0,0.75*c,p);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},Diode:function(a,b,c){a=new M;N(a,1*b,0,p);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);a.lineTo(1*
b,1*c);b=a.k;b.n=new K(0,0.25);b.o=new K(0.5,0.75);return b},Wifi:function(a,b,c){var d=b,e=c,b=0.38*b,c=0.6*c,a=new M,g=0.8*Mc,i=0.8,j=0,k=0.5,d=(d-b)/2,e=(e-c)/2;N(a,j*b+d,(k+i)*c+e,h);O(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);O(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);O(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);O(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);de(a);g=0.4*Mc;i=0.4;j=0.2;k=0.5;N(a,j*b+d,(k+i)*c+e,h);O(a,
(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);O(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);O(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);O(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);de(a);g=0.2*Mc;i=0.2;k=j=0.5;N(a,(j-i)*b+d,k*c+e,h);O(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);O(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);O(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);O(a,(j-g)*b+d,(k+
i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);g=0.4*Mc;i=0.4;j=0.8;k=0.5;N(a,j*b+d,(k-i)*c+e,h);O(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);O(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);O(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);O(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);de(a);g=0.8*Mc;i=0.8;j=1;k=0.5;N(a,j*b+d,(k-i)*c+e,h);O(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);O(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*
c+e,j*b+d,(k+i)*c+e);O(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);O(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);de(a);return a.k},Email:function(a,b,c){a=new M;N(a,0,0,h);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);de(a);N(a,0,0,p);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);hl(a);return a.k},Ethernet:function(a,b,c){a=new M;N(a,0.35*b,0,h);a.lineTo(0.65*b,0);a.lineTo(0.65*
b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);de(a);N(a,0.1*b,1*c,h,h);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);de(a);N(a,0.6*b,1*c,h,h);a.lineTo(0.9*b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);de(a);N(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25*b,0.6*c);hl(a);return a.k},Power:function(a,b,c){var a=new M,d=0.4*
Mc,e=0.4,g=new E(0,0),i=new E(0,0),j=new E(0,0),k=new E(0,0);new E(0,0);il(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);new E(i.x,i.y);N(a,i.x*b,i.y*c,h);O(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);O(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);O(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);il(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);O(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);d=0.3*Mc;e=0.3;il(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,
j,k,i,g,g);a.lineTo(i.x*b,i.y*c);O(a,k.x*b,k.y*c,j.x*b,j.y*c,(0.5-e)*b,0.5*c);O(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);O(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);il(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);O(a,k.x*b,k.y*c,j.x*b,j.y*c,i.x*b,i.y*c);de(a);N(a,0.45*b,0,h);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);de(a);b=a.k;b.n=new K(0.25,0.55);b.o=new K(0.75,0.8);return b},Fallout:function(a,b,c){var a=new M,d=0.5*Mc;N(a,
0*b,0.5*c,h);O(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);O(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var e=d=0;N(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.4;e=0;de(a);N(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.2;e=-0.3;de(a);N(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+
d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);de(a);b=a.k;b.Rb=Yg;return b},IrritationHazard:function(a,b,c){a=new M;N(a,0.2*b,0*c,h);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b,0.5*c);a.lineTo(0*b,0.2*c);de(a);b=a.k;b.n=new K(0.3,0.3);b.o=new K(0.7,0.7);return b},ElectricalHazard:function(a,b,c){a=new M;N(a,0.37,
0*c,h);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);de(a);return a.k},FireHazard:function(a,b,c){a=new M;N(a,0.1*b,1*c,h);O(a,-0.25*b,0.63*c,0.45*b,0.44*c,0.29*b,0*c);O(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);O(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);O(a,0.8*b,0.34*c,0.88*b,0.43*c,0.75*
b,0.6*c);O(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);O(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);de(a);b=a.k;b.n=new K(0.05,0.645);b.o=new K(0.884,0.908);return b},BpmnActivityLoop:function(a,b,c){var a=new M,d=0.5*(4*(Math.SQRT2-1)/3);N(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,p);O(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);O(a,1*b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);O(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);O(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*c);a.moveTo(0.35*b,0.8*c);
a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);return a.k},BpmnActivityParallel:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},BpmnActivitySequential:function(a,b,c){a=new M;N(a,0,0,p);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);return a.k},BpmnActivityAdHoc:function(a,b,c){a=new M;N(a,0,0,p);N(a,1*b,1*c,p);N(a,0,0.5*c,p);O(a,0.2*b,0.35*c,0.3*b,0.35*c,0.5*b,0.5*c);O(a,0.7*
b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);return a.k},BpmnActivityCompensation:function(a,b,c){a=new M;N(a,0,0.5*c,h);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*b,1*c);de(a);return a.k},BpmnTaskMessage:function(a,b,c){a=new M;N(a,0,0.2*c,h);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);de(a);N(a,0,0.2*c,p);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);hl(a);return a.k},BpmnTaskScript:function(a,b,c){a=new M;N(a,0.7*
b,1*c,h);a.lineTo(0.3*b,1*c);O(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);O(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);de(a);N(a,0.45*b,0.73*c,p);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*b,0.27*c);a.lineTo(0.56*b,0.27*c);hl(a);return a.k},BpmnTaskUser:function(a,b,c){a=new M;N(a,0,0,p);N(a,0.335*b,(1-0.555)*c,h);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);O(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);a.lineTo(0,0.68*c);O(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;O(a,(0.5-(e+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*b,(d+g)*c,(0.5-d)*b,d*c);O(a,(0.5-d)*b,(d-g)*c,(0.5-e)*b,(d-d)*c,0.5*b,(d-d)*c);O(a,(0.5+e)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);O(a,(0.5+d)*b,(d+g)*c,(0.5+(e+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*c);a.lineTo(0.665*b,0.595*
c);a.lineTo(0.335*b,0.595*c);N(a,0.2*b,1*c,p);a.lineTo(0.2*b,0.8*c);N(a,0.8*b,1*c,p);a.lineTo(0.8*b,0.8*c);return a.k},BpmnEventConditional:function(a,b,c){a=new M;N(a,0.1*b,0,h);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*b,1*c);de(a);N(a,0.2*b,0.2*c,p);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);hl(a);return a.k},BpmnEventError:function(a,b,c){a=new M;N(a,0,1*c,h);a.lineTo(0.33*b,
0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);de(a);return a.k},BpmnEventEscalation:function(a,b,c){a=new M;N(a,0,0,p);N(a,1*b,1*c,p);N(a,0.1*b,1*c,h);a.lineTo(0.5*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.5*c);de(a);return a.k},BpmnEventTimer:function(a,b,c){var a=new M,d=0.5*Mc;N(a,1*b,0.5*c,h);O(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);O(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);O(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);O(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(a,
0.5*b,0,p);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58*b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*b,0.54*c);hl(a);b=a.k;b.Rb=Yg;return b}},ql;for(ql in Sk)Sk[ql.toLowerCase()]=ql;
var rl={None:"",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",OpenTriangle:"m 0,0 l 8,4 -8,4",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",Line:"m 0,0 l 0,8",
DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",
BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 12,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -4 0 4 z",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",
HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",
ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 -8,-4 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 -8,0 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",Fork:"m 0,4 l 8,0 m -6,0 l 6,-4 m -6,4 l 6,4",CircleFork:"F1 m 6,3 b 0 360 -3 0 3 m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",
LineFork:"m 0,0 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",CircleLine:"F1 m 8 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",CircleLineFork:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m 4 -4 l 0 8",OpenTriangleTop:"m 0,0 l 8,4 -8,0 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4 -8,0",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",
OpenTriangleLine:"m 0,0 8,4 -8,4 m 8.5,0 l 0,-8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z",ForwardSlash:"m 0,8 l 5,-8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",BackSlash:"m 0,0 l 5,8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",
BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3"},Qk,sl={},tl;for(tl in Sk){var ul=Sk[tl];"string"===typeof ul&&(ul=Sk[ul]);"string"===typeof ul&&(ul=Sk[ul]);ul&&(sl[tl]=ul(m,100,100));sl[tl].Oe()}Qk=sl;var vl={};function Rk(a){if(rl){for(var b in rl){var c=be(rl[b],p);vl[b]=c;vl[b.toLowerCase()]=b}rl=f}return vl[a]}W.FigureGenerators=Sk;W.ArrowheadGeometries=vl;
function R(a){0===arguments.length?w.call(this):w.call(this,a);this.Lm=this.Fj="";this.Op=m;this.tq=this.jq=this.xp=this.ar=this.dp=this.Ro=h;this.Eq=this.zq=this.yq=p;this.Wm=h;this.Rq="";this.Oq=h;this.lk=this.Fq=this.Aq=this.Pq=m;this.jt=p;this.Bg=this.Qq=m;this.Cq="";this.rl=m;this.Bq=(new L(NaN,NaN)).freeze();this.Gq="";this.sl=m;this.sd="";this.Cp=h;this.w=this.Qo=this.Ij=m;this.Ei=(new E(NaN,NaN)).freeze();this.pt=new E(NaN,NaN);this.Xp="";this.Fi=m;this.Yp=nc;this.eq=Yc;this.$p=Zc;this.ep=
m;this.Dp=h;this.Pp=wl;this.ag=p;this.Zm=(new E(6,6)).freeze();this.Ym="gray";this.Xm=4;this.wE=-1;this.Bi=h;this.Jt=this.ff=p}u.J("Part",R);u.va(R,w);
R.prototype.pb=function(a){w.prototype.pb.call(this,a);a.Fj=this.Fj;a.Lm=this.Lm;a.Op=this.Op;a.Ro=this.Ro;a.dp=this.dp;a.ar=this.ar;a.xp=this.xp;a.jq=this.jq;a.tq=this.tq;a.yq=this.yq;a.zq=this.zq;a.Eq=this.Eq;a.Wm=this.Wm;a.Rq=this.Rq;a.Oq=this.Oq;a.Pq=this.Pq;a.Aq=this.Aq;a.Fq=this.Fq;a.jt=p;a.Qq=this.Qq;a.Bg=m;a.Cq=this.Cq;a.Bq.Xa(this.Bq);a.Gq=this.Gq;a.sd=this.sd;a.Cp=this.Cp;a.Qo=this.Qo;a.Ei.Xa(this.Ei);a.Xp=this.Xp;a.Yp=this.Yp.F();a.eq=this.eq.F();a.$p=this.$p.F();a.ep=this.ep;a.Dp=this.Dp;
a.Pp=this.Pp;a.ag=this.ag;a.Zm.Xa(this.Zm);a.Ym=this.Ym;a.Xm=this.Xm};R.prototype.lh=function(a){w.prototype.lh.call(this,a);nj(a);a.lk=m;a.rl=m;a.sl=m;a.Fi=m};R.prototype.toString=function(){var a=u.cj(Object.getPrototypeOf(this))+"#"+u.qc(this);this.data&&(a+="("+De(this.data)+")");return a};
R.prototype.dumpReferences=R.prototype.bC=function(){u.trace("References for "+this);this.za&&u.trace("  "+this.za.toString()+' LayerName: "'+this.Id+'"');this.oo!==this&&u.trace("  SelectionObject: "+this.oo.toString()+' SelectionObjectName: "'+this.po+'"');this.Eb!==this&&u.trace("  LocationObject: "+this.Eb.toString()+' LocationObjectName: "'+this.Yr+'"');if(this.Bg){for(var a="",b=this.Bg.f;b.next();)a+=b.key+" ";u.trace("  Adornments: "+a)}this.Za&&u.trace("  ContainingGroup: "+this.Za.toString());
if(this instanceof U){if(this.wc)for(b=this.wc.f;b.next(););if(0<this.pe.count){a="";for(b=this.pe;b.next();)a+=b.value.toString()+", ";u.trace("  Links: "+a)}this.oe&&u.trace("  LabeledLink: "+this.oe.toString());if(this instanceof tf){u.trace("  Placeholder: "+this.placeholder);a="";for(b=this.sc;b.next();)a+=b.value.toString()+", ";u.trace("  Members: "+a);a="";for(b=this.ll.f;b.next();)a+=b.value.toString()+", ";u.trace("  NestedGroups: "+a);u.trace("  Layout: "+this.Cb)}}else if(this instanceof
V){u.trace("  Path: "+this.path);u.trace("  From: "+this.ja+" "+this.Nc+' "'+this.qh+'"');u.trace("  To: "+this.na+" "+this.wd+' "'+this.ri+'"');a="";for(b=this.oi;b.next();)a+=b.value.toString()+", ";u.trace("  LabelNodes: "+a)}};R.LayoutNone=0;var zi;R.LayoutAdded=zi=1;var Ei;R.LayoutRemoved=Ei=2;var Hj;R.LayoutShown=Hj=4;var Kj;R.LayoutHidden=Kj=8;R.LayoutNodeSized=16;var Ji;R.LayoutGroupLayout=Ji=32;var wl;R.LayoutStandard=wl=zi|Ei|Hj|Kj|16|Ji;
R.prototype.Ag=function(){w.prototype.Ag.call(this);var a=this.b;a!==m&&this.Rl&&(Ui(a,"shadowOffset",this.GD),Ui(a,"shadowColor",this.shadowColor),Ui(a,"shadowBlur",this.shadowBlur))};R.prototype.Xl=function(a,b,c,d,e,g,i){var j=this.b;j!==m&&(a===Be&&"elements"===b?e instanceof w&&Ai(e,e,function(a){Bi(j,a)}):a===Ce&&"elements"===b&&e instanceof w&&Ai(e,e,function(a){Di(j,a)}),j.ae(a,b,c,d,e,g,i))};
R.prototype.updateTargetBindings=R.prototype.tc=function(a){w.prototype.tc.call(this,a);if(this.data!==m)for(a=this.elements;a.next();){var b=a.value;b instanceof w&&Ai(b,b,function(a){a.data!==m&&a.tc()})}};u.m(R,{QE:"adornments"},function(){return this.Bg===m?m:this.Bg.f});R.prototype.findAdornment=R.prototype.Hn=function(a){t&&u.e(a,"string",R,"findAdornment:category");var b=this.Bg;return b===m?m:b.ga(a)};
R.prototype.addAdornment=R.prototype.nn=function(a,b){if(b!==m){t&&(u.e(a,"string",R,"addAdornment:category"),u.c(b,sf,R,"addAdornment:ad"));var c=m,d=this.Bg;d!==m&&(c=d.ga(a));if(c!==b){if(c!==m){var e=c.za;e!==m&&e.Gd(-1,c)}d===m&&(this.Bg=d=new sa("string",sf));d.add(a,b);c=this.b;c!==m&&(d=c.aj("Adornment"),d===m&&(d=c.aj("")),d!==m&&(d.xk(99999999,b),b.data=this.data))}}};
R.prototype.removeAdornment=R.prototype.Zl=function(a){t&&u.e(a,"string",R,"removeAdornment:category");var b=this.Bg;if(b!==m){var c=b.ga(a);if(c!==m){var d=c.za;d!==m&&d.Gd(-1,c)}b.remove(a);0===b.count&&(this.Bg=m)}};R.prototype.clearAdornments=R.prototype.jh=function(){var a=this.Bg;if(a!==m){for(var b=[],a=a.f;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.Zl(b[c])}};
R.prototype.updateAdornments=R.prototype.ti=function(){a:{var a=this.b;if(a!==m){var b=m;if(this.Ka&&this.BD){var c=this.oo;if(c!==m&&this.ib()&&c.zk()&&c.pa.ca()){b=this.Hn("Selection");if(b===m){b=this.CD;b===m&&(this instanceof V?b=a.MC:this instanceof R&&(b=this instanceof tf?a.pC:a.$C));if(!(b instanceof sf))break a;vf(b);b=b.copy();if(!(b instanceof sf))break a;b.td="Selection";b.Rd=c}if(b!==m){a=b.placeholder;if(a!==m){var d=c.Ll(),e=0;c instanceof W&&(e=c.Wa);a.ta=new L((c.qa.width+e)*d,(c.qa.height+
e)*d)}else this instanceof V&&(a=b.oa,a=Dk(b,a,a.length),d=this.path,a instanceof W&&d===c&&(d=c.Ba,xi(this),d=c.Ba,a.Nr=d,0===a.Wa&&(a.Wa=c.Wa)));b.Va=c.Nn();b.type!==Dg&&(b.location=c.Db(nc))}}this.nn("Selection",b)}else this.Zl("Selection")}}c=this.b;if(c!==m){c=c.Xb.re.j;b=c.length;for(a=0;a<b;a++)d=c[a],d.isEnabled&&d.updateAdornments(this)}};u.m(R,{za:"layer"},s("w"));u.m(R,{b:"diagram"},function(){var a=this.w;return a!==m?a.b:m});u.a(R,"layerName",R.prototype.Id);
u.defineProperty(R,{Id:"layerName"},s("Lm"),function(a){var b=this.Lm;if(b!==a&&(u.e(a,"string",R,"layerName"),this.Lm=a,this.d("layerName",b,a),b=this.za,b!==m&&b.name!==a)){var c=b.b;if(c!==m&&(a=c.aj(a),a!==m&&a!==b)){var d=b.Gd(-1,this,h);0<=d&&c.ae(Ce,"parts",b,this,m,d,h);d=a.xk(99999999,this,h);0<=d&&c.ae(Be,"parts",a,m,this,h,d);d=this.Wr;if(d!==m){var e=c.Ca;c.Ca=h;d(this,b,a);c.Ca=e}}}});u.a(R,"layerChanged",R.prototype.Wr);
u.defineProperty(R,{Wr:"layerChanged"},s("Op"),function(a){var b=this.Op;b!==a&&(a!==m&&u.e(a,"function",R,"layerChanged"),this.Op=a,this.d("layerChanged",b,a))});u.a(R,"location",R.prototype.location);u.defineProperty(R,{location:"location"},s("Ei"),function(a){var b=this.Ei;if(!b.z(a)){t&&u.c(a,E,R,"location");this.Ei=a=a.F();if(this.Jc===p){var c=this.qb,d=this.pt,e=c.copy();c.Od(a.x-d.x,a.y-d.y);c.z(e)||this.d("position",e,c);Mj(this)}this.d("location",b,a)}});
function Mj(a){if(a.Bi===p){var b=a.b;b!==m&&(b.Og.add(a),a instanceof U&&!b.ia.hb&&a.zf(),xf(b));a.Bi=h}}function xl(a){if(a.Bi!==p){var b=a.qb,c=a.lb,d=c.copy();c.wa();c.x=b.x;c.y=b.y;c.freeze();lj(a,d,c);a.Bi=p}}u.m(R,{Eb:"locationObject"},function(){if(this.Fi===m){var a=this.Yr;a!==f&&a!==m&&""!==a?(a=this.Te(a),this.Fi=a!==m?a:this):this.Fi=this}return this.Fi.visible?this.Fi:this});u.a(R,"minLocation",R.prototype.VC);
u.defineProperty(R,{VC:"minLocation"},s("eq"),function(a){var b=this.eq;b.z(a)||(t&&u.c(a,E,R,"minLocation"),this.eq=a=a.F(),this.d("minLocation",b,a))});u.a(R,"maxLocation",R.prototype.PC);u.defineProperty(R,{PC:"maxLocation"},s("$p"),function(a){var b=this.$p;b.z(a)||(t&&u.c(a,E,R,"maxLocation"),this.$p=a=a.F(),this.d("maxLocation",b,a))});u.a(R,"locationObjectName",R.prototype.Yr);
u.defineProperty(R,{Yr:"locationObjectName"},s("Xp"),function(a){var b=this.Xp;b!==a&&(t&&u.e(a,"string",R,"locationObjectName"),this.Xp=a,this.Fi=m,vj(this),this.d("locationObjectName",b,a))});u.a(R,"locationSpot",R.prototype.Df);u.defineProperty(R,{Df:"locationSpot"},s("Yp"),function(a){var b=this.Yp;b.z(a)||(t&&(u.c(a,K,R,"locationSpot"),Zb(a)||u.g("Part.locationSpot must be a specific Spot value, not: "+a)),this.Yp=a=a.F(),vj(this),this.d("locationSpot",b,a))});
R.prototype.move=R.prototype.move=function(a){this.position=a;this.Jc===p&&xl(this)};
R.prototype.isVisible=R.prototype.ib=function(){if(!this.hh)return p;var a=this.za;if(a!==m&&!a.visible)return p;var b=this.Za;if(b!==m&&!b.ne)return p;if(this instanceof U){if(a!==m)if(a.b.Cf)for(a=this.Se();a.next();){if(b=a.value,b=b.ja,b!==m&&!b.Zd)return p}else for(a=this.Gr();a.next();)if(b=a.value,b=b.na,b!==m&&!b.Zd)return p;a=this.oe;if(a!==m&&!a.ib())return p}else if(this instanceof V){b=this.ja;if(b!==m&&yl(b)===m)return p;b=this.na;if(b!==m&&yl(b)===m)return p}return h};
function zl(a,b,c){fc(c)&&(c=qc);var d=b.qa;if(b===m||b===a)return new E(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);c=new E(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);b.transform.Fb(c);for(b=b.W;b!==m&&b!==a;)b.transform.Fb(c),b=b.W;a.Pm.Fb(c);c.offset(-a.Lc.x,-a.Lc.y);return c}R.prototype.ensureBounds=R.prototype.ji=function(){yh(this,Infinity,Infinity);this.Ac()};
R.prototype.Ac=function(){kj(this);if(this.Jc===p)xl(this);else{this instanceof sf&&(this.M!==Dg&&this.fb!==m)&&(this.Fi=this.fb);var a=this.WA;a.set(this.lb);tj(this);this.lb.wa();var b=this.ff;this.Ri(0,0,this.Lc.width,this.Lc.height);var c=NaN,d=NaN,e=this.Df,g=this.Eb;fc(e)&&u.g("Spot must be real: "+e.toString());var i=g.qa,j=this.pt;j.$l(0,0,i.width,i.height,e);if(g!==this){g.transform.Fb(j);g.Wa&&(e=g.Pd/2,j.offset(-e,-e));for(g=g.W;g!==m&&g!==this;)g.transform.Fb(j),g=g.W}this.Pm.Fb(j);j.offset(-this.Lc.x,
-this.Lc.y);j=this.pt;g=this.position;e=this.location;e.ca()?(c=e.x-j.x,d=e.y-j.y,g.copy(),g.Od(c,d)):g.ca()&&(c=g.x,d=g.y,e.copy(),e.Od(c+j.x,d+j.y));j=this.lb;j.x=c;j.y=d;j.freeze();kj(this);lj(this,a,j);a.z(j)?this.ff=b:(this instanceof U||this.constructor===R)&&(!nb(a.width,j.width)||!nb(a.height,j.height))&&this.v(16);this.Bi=p}};
function Ci(a,b){a.Jt=p;var c=a.b;if(c!==m){a.updateAdornments();var d=a.QE;if(d!==m){kj(a);for(tj(a);d.next();)yh(d.value,Infinity,Infinity),d.value.Ac()}a instanceof U&&Ri(c,a);!a.za.Yc&&!b&&ri(c);var d=a.lb,e=c.ub;e.ca()?a.ff?d.Ve(e)||(a.ff=p,Dh(c)):d.Ve(e)&&(a.ff=h):c.Im=h;a.lb.ca()&&Dh(c,a.lb)}}R.prototype.yk=ca(h);u.a(R,"isInDocumentBounds",R.prototype.$u);
u.defineProperty(R,{$u:"isInDocumentBounds"},s("Cp"),function(a){var b=this.Cp;b!==a&&(t&&u.e(a,"boolean",R,"isInDocumentBounds"),this.Cp=a,this.d("isInDocumentBounds",b,a))});u.a(R,"category",R.prototype.td);
u.defineProperty(R,{td:"category"},s("Fj"),function(a){var b=this.Fj;if(b!==a){u.e(a,"string",R,"category");this.Fj=a;this.d("category",b,a);var b=this.b,c=this.data;if(b!==m&&c!==m){var d=b.S;this instanceof V?(d instanceof P&&d.ED(c,a),b=b.findTemplateForLinkData(c,a),b instanceof V&&(vf(b),b=b.copy(),b instanceof V&&Al(this,b,a))):this instanceof sf||(d!==m&&d.fz(c,a),b=b.findTemplateForNodeData(c,a),b instanceof R&&(vf(b),b=b.copy(),b instanceof R&&Al(this,b,a)))}}});
function Al(a,b,c){a.jh();var d=a.data,e=a.Id,g=a.Ka;b.lh(a);b.pb(a);a.Fj=c;a.L();pj(a);b=a.b;c=h;b!==m&&(c=b.tb,b.tb=h);a.sm=d;d!==m&&a.tc();b!==m&&(b.tb=c);d=a.Id;d!==e&&(a.Lm=e,a.Id=d);a.Ka=g}R.prototype.canCopy=R.prototype.HH=function(){if(!this.EB)return p;var a=this.za;if(a===m)return h;if(!a.Zh)return p;a=a.b;return a===m?h:!a.Zh?p:h};R.prototype.canDelete=R.prototype.LH=function(){if(!this.OB)return p;var a=this.za;if(a===m)return h;if(!a.ok)return p;a=a.b;return a===m?h:!a.ok?p:h};
R.prototype.canEdit=R.prototype.NH=function(){if(!this.MD)return p;var a=this.za;if(a===m)return h;if(!a.yn)return p;a=a.b;return a===m?h:!a.yn?p:h};R.prototype.canGroup=R.prototype.RH=function(){if(!this.qC)return p;var a=this.za;if(a===m)return h;if(!a.sn)return p;a=a.b;return a===m?h:!a.sn?p:h};R.prototype.canMove=R.prototype.UH=function(){if(!this.YC)return p;var a=this.za;if(a===m)return h;if(!a.pk)return p;a=a.b;return a===m?h:!a.pk?p:h};
R.prototype.canPrint=R.prototype.mF=function(){if(!this.fD)return p;var a=this.za;if(a===m)return h;if(!a.un)return p;a=a.b;return a===m?h:!a.un?p:h};R.prototype.canReshape=R.prototype.ZH=function(){if(!this.oD)return p;var a=this.za;if(a===m)return h;if(!a.vn)return p;a=a.b;return a===m?h:!a.vn?p:h};R.prototype.canResize=R.prototype.$H=function(){if(!this.pD)return p;var a=this.za;if(a===m)return h;if(!a.wn)return p;a=a.b;return a===m?h:!a.wn?p:h};
R.prototype.canRotate=R.prototype.aI=function(){if(!this.uD)return p;var a=this.za;if(a===m)return h;if(!a.xn)return p;a=a.b;return a===m?h:!a.xn?p:h};R.prototype.canSelect=R.prototype.Vx=function(){if(!this.Ek)return p;var a=this.za;if(a===m)return h;if(!a.Sd)return p;a=a.b;return a===m?h:!a.Sd?p:h};u.a(R,"copyable",R.prototype.EB);u.defineProperty(R,{EB:"copyable"},s("Ro"),function(a){var b=this.Ro;b!==a&&(t&&u.e(a,"boolean",R,"copyable"),this.Ro=a,this.d("copyable",b,a))});u.a(R,"deletable",R.prototype.OB);
u.defineProperty(R,{OB:"deletable"},s("dp"),function(a){var b=this.dp;b!==a&&(t&&u.e(a,"boolean",R,"deletable"),this.dp=a,this.d("deletable",b,a))});u.a(R,"textEditable",R.prototype.MD);u.defineProperty(R,{MD:"textEditable"},s("ar"),function(a){var b=this.ar;b!==a&&(t&&u.e(a,"boolean",R,"textEditable"),this.ar=a,this.d("textEditable",b,a),this.updateAdornments())});u.a(R,"groupable",R.prototype.qC);
u.defineProperty(R,{qC:"groupable"},s("xp"),function(a){var b=this.xp;b!==a&&(t&&u.e(a,"boolean",R,"groupable"),this.xp=a,this.d("groupable",b,a))});u.a(R,"movable",R.prototype.YC);u.defineProperty(R,{YC:"movable"},s("jq"),function(a){var b=this.jq;b!==a&&(t&&u.e(a,"boolean",R,"movable"),this.jq=a,this.d("movable",b,a))});u.a(R,"printable",R.prototype.fD);
u.defineProperty(R,{fD:"printable"},s("tq"),function(a){var b=this.tq;b!==a&&(t&&u.e(a,"boolean",R,"printable"),this.tq=a,this.d("printable",b,a))});u.a(R,"reshapable",R.prototype.oD);u.defineProperty(R,{oD:"reshapable"},s("yq"),function(a){var b=this.yq;b!==a&&(t&&u.e(a,"boolean",R,"reshapable"),this.yq=a,this.d("reshapable",b,a),this.updateAdornments())});u.a(R,"resizable",R.prototype.pD);
u.defineProperty(R,{pD:"resizable"},s("zq"),function(a){var b=this.zq;b!==a&&(t&&u.e(a,"boolean",R,"resizable"),this.zq=a,this.d("resizable",b,a),this.updateAdornments())});u.a(R,"rotatable",R.prototype.uD);u.defineProperty(R,{uD:"rotatable"},s("Eq"),function(a){var b=this.Eq;b!==a&&(t&&u.e(a,"boolean",R,"rotatable"),this.Eq=a,this.d("rotatable",b,a),this.updateAdornments())});u.a(R,"selectable",R.prototype.Ek);
u.defineProperty(R,{Ek:"selectable"},s("Wm"),function(a){var b=this.Wm;b!==a&&(t&&u.e(a,"boolean",R,"selectable"),this.Wm=a,this.d("selectable",b,a),this.updateAdornments())});u.a(R,"selectionObjectName",R.prototype.po);u.defineProperty(R,{po:"selectionObjectName"},s("Rq"),function(a){var b=this.Rq;b!==a&&(t&&u.e(a,"string",R,"selectionObjectName"),this.Rq=a,this.lk=m,this.d("selectionObjectName",b,a))});u.a(R,"selectionAdorned",R.prototype.BD);
u.defineProperty(R,{BD:"selectionAdorned"},s("Oq"),function(a){var b=this.Oq;b!==a&&(t&&u.e(a,"boolean",R,"selectionAdorned"),this.Oq=a,this.d("selectionAdorned",b,a),this.updateAdornments())});u.a(R,"selectionAdornmentTemplate",R.prototype.CD);u.defineProperty(R,{CD:"selectionAdornmentTemplate"},s("Pq"),function(a){var b=this.Pq;b!==a&&(t&&u.c(a,sf,R,"selectionAdornmentTemplate"),this instanceof V&&(a.type=Dg),this.Pq=a,this.d("selectionAdornmentTemplate",b,a))});
u.m(R,{oo:"selectionObject"},function(){if(this.lk===m){var a=this.po;a!==m&&""!==a?(a=this.Te(a),this.lk=a!==m?a:this):this instanceof V?(a=this.path,this.lk=a!==m?a:this):this.lk=this}return this.lk});u.a(R,"isSelected",R.prototype.Ka);
u.defineProperty(R,{Ka:"isSelected"},s("jt"),function(a){var b=this.jt;if(b!==a){t&&u.e(a,"boolean",R,"isSelected");var c=this.b;if(!a||this.Vx()&&!(c!==m&&c.selection.count>=c.QC)){this.jt=a;var d=p;if(c!==m){d=c.tb;c.tb=h;var e=c.selection;e.wa();a?e.add(this):e.remove(this);e.freeze()}this.d("isSelected",b,a);this.updateAdornments();a=this.DD;a!==m&&a(this);c!==m&&(xf(c),c.tb=d)}}});u.a(R,"selectionChanged",R.prototype.DD);
u.defineProperty(R,{DD:"selectionChanged"},s("Qq"),function(a){var b=this.Qq;b!==a&&(a!==m&&u.e(a,"function",R,"selectionChanged"),this.Qq=a,this.d("selectionChanged",b,a))});u.a(R,"resizeAdornmentTemplate",R.prototype.qD);u.defineProperty(R,{qD:"resizeAdornmentTemplate"},s("Aq"),function(a){var b=this.Aq;b!==a&&(t&&u.c(a,sf,R,"resizeAdornmentTemplate"),this.Aq=a,this.d("resizeAdornmentTemplate",b,a))});u.a(R,"resizeObjectName",R.prototype.sD);
u.defineProperty(R,{sD:"resizeObjectName"},s("Cq"),function(a){var b=this.Cq;b!==a&&(t&&u.e(a,"string",R,"resizeObjectName"),this.Cq=a,this.rl=m,this.d("resizeObjectName",b,a))});u.m(R,{SG:"resizeObject"},function(){if(this.rl===m){var a=this.sD;a!==m&&""!==a?(a=this.Te(a),this.rl=a!==m?a:this):this.rl=this}return this.rl});u.a(R,"resizeCellSize",R.prototype.rD);
u.defineProperty(R,{rD:"resizeCellSize"},s("Bq"),function(a){var b=this.Bq;b.z(a)||(t&&u.c(a,L,R,"resizeCellSize"),this.Bq=a=a.F(),this.d("resizeCellSize",b,a))});u.a(R,"rotateAdornmentTemplate",R.prototype.vD);u.defineProperty(R,{vD:"rotateAdornmentTemplate"},s("Fq"),function(a){var b=this.Fq;b!==a&&(t&&u.c(a,sf,R,"rotateAdornmentTemplate"),this.Fq=a,this.d("rotateAdornmentTemplate",b,a))});u.a(R,"rotateObjectName",R.prototype.wD);
u.defineProperty(R,{wD:"rotateObjectName"},s("Gq"),function(a){var b=this.Gq;b!==a&&(t&&u.e(a,"string",R,"rotateObjectName"),this.Gq=a,this.sl=m,this.d("rotateObjectName",b,a))});u.m(R,{WG:"rotateObject"},function(){if(this.sl===m){var a=this.wD;a!==m&&""!==a?(a=this.Te(a),this.sl=a!==m?a:this):this.sl=this}return this.sl});u.a(R,"text",R.prototype.text);u.defineProperty(R,{text:"text"},s("sd"),function(a){var b=this.sd;b!==a&&(t&&u.e(a,"string",R,"text"),this.sd=a,this.d("text",b,a))});
u.a(R,"containingGroup",R.prototype.Za);
u.defineProperty(R,{Za:"containingGroup"},s("Ij"),function(a){if(this instanceof U||this.constructor===R){var b=this.Ij;if(b!==a){t&&a!==m&&u.c(a,tf,R,"containingGroup");if(a!==m&&(this===a||a.Ql(this)))this===a&&u.g("Cannot make a Group a member of itself: "+this.toString()),u.g("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString());this.v(Ei);var c=this.b;b!==m?Bl(b,this):this instanceof tf&&c!==m&&c.tl.remove(this);this.Ij=a;a!==m?Cl(a,this):this instanceof
tf&&c!==m&&c.tl.add(this);this.v(zi);if(c!==m){var d=this.data,e=c.S;d!==m&&e instanceof P&&e.hz(d,e.gc(a!==m?a.data:m))}d=this.gy;d!==m&&(e=h,c!==m&&(e=c.Ca,c.Ca=h),d(this,b,a),c!==m&&(c.Ca=e));if(this instanceof tf){c=new ta(R);rf(c,this,h,p);for(c=c.f;c.next();)if(d=c.value,d instanceof U)for(d=d.pe;d.next();)e=d.value,Gi(e)}if(this instanceof U)for(d=this.pe;d.next();)e=d.value,Gi(e);this.d("containingGroup",b,a);a!==m&&a.tv()}}else u.g("cannot set the Part.containingGroup of a Link or Adornment")});
function Dl(a,b){var c=a.Ij;if(c!==b){c!==m&&Bl(c,a);a.Ij=b;b!==m&&Cl(b,a);var d=a.gy;if(d!==m){var e=h,g=a.b;g!==m&&(e=g.Ca,g.Ca=h);d(a,c,b);g!==m&&(g.Ca=e)}}}function nj(a){a=a.Za;a!==m&&(a.L(),a.fb!==m&&a.fb.L(),a.zf())}R.prototype.Sr=function(){var a=this.Ij;a!==m&&Cl(a,this)};R.prototype.Tr=function(){var a=this.Ij;a!==m&&Bl(a,this)};R.prototype.Gl=function(){var a=this.data;if(a!==m){var b=this.b;b!==m&&(b=b.S,b!==m&&b.mD(a))}};u.a(R,"containingGroupChanged",R.prototype.gy);
u.defineProperty(R,{gy:"containingGroupChanged"},s("Qo"),function(a){var b=this.Qo;b!==a&&(a!==m&&u.e(a,"function",R,"containingGroupChanged"),this.Qo=a,this.d("containingGroupChanged",b,a))});u.m(R,{JK:"topLevelPart"},function(){return El(this,this)});function El(a,b){var c=b.Za;return c!==m?El(a,c):b instanceof U&&(c=b.oe,c!==m)?El(a,c):b}u.m(R,{Vr:"isTopLevel"},function(){return this.Za!==m||this instanceof U&&this.ej?p:h});
R.prototype.isMemberOf=R.prototype.Ql=function(a){return!(a instanceof tf)?p:Fl(this,this,a)};function Fl(a,b,c){if(b===c||c===m)return p;var d=b.Za;return d!==m&&(d===c||Fl(a,d,c))?h:b instanceof U&&(b=b.oe,b!==m)?Fl(a,b,c):p}R.prototype.findCommonContainingGroup=R.prototype.OF=function(a){return Gl(this,this,a)};function Gl(a,b,c){if(b===m||c===m)return m;var d=b.Za;if(d===m)return m;if(b===c)return d;var e=c.Za;return e===m?m:d===e?e:Fl(a,c,d)?d:Fl(a,b,e)?e:Gl(a,d,e)}
u.a(R,"isLayoutPositioned",R.prototype.Dy);u.defineProperty(R,{Dy:"isLayoutPositioned"},s("Dp"),function(a){var b=this.Dp;b!==a&&(t&&u.e(a,"boolean",R,"isLayoutPositioned"),this.Dp=a,this.d("isLayoutPositioned",b,a),this.v(a?Hj:Kj))});u.a(R,"layoutConditions",R.prototype.IC);u.defineProperty(R,{IC:"layoutConditions"},s("Pp"),function(a){var b=this.Pp;b!==a&&(t&&u.e(a,"number",R,"layoutConditions"),this.Pp=a,this.d("layoutConditions",b,a))});
R.prototype.canLayout=R.prototype.vr=function(){if(!this.Dy||!this.ib())return p;var a=this.za;return a!==m&&a.Yc||this instanceof U&&this.ej?p:h};R.prototype.invalidateLayout=R.prototype.v=function(a){a===f&&(a=16777215);var b;!this.Dy||0===(a&this.IC)?b=p:(b=this.za,b!==m&&b.Yc||this instanceof U&&this.ej?b=p:(b=this.b,b=b!==m&&b.ia.hb?p:h));if(b)if(b=this.Ij,b!==m){var c=b.Cb;c!==m?c.v():b.v(a)}else a=this.b,a!==m&&(c=a.Cb,c!==m&&c.v())};u.a(R,"dragComputation",R.prototype.my);
u.defineProperty(R,{my:"dragComputation"},s("ep"),function(a){var b=this.ep;b!==a&&(a!==m&&u.e(a,"function",R,"dragComputation"),this.ep=a,this.d("dragComputation",b,a))});u.a(R,"isShadowed",R.prototype.Rl);u.defineProperty(R,{Rl:"isShadowed"},s("ag"),function(a){var b=this.ag;b!==a&&(t&&u.e(a,"boolean",R,"isShadowed"),this.ag=a,pj(this),this.d("isShadowed",b,a))});u.a(R,"shadowOffset",R.prototype.GD);
u.defineProperty(R,{GD:"shadowOffset"},s("Zm"),function(a){var b=this.Zm;b.z(a)||(t&&u.c(a,E,R,"shadowOffset"),this.Zm=a=a.F(),pj(this),this.d("shadowOffset",b,a))});u.a(R,"shadowColor",R.prototype.shadowColor);u.defineProperty(R,{shadowColor:"shadowColor"},s("Ym"),function(a){var b=this.Ym;b!==a&&(t&&u.e(a,"string",R,"shadowColor"),this.Ym=a,pj(this),this.d("shadowColor",b,a))});u.a(R,"shadowBlur",R.prototype.shadowBlur);
u.defineProperty(R,{shadowBlur:"shadowBlur"},s("Xm"),function(a){var b=this.Xm;b!==a&&(t&&u.e(a,"number",R,"shadowBlur"),this.Xm=a,pj(this),this.d("shadowBlur",b,a))});function sf(a){0===arguments.length?R.call(this,bh):R.call(this,a);this.Id="Adornment";this.Aa=m;this.Wm=p;this.Ei=new E(NaN,NaN);this.Bh=new A(F);this.lc=m;this.Mc=(new A(E)).freeze();this.mu=new E;this.fb=m}u.J("Adornment",sf);u.va(sf,R);
sf.prototype.toString=function(){var a=this.rn;return"Adornment("+this.td+")"+(a!==m?a.toString():"")};sf.prototype.Mj=function(){return this.Aa&&this.Aa.aa instanceof V?this.Aa.aa.Mj():m};sf.prototype.up=ca(m);sf.prototype.Fw=function(){var a=this.rn;return a instanceof V?a.Mc:m};u.m(sf,{placeholder:"placeholder"},s("fb"));u.a(sf,"adornedObject",sf.prototype.Rd);u.defineProperty(sf,{Rd:"adornedObject"},s("Aa"),ba("Aa"));u.m(sf,{rn:"adornedPart"},function(){var a=this.Aa;return a!==m?a.aa:m});
sf.prototype.yk=function(){var a=this.Aa;if(a===m)return h;a=a.aa;return a===m||!a.Jc};u.m(sf,{Za:"containingGroup"},ca(m));
sf.prototype.Xl=function(a,b,c,d,e,g,i){if(a===Be&&"elements"===b)if(e instanceof Wg)this.fb===m?this.fb=e:this.fb!==e&&u.g("Cannot insert a second Placeholder into the visual tree of an Adornment.");else{if(e instanceof w){var j=Mk(e,e,function(a){return a instanceof Wg});j instanceof Wg&&(this.fb===m?this.fb=j:this.fb!==j&&u.g("Cannot insert a second Placeholder into the visual tree of an Adornment."))}}else a===Ce&&"elements"===b&&(d===this.fb?this.fb=m:d instanceof w&&this.fb.ni(d)&&(this.fb=
m));R.prototype.Xl.call(this,a,b,c,d,e,g,i)};sf.prototype.updateAdornments=sf.prototype.ti=aa();sf.prototype.Gl=aa();function U(a){0===arguments.length?R.call(this,bh):R.call(this,a);this.zd=new A(V);this.Km=this.Up=this.Sp=m;this.Jp=h;this.mr=p;this.hr=m;this.Ko=this.Kp=h;this.Lo=(new Hb(2)).freeze();this.wc=this.Dg=m}u.J("Node",U);u.va(U,R);U.prototype.pb=function(a){R.prototype.pb.call(this,a);a.Sp=this.Sp;a.Up=this.Up;a.Jp=this.Jp;a.mr=this.mr;a.hr=this.hr;a.Kp=this.Kp;a.Ko=this.Ko;a.Lo.Xa(this.Lo)};
U.prototype.lh=function(a){R.prototype.lh.call(this,a);a.zf();a.Dg=this.Dg;a.wc=m};var Hl;U.DirectionDefault=Hl=u.l(U,"DirectionDefault",0);U.DirectionAbsolute=u.l(U,"DirectionAbsolute",1);var Il;U.DirectionRotatedNode=Il=u.l(U,"DirectionRotatedNode",2);var bj;U.DirectionRotatedNodeOrthogonal=bj=u.l(U,"DirectionRotatedNodeOrthogonal",3);function Jl(a,b){b!==m&&(a.Dg==m&&(a.Dg=new ta(Kl)),a.Dg.add(b))}
U.prototype.Xl=function(a,b,c,d,e,g,i){a===Be&&"elements"===b?this.wc=m:a===Ce&&"elements"===b&&(this.b===m?this.wc=m:d instanceof Q&&Lk(this,d,function(a,b){Nj(a,b,h)}));R.prototype.Xl.call(this,a,b,c,d,e,g,i)};U.prototype.invalidateConnectedLinks=U.prototype.zf=function(a){a===f&&(a=m);for(var b=this.pe;b.next();){var c=b.value;if(!(a!==m&&a.contains(c))){var d=c.Nc;d!==m&&(d.rd=m);var e=c.wd;e!==m&&e!==d&&(e.rd=m);c.Vb()}}};
U.prototype.yk=function(){if(this.ej===p)return h;var a=this.oe;return a===m?h:!a.Jc};u.a(U,"avoidable",U.prototype.Tx);u.defineProperty(U,{Tx:"avoidable"},s("Ko"),function(a){var b=this.Ko;if(b!==a){t&&u.e(a,"boolean",U,"avoidable");this.Ko=a;var c=this.b;c!==m&&Ri(c,this);this.d("avoidable",b,a)}});u.a(U,"avoidableMargin",U.prototype.rB);
u.defineProperty(U,{rB:"avoidableMargin"},s("Lo"),function(a){"number"===typeof a?a=new Hb(a):u.c(a,Hb,U,"avoidableMargin");var b=this.Lo;if(!b.z(a)){this.Lo=a=a.F();var c=this.b;c!==m&&Ri(c,this);this.d("avoidableMargin",b,a)}});U.prototype.canAvoid=U.prototype.EH=function(){return this.Tx&&!this.ej};U.prototype.getAvoidableRectangle=U.prototype.bJ=function(a){a===f&&(a=new F);a.set(this.pa);a.qr(this.rB);return a};function yl(a){for(;a!==m&&!a.ib();)a=a.Za;return a}u.m(U,{pe:"linksConnected"},function(){return this.zd.f});
U.prototype.findLinksConnected=U.prototype.PF=function(a){a===f&&(a=m);if(a===m)return this.zd.f;t&&u.e(a,"string",U,"findLinksConnected:pid");var b=new Ra(this.zd),c=this;b.jv=function(b){return b.ja===c&&b.qh===a||b.na===c&&b.ri===a};return b};U.prototype.findLinksOutOf=U.prototype.Gr=function(a){a===f&&(a=m);var b=new Ra(this.zd),c=this;b.jv=function(b){return b.ja!==c?p:a===m?h:b.qh===a};return b};
U.prototype.findLinksInto=U.prototype.Se=function(a){a===f&&(a=m);var b=new Ra(this.zd),c=this;b.jv=function(b){return b.na!==c?p:a===m?h:b.ri===a};return b};
U.prototype.findNodesConnected=U.prototype.dC=function(a){a===f&&(a=m);for(var b=m,c=m,d=this.zd.f;d.next();){var e=d.value;if(e.ja===this){if(a===m||e.qh===a)e=e.na,b!==m?b.add(e):c!==m&&c!==e?(b=new ta(U),b.add(c),b.add(e)):c=e}else if(e.na===this&&(a===m||e.ri===a))e=e.ja,b!==m?b.add(e):c!==m&&c!==e?(b=new ta(U),b.add(c),b.add(e)):c=e}return b!==m?b.f:c!==m?new Qa(c):u.Of};
U.prototype.findNodesOutOf=U.prototype.Jn=function(a){a===f&&(a=m);for(var b=m,c=m,d=this.zd.f;d.next();){var e=d.value;if(e.ja===this&&(a===m||e.qh===a))e=e.na,b!==m?b.add(e):c!==m&&c!==e?(b=new ta(U),b.add(c),b.add(e)):c=e}return b!==m?b.f:c!==m?new Qa(c):u.Of};
U.prototype.findNodesInto=U.prototype.In=function(a){a===f&&(a=m);for(var b=m,c=m,d=this.zd.f;d.next();){var e=d.value;if(e.na===this&&(a===m||e.ri===a))e=e.ja,b!==m?b.add(e):c!==m&&c!==e?(b=new ta(U),b.add(c),b.add(e)):c=e}return b!==m?b.f:c!==m?new Qa(c):u.Of};u.a(U,"linkConnected",U.prototype.JC);u.defineProperty(U,{JC:"linkConnected"},s("Sp"),function(a){var b=this.Sp;b!==a&&(a!==m&&u.e(a,"function",U,"linkConnected"),this.Sp=a,this.d("linkConnected",b,a))});u.a(U,"linkDisconnected",U.prototype.KC);
u.defineProperty(U,{KC:"linkDisconnected"},s("Up"),function(a){var b=this.Up;b!==a&&(a!==m&&u.e(a,"function",U,"linkDisconnected"),this.Up=a,this.d("linkDisconnected",b,a))});function Ll(a,b,c){if(!a.zd.contains(b)){a.zd.add(b);var d=a.JC;if(d!==m){var e=h,g=a.b;g!==m&&(e=g.Ca,g.Ca=h);d(a,b,c);g!==m&&(g.Ca=e)}a.gj&&(c=h,g=a.b,g!==m&&(c=g.Cf),c?b.ja===a&&(a.gj=p):b.na===a&&(a.gj=p))}}
function Ml(a,b,c){if(a.zd.remove(b)){var d=a.KC,e=a.b;if(d!==m){var g=h;e!==m&&(g=e.Ca,e.Ca=h);d(a,b,c);e!==m&&(e.Ca=g)}!a.gj&&!(e!==m&&e.ia.hb)&&(b=a.zd.count,0===b?a.gj=h:1===b&&Ki(a))}}function Ki(a){if(0!==a.zd.count){var b=h,c=a.b;c!==m&&(b=c.Cf);for(c=a.zd.f;c.next();){var d=c.value;if(b){if(d.ja===a){a.gj=p;return}}else if(d.na===a){a.gj=p;return}}a.gj=h}}U.prototype.Sr=function(){R.prototype.Sr.call(this);Ki(this);var a=this.Km;a!==m&&Nl(a,this)};
U.prototype.Tr=function(){R.prototype.Tr.call(this);var a=this.Km;a!==m&&a.jf!==m&&(a.jf.remove(this),a.L())};U.prototype.Gl=function(){if(0<this.zd.count){var a=this.b;if(a===m)return;for(var b=this.zd.copy().f;b.next();)a.remove(b.value)}R.prototype.Gl.call(this)};u.m(U,{ej:"isLinkLabel"},function(){return this.Km!==m});u.a(U,"labeledLink",U.prototype.oe);
u.defineProperty(U,{oe:"labeledLink"},s("Km"),function(a){var b=this.Km;if(b!==a){t&&a!==m&&u.c(a,V,U,"labeledLink");var c=this.b,d=this.data;if(b!==m&&(b.jf!==m&&(b.jf.remove(this),b.L()),c!==m&&d!==m)){var e=b.data,g=c.S;if(e!==m&&g instanceof P){var i=g.gc(d);i!==f&&g.OG(e,i)}}this.Km=a;a!==m&&(Nl(a,this),c!==m&&d!==m&&(e=a.data,g=c.S,e!==m&&g instanceof P&&(i=g.gc(d),i!==f&&g.fB(e,i))));vj(this);this.d("labeledLink",b,a)}});
U.prototype.findPort=U.prototype.Ir=function(a){t&&u.e(a,"string",U,"findPort:pid");this.wc===m&&Oj(this);if(this.wc!==m){var b=this.wc.ga(a);if(b!==m)return b}if(""!==a&&this.wc!==m&&(b=this.wc.ga(""),b!==m))return b;this.wc===m&&Oj(this);return this};u.m(U,{port:"port"},function(){return this.Ir("")});u.m(U,{ports:"ports"},function(){this.wc===m&&Oj(this);return this.wc!==m?this.wc.f:u.Of});function Oj(a){a.wc!==m&&a.wc.clear();Lk(a,a,function(a,c){Pj(a,c)})}
function Pj(a,b){var c=b.se;c!==m&&(a.wc===m&&(a.wc=new sa("string",Q)),a.wc.add(c,b))}function Nj(a,b,c){var d=b.se;if(d!==m&&(a.wc!==m&&a.wc.remove(d),b=a.b,b!==m&&c)){c=m;for(a=a.PF(d);a.next();)c===m&&(c=[]),c.push(a.value);if(c!==m)for(a=0;a<c.length;a++)b.remove(c[a])}}
U.prototype.isInTreeOf=U.prototype.zJ=function(a){if(a===m||a===this)return p;var b=h,c=this.b;c!==m&&(b=c.Cf);if(b)a:{for(b=this;b!==a;){for(var c=m,d=b.Se();d.next()&&!(c=d.value.ja,c!==b););if(c===m){a=p;break a}b=c}a=h}else a:{for(b=this;b!==a;){c=m;for(d=b.Gr();d.next()&&!(c=d.value.na,c!==b););if(c===m){a=p;break a}b=c}a=h}return a};U.prototype.findTreeParts=U.prototype.$I=function(){var a=new ta(R);rf(a,this,p,h);return a};
U.prototype.collapseTree=U.prototype.yr=function(){var a=this.b;if(a!==m&&!a.Bf){a.Bf=h;var b=a.Cf,c=new ta(U);c.add(this);Ol(this,c,b);a.Bf=p}};function Ol(a,b,c){a.Zd=p;for(var d=c?a.Gr():a.Se();d.next();){var e=d.value,g=e.mC(a);g!==m&&(g!==a&&!b.contains(g))&&(b.add(g),pj(e),e.jh(),pj(g),g.jh(),nj(g),g.v(Kj),g.Zd&&(g.Av=g.Zd,Ol(g,b,c)))}}U.prototype.expandTree=U.prototype.Fr=function(){var a=this.b;if(a!==m&&!a.Bf){a.Bf=h;var b=a.Cf,c=new ta(U);c.add(this);Pl(this,c,b);a.Bf=p}};
function Pl(a,b,c){a.Zd=h;for(var d=c?a.Gr():a.Se();d.next();){var e=d.value,g=e.mC(a);g!==m&&(g!==a&&!b.contains(g))&&(b.add(g),pj(e),e.ti(),pj(g),g.ti(),nj(g),g.v(Hj),g.Av&&(g.Av=p,Pl(g,b,c)))}}u.a(U,"isTreeExpanded",U.prototype.Zd);
u.defineProperty(U,{Zd:"isTreeExpanded"},s("Jp"),function(a){var b=this.Jp;if(b!==a){t&&u.e(a,"boolean",U,"isTreeExpanded");this.Jp=a;var c=this.b;c!==m&&Dh(c);this.d("isTreeExpanded",b,a);b=this.YD;if(b!==m){var d=h;c!==m&&(d=c.Ca,c.Ca=h);b(this);c!==m&&(c.Ca=d)}c!==m&&c.ia.hb||(a?this.Fr():this.yr())}});u.a(U,"wasTreeExpanded",U.prototype.Av);
u.defineProperty(U,{Av:"wasTreeExpanded"},s("mr"),function(a){var b=this.mr;b!==a&&(t&&u.e(a,"boolean",U,"wasTreeExpanded"),this.mr=a,this.d("wasTreeExpanded",b,a))});u.a(U,"treeExpandedChanged",U.prototype.YD);u.defineProperty(U,{YD:"treeExpandedChanged"},s("hr"),function(a){var b=this.hr;b!==a&&(a!==m&&u.e(a,"function",U,"treeExpandedChanged"),this.hr=a,this.d("treeExpandedChanged",b,a))});u.a(U,"isTreeLeaf",U.prototype.gj);
u.defineProperty(U,{gj:"isTreeLeaf"},s("Kp"),function(a){var b=this.Kp;b!==a&&(t&&u.e(a,"boolean",U,"isTreeLeaf"),this.Kp=a,this.d("isTreeLeaf",b,a))});
function V(){R.call(this,Dg);this.Jg=m;this.Kg="";this.sp=m;this.Mg=ic;this.Ig=NaN;this.Hg=Hl;this.Lg=NaN;this.bh=m;this.dh="";this.gr=m;this.fh=ic;this.ah=NaN;this.$g=Hl;this.eh=NaN;this.xq=this.wq=p;this.Fo=cj;this.So=0;this.Uo=cj;this.Vo=NaN;this.Mi=ck;this.Uq=0.5;this.lc=this.jf=m;this.Mc=(new A(E)).freeze();this.lg=m;this.ul=p;this.kx=m;this.en=p;this.Sk=this.Hh=this.Ba=m;this.Md=0;this.Bh=new A(F);this.mu=new E;this.nw=p}u.J("Link",V);u.va(V,R);
V.prototype.pb=function(a){R.prototype.pb.call(this,a);a.Kg=this.Kg;a.sp=this.sp;a.Mg=this.Mg.F();a.Ig=this.Ig;a.Hg=this.Hg;a.Lg=this.Lg;a.dh=this.dh;a.gr=this.gr;a.fh=this.fh.F();a.ah=this.ah;a.$g=this.$g;a.eh=this.eh;a.wq=this.wq;a.xq=this.xq;a.Fo=this.Fo;a.So=this.So;a.Uo=this.Uo;a.Vo=this.Vo;a.Mi=this.Mi;a.Uq=this.Uq};V.prototype.lh=function(a){R.prototype.lh.call(this,a);this.Kg=a.Kg;this.dh=a.dh;a.lc=m;a.lg=m;a.Vb();a.Sk=this.Sk;a.Md=this.Md};var ck;V.Normal=ck=u.l(V,"Normal",1);var Ch;
V.Orthogonal=Ch=u.l(V,"Orthogonal",2);var Yf;V.AvoidsNodes=Yf=u.l(V,"AvoidsNodes",3);var cj;V.None=cj=u.l(V,"None",0);var Xj;V.Bezier=Xj=u.l(V,"Bezier",9);var Yj;V.JumpGap=Yj=u.l(V,"JumpGap",10);var Zj;V.JumpOver=Zj=u.l(V,"JumpOver",11);var $j;V.End=$j=u.l(V,"End",17);var ak;V.Scale=ak=u.l(V,"Scale",18);var bk;V.Stretch=bk=u.l(V,"Stretch",19);var Xk;V.OrientAlong=Xk=u.l(V,"OrientAlong",21);var Ql;V.OrientPlus90=Ql=u.l(V,"OrientPlus90",22);var Rl;V.OrientMinus90=Rl=u.l(V,"OrientMinus90",23);var Sl;
V.OrientOpposite=Sl=u.l(V,"OrientOpposite",24);var Tl;V.OrientUpright=Tl=u.l(V,"OrientUpright",25);var Ul;V.OrientPlus90Upright=Ul=u.l(V,"OrientPlus90Upright",26);var Vl;V.OrientMinus90Upright=Vl=u.l(V,"OrientMinus90Upright",27);var Wl;V.OrientUpright45=Wl=u.l(V,"OrientUpright45",28);V.prototype.yk=function(){var a=this.ja;if(a!==m&&(a.Jc||a.Bi))return p;a=this.na;return a!==m&&(a.Jc||a.Bi)?p:h};
function Kk(a,b){var c;switch(a){default:case cj:c=0;break;case Xk:c=b;break;case Ql:c=b+90;break;case Rl:c=b-90;break;case Sl:c=b+180;break;case Tl:c=Ad(b);90<c&&270>c&&(c-=180);break;case Ul:c=Ad(b+90);90<c&&270>c&&(c-=180);break;case Vl:c=Ad(b-90);90<c&&270>c&&(c-=180);break;case Wl:c=Ad(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return Ad(c)}u.a(V,"fromNode",V.prototype.ja);
u.defineProperty(V,{ja:"fromNode"},s("Jg"),function(a){var b=this.Jg;if(b!==a){t&&a!==m&&u.c(a,U,V,"fromNode");var c=this.Nc;b!==m&&(this.bh!==b&&Ml(b,this,c),c!==m&&(c.rd=m),Xl(this),b.v(Ei));this.Jg=a;this.Hh=m;this.Vb();var d=this.b;if(d!==m){var e=this.data,g=d.S;e!==m&&g instanceof P&&g.rv(e,g.gc(a!==m?a.data:m))}e=this.Nc;g=this.sy;if(g!==m){var i=h;d!==m&&(i=d.Ca,d.Ca=h);g(this,c,e);d!==m&&(d.Ca=i)}a!==m&&(this.bh!==a&&Ll(a,this,e),e!==m&&(e.rd=m),Yl(this),a.v(zi));this.d("fromNode",b,a);Gi(this)}});
u.a(V,"fromPortId",V.prototype.qh);u.defineProperty(V,{qh:"fromPortId"},s("Kg"),function(a){var b=this.Kg;if(b!==a){t&&u.e(a,"string",V,"fromPortId");var c=this.Nc;c!==m&&(c.rd=m);Xl(this);this.Kg=a;var d=this.Nc;d!==m&&(d.rd=m);var e=this.b;if(e!==m){var g=this.data,i=e.S;g!==m&&i instanceof P&&i.ns(g,a)}c!==d&&(this.Hh=m,this.Vb(),g=this.sy,g!==m&&(i=h,e!==m&&(i=e.Ca,e.Ca=h),g(this,c,d),e!==m&&(e.Ca=i)));Yl(this);this.d("fromPortId",b,a)}});
u.m(V,{Nc:"fromPort"},function(){var a=this.Jg;return a===m?m:a.Ir(this.Kg)});u.a(V,"fromPortChanged",V.prototype.sy);u.defineProperty(V,{sy:"fromPortChanged"},s("sp"),function(a){var b=this.sp;b!==a&&(a!==m&&u.e(a,"function",V,"fromPortChanged"),this.sp=a,this.d("fromPortChanged",b,a))});u.a(V,"toNode",V.prototype.na);
u.defineProperty(V,{na:"toNode"},s("bh"),function(a){var b=this.bh;if(b!==a){t&&a!==m&&u.c(a,U,V,"toNode");var c=this.wd;b!==m&&(this.Jg!==b&&Ml(b,this,c),c!==m&&(c.rd=m),Xl(this),b.v(Ei));this.bh=a;this.Hh=m;this.Vb();var d=this.b;if(d!==m){var e=this.data,g=d.S;e!==m&&g instanceof P&&g.sv(e,g.gc(a!==m?a.data:m))}e=this.wd;g=this.rz;if(g!==m){var i=h;d!==m&&(i=d.Ca,d.Ca=h);g(this,c,e);d!==m&&(d.Ca=i)}a!==m&&(this.Jg!==a&&Ll(a,this,e),e!==m&&(e.rd=m),Yl(this),a.v(zi));this.d("toNode",b,a);Gi(this)}});
u.a(V,"toPortId",V.prototype.ri);u.defineProperty(V,{ri:"toPortId"},s("dh"),function(a){var b=this.dh;if(b!==a){t&&u.e(a,"string",V,"toPortId");var c=this.wd;c!==m&&(c.rd=m);Xl(this);this.dh=a;var d=this.wd;d!==m&&(d.rd=m);var e=this.b;if(e!==m){var g=this.data,i=e.S;g!==m&&i instanceof P&&i.os(g,a)}c!==d&&(this.Hh=m,this.Vb(),g=this.rz,g!==m&&(i=h,e!==m&&(i=e.Ca,e.Ca=h),g(this,c,d),e!==m&&(e.Ca=i)));Yl(this);this.d("toPortId",b,a)}});u.m(V,{wd:"toPort"},function(){var a=this.bh;return a===m?m:a.Ir(this.dh)});
u.a(V,"toPortChanged",V.prototype.rz);u.defineProperty(V,{rz:"toPortChanged"},s("gr"),function(a){var b=this.gr;b!==a&&(a!==m&&u.e(a,"function",V,"toPortChanged"),this.gr=a,this.d("toPortChanged",b,a))});u.a(V,"fromSpot",V.prototype.ab);u.defineProperty(V,{ab:"fromSpot"},s("Mg"),function(a){var b=this.Mg;b.z(a)||(t&&u.c(a,K,V,"fromSpot"),this.Mg=a=a.F(),this.d("fromSpot",b,a),this.Vb())});u.a(V,"fromEndSegmentLength",V.prototype.wk);
u.defineProperty(V,{wk:"fromEndSegmentLength"},s("Ig"),function(a){var b=this.Ig;b!==a&&(t&&u.e(a,"number",V,"fromEndSegmentLength"),0>a&&u.ha(a,">= 0",V,"fromEndSegmentLength"),this.Ig=a,this.d("fromEndSegmentLength",b,a),this.Vb())});u.a(V,"fromEndSegmentDirection",V.prototype.Lr);u.defineProperty(V,{Lr:"fromEndSegmentDirection"},s("Hg"),function(a){var b=this.Hg;b!==a&&(t&&u.Ya(a,U,V,"fromEndSegmentDirection"),this.Hg=a,this.d("fromEndSegmentDirection",b,a),this.Vb())});
u.a(V,"fromShortLength",V.prototype.Mr);u.defineProperty(V,{Mr:"fromShortLength"},s("Lg"),function(a){var b=this.Lg;b!==a&&(t&&u.e(a,"number",V,"fromShortLength"),this.Lg=a,this.d("fromShortLength",b,a),this.Vb())});u.a(V,"toSpot",V.prototype.cb);u.defineProperty(V,{cb:"toSpot"},s("fh"),function(a){var b=this.fh;b.z(a)||(t&&u.c(a,K,V,"toSpot"),this.fh=a=a.F(),this.d("toSpot",b,a),this.Vb())});u.a(V,"toEndSegmentLength",V.prototype.Hk);
u.defineProperty(V,{Hk:"toEndSegmentLength"},s("ah"),function(a){var b=this.ah;b!==a&&(t&&u.e(a,"number",V,"toEndSegmentLength"),0>a&&u.ha(a,">= 0",V,"toEndSegmentLength"),this.ah=a,this.d("toEndSegmentLength",b,a),this.Vb())});u.a(V,"toEndSegmentDirection",V.prototype.ts);u.defineProperty(V,{ts:"toEndSegmentDirection"},s("$g"),function(a){var b=this.$g;b!==a&&(t&&u.Ya(a,U,V,"toEndSegmentDirection"),this.$g=a,this.d("toEndSegmentDirection",b,a),this.Vb())});u.a(V,"toShortLength",V.prototype.us);
u.defineProperty(V,{us:"toShortLength"},s("eh"),function(a){var b=this.eh;b!==a&&(t&&u.e(a,"number",V,"toShortLength"),this.eh=a,this.d("toShortLength",b,a),this.Vb())});function Gi(a){var b=a.ja,c=a.na;b!==m&&c!==m?Dl(a,b.OF(c)):Dl(a,m)}V.prototype.getOtherNode=V.prototype.mC=function(a){t&&u.c(a,U,V,"getOtherNode:node");var b=this.ja;return a===b?this.na:b};V.prototype.getOtherPort=V.prototype.dJ=function(a){t&&u.c(a,Q,V,"getOtherPort:port");var b=this.Nc;return a===b?this.wd:b};
u.m(V,{oi:"labelNodes"},function(){return this.jf===m?u.Of:this.jf.f});function Nl(a,b){a.jf===m&&(a.jf=new ta(U));a.jf.add(b);a.L()}V.prototype.Sr=function(){R.prototype.Sr.call(this);Zl(this)&&Eg(this,this.pa);var a=this.Jg,b=this.bh;if(a!==m){var c=this.Nc;c!==m&&(c.rd=m);Ll(a,this,c);Yl(this)}b!==m&&(c=this.wd,c!==m&&(c.rd=m),Ll(b,this,c),Yl(this))};
V.prototype.Tr=function(){R.prototype.Tr.call(this);Zl(this)&&Eg(this,this.pa);var a=this.Jg,b=this.bh;if(a!==m){var c=this.Nc;c!==m&&(c.rd=m);Ml(a,this,c);Xl(this)}b!==m&&(c=this.wd,c!==m&&(c.rd=m),Ml(b,this,c),Xl(this))};V.prototype.Gl=function(){if(this.jf!==m){var a=this.b;if(a===m)return;for(var b=this.jf.copy().f;b.next();)a.remove(b.value)}b=this.data;b!==m&&(a=this.b,a!==m&&(a=a.S,a instanceof P&&a.PG(b)))};
V.prototype.move=V.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;R.prototype.move.call(this,a);this.Ak(c,b);for(a=this.oi;a.next();){var d=a.value,e=d.position;d.move(new E(e.x+c,e.y+b))}};u.a(V,"relinkableFrom",V.prototype.iD);u.defineProperty(V,{iD:"relinkableFrom"},s("wq"),function(a){var b=this.wq;b!==a&&(t&&u.e(a,"boolean",V,"relinkableFrom"),this.wq=a,this.d("relinkableFrom",b,a))});u.a(V,"relinkableTo",V.prototype.jD);
u.defineProperty(V,{jD:"relinkableTo"},s("xq"),function(a){var b=this.xq;b!==a&&(t&&u.e(a,"boolean",V,"relinkableTo"),this.xq=a,this.d("relinkableTo",b,a))});V.prototype.canRelinkFrom=V.prototype.WH=function(){if(!this.iD)return p;var a=this.za;if(a!==m&&!a.Qi)return p;a=a.b;return a!==m&&!a.Qi?p:h};V.prototype.canRelinkTo=V.prototype.XH=function(){if(!this.jD)return p;var a=this.za;if(a!==m&&!a.Qi)return p;a=a.b;return a!==m&&!a.Qi?p:h};
u.m(V,{path:"path"},function(){var a=this.lc;if(a!==m)return a;a=this.oa;a=Dk(this,a,a.length);return a instanceof W?this.lc=a:m});V.prototype.up=s("path");V.prototype.Fw=s("Mc");V.prototype.Mj=function(){$l(this);var a=this.Oe();return this.kx=a};
V.prototype.Oe=function(){var a=Infinity,b=Infinity,c=this.da,d;if(0===c)return new F(NaN,NaN,0,0);if(1===c)c=this.h(0),a=Math.min(c.x,a),b=Math.min(c.y,b),d=new F(c.x,c.y,0,0);else if(2===c){d=this.h(0);var e=this.h(1),a=Math.min(d.x,e.x),b=Math.min(d.y,e.y);d=new F(d,e)}else if(am(this)===Xj&&3<=c&&!Sg(this))if(e=this.h(0),a=e.x,b=e.y,d=new F(a,b,0,0),3===c){var c=this.h(1),a=Math.min(c.x,a),b=Math.min(c.y,b),g=this.h(2),a=Math.min(g.x,a),b=Math.min(g.y,b);gd(e.x,e.y,c.x,c.y,g.x,g.y,g.x,g.y,0.5,
d)}else for(var i,j,k=3;k<c;k+=3)i=this.h(k-2),k+3>=c&&(k=c-1),j=this.h(k-1),g=this.h(k),gd(e.x,e.y,i.x,i.y,j.x,j.y,g.x,g.y,0.5,d),a=Math.min(g.x,a),b=Math.min(g.y,b),e=g;else{d=this.h(0);e=this.h(1);a=Math.min(d.x,e.x);b=Math.min(d.y,e.y);d=new F(d,e);for(k=2;k<c;k++)e=this.h(k),a=Math.min(e.x,a),b=Math.min(e.y,b),d.xv(e)}this.mu.Od(a-d.x,b-d.y);return d};u.m(V,{UC:"midPoint"},function(){$l(this);return bm(this)});
function bm(a){var b=a.da;if(0===b)return bd;if(1===b)return a.h(0);if(2===b){var c=a.h(0),d=a.h(1);return new E((c.x+d.x)/2,(c.y+d.y)/2)}if(am(a)===Xj&&3<=b&&!Sg(a)){if(3===b)return a.h(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=a.h(e),d=a.h(e+1),g=a.h(e+2),a=a.h(e+3),e=new E,b=d.x,i=d.y,d=g.x,j=g.y,g=(b+d)/2,k=(i+j)/2,i=((c.y+i)/2+k)/2,j=(k+(j+a.y)/2)/2;e.x=(((c.x+b)/2+g)/2+(g+(d+a.x)/2)/2)/2;e.y=(i+j)/2;return e}return a.h(e)}e=0;g=[];for(i=0;i<b-1;i++)c=a.h(i),d=a.h(i+1),mb(c.x,d.x)?(c=
d.y-c.y,0>c&&(c=-c)):mb(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Xi(d)),g.push(c),e+=c;for(d=i=c=0;c<e/2&&i<b;){d=g[i];if(c+d>e/2)break;c+=d;i++}b=a.h(i);a=a.h(i+1);if(b.x===a.x)return b.y>a.y?new E(b.x,b.y-(e/2-c)):new E(b.x,b.y+(e/2-c));if(b.y===a.y)return b.x>a.x?new E(b.x-(e/2-c),b.y):new E(b.x+(e/2-c),b.y);c=(e/2-c)/d;return new E(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))}u.m(V,{TC:"midAngle"},function(){$l(this);return cm(this)});
function cm(a){var b=a.da;if(2>b)return NaN;if(am(a)===Xj&&4<=b&&!Sg(a)){var c=(b-1)/3|0,d=3*(c/2|0);if(1===c%2){var d=Math.floor(d),b=a.h(d),e=a.h(d+1),c=a.h(d+2),a=a.h(d+3),d=e.x,e=e.y,g=c.x,c=c.y,i=(d+g)/2,j=(e+c)/2;return tb(((b.x+d)/2+i)/2,((b.y+e)/2+j)/2,(i+(g+a.x)/2)/2,(j+(c+a.y)/2)/2)}if(0<d&&d+1<b)return b=a.h(d-1),e=a.h(d+1),b.gi(e)}c=b/2|0;if(0===b%2)return b=a.h(c-1),e=a.h(c),b.gi(e);b=a.h(c-1);e=a.h(c);c=a.h(c+1);a=b.Xi(e);d=e.Xi(c);return a>d?b.gi(e):e.gi(c)}u.a(V,"points",V.prototype.sb);
u.defineProperty(V,{sb:"points"},s("Mc"),function(a){t&&u.c(a,A,V,"points");var b=this.Mc;if(b!==a&&a!==m){for(var c=a.f;c.next();){var d=c.value;d.freeze()}a.freeze();this.Mc=a.copy();this.Af();dm(this);for(var c=a.count,e=new A,g=0;g<c;g++)d=a.j[g],e.add(d.copy());this.d("points",b,e)}});u.m(V,{da:"pointsCount"},function(){return this.Mc.count});V.prototype.getPoint=V.prototype.h=function(a){return this.Mc.j[a]};
V.prototype.setPoint=V.prototype.A=function(a,b){t&&(u.c(b,E,V,"setPoint"),b.ca()||u.g("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));this.lg===m&&u.g("Call Link.startRoute before modifying the points of the route.");this.Mc.qv(a,b)};
V.prototype.insertPoint=V.prototype.q=function(a,b){t&&(u.c(b,E,V,"insertPoint"),b.ca()||u.g("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));this.lg===m&&u.g("Call Link.startRoute before modifying the points of the route.");this.Mc.rc(a,b)};
V.prototype.addPoint=V.prototype.jd=function(a){t&&(u.c(a,E,V,"addPoint"),a.ca()||u.g("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));this.lg===m&&u.g("Call Link.startRoute before modifying the points of the route.");this.Mc.add(a)};V.prototype.removePoint=V.prototype.nD=function(a){this.lg===m&&u.g("Call Link.startRoute before modifying the points of the route.");this.Mc.te(a)};
V.prototype.clearPoints=V.prototype.An=function(){this.lg===m&&u.g("Call Link.startRoute before modifying the points of the route.");this.Mc.clear()};V.prototype.movePoints=V.prototype.Ak=function(a,b){for(var c=new A(E),d=this.Mc.f;d.next();){var e=d.value;c.add(new E(e.x+a,e.y+b))}this.sb=c};V.prototype.startRoute=V.prototype.Gk=function(){if(this.lg===m){for(var a=new A(E),b=this.Mc.f;b.next();)a.add(b.value.F());this.lg=a;this.Mc.wa()}};
V.prototype.commitRoute=V.prototype.ei=function(){if(this.lg!==m){for(var a=this.lg,b=Infinity,c=Infinity,d=a.count,e=0;e<d;e++)var g=a.j[e],b=Math.min(g.x,b),c=Math.min(g.y,c);for(var i=Infinity,j=Infinity,k=this.Mc,l=k.count,e=0;e<l;e++)g=k.j[e],i=Math.min(g.x,i),j=Math.min(g.y,j);if(l===d)for(e=0;e<l;e++)if(g=a.j[e],d=k.j[e],g.x-b!==d.x-i||g.y-c!==d.y-j){this.Af();break}this.lg=m;this.Mc.freeze();dm(this);b=new A(E);for(e=0;e<l;e++)g=k.j[e],b.add(g.copy());this.d("points",a,b)}};
V.prototype.rollbackRoute=V.prototype.TG=function(){this.lg=m};function dm(a){0===a.Mc.count?a.ul=p:(a.ul=h,em(a,p))}V.prototype.invalidateRoute=V.prototype.Vb=function(){if(!this.en&&(!this.b||!this.b.ia.hb)&&this.ib()){this.ul=p;this.Af();var a=this.up();a!==m&&a.L()}};
function $l(a){if(!a.ul&&!a.nw){var b=h;try{a.nw=h;a.Gk();var c=a.ja,d=m,d=c===m?m:a.Nc;if(d!==m){var e=Qj(d);if(e===c||!c.ib()){var g=yl(c);g!==m&&g!==c?(c=g,d=g.Ir("")):c=g}else d=e}if(c===m||d===m||!c.location.ca())b=p;else{var i=a.na,e=m,e=i===m?m:a.wd;if(e!==m){var j=Qj(e);if(j===i||!i.ib()){var k=yl(i);k!==m&&k!==i?(i=k,e=k.Ir("")):i=k}else e=j}if(i===m||e===m||!i.location.ca())b=p;else{var l=a.da,n=fm(a,d),r=gm(a,e),j=d===e,q=Sg(a),v=a.Pe===Xj;j&&!q?(v=h,a.Hh=h):a.Hh=p;var x=a.vu===cj||j;if(!q&&
n===hc&&r===hc&&!j){r=p;if(!x&&3<=l)var C=a.Wd(c,d,hc,h,p,i,e),G=a.Wd(i,e,hc,p,p,c,d),r=hm(a,0,C,l-1,G);if(!r)if(a.An(),v){var r=c,q=d,I=e,y=a.Wd(r,q,hc,h,p,i,I),J=a.Wd(i,I,hc,p,p,r,q),z=J.x-y.x,H=J.y-y.y,ha=im(a),S=0,T=0,ia=y.x+z/3,la=y.y+H/3,Da=ia,Ea=la;nb(H,0)?Ea=0<z?Ea-ha:Ea+ha:(S=-z/H,T=Math.sqrt(ha*ha/(S*S+1)),0>ha&&(T=-T),Da=(0>H?-1:1)*T+ia,Ea=S*(Da-ia)+la);var ia=y.x+2*z/3,la=y.y+2*H/3,Wa=ia,bb=la;nb(H,0)?bb=0<z?bb-ha:bb+ha:(Wa=(0>H?-1:1)*T+ia,bb=S*(Wa-ia)+la);a.An();a.jd(y);a.jd(new E(Da,
Ea));a.jd(new E(Wa,bb));a.jd(J);a.A(0,a.Wd(r,q,hc,h,p,i,I));a.A(3,a.Wd(i,I,hc,p,p,r,q))}else{var r=c,q=d,I=e,gb=a.Wd(r,q,hc,h,p,i,I),Sa=a.Wd(i,I,hc,p,p,r,q);if(!isNaN(a.Hu)||0!==a.Md&&!Sg(a)){var lb=Sa.x-gb.x,Za=Sa.y-gb.y,ac=im(a),ad=gb.x+lb/2,$a=gb.y+Za/2,i=ad,r=$a;if(nb(Za,0))r=0<lb?r-ac:r+ac;else{var q=-lb/Za,Ec=Math.sqrt(ac*ac/(q*q+1));0>ac&&(Ec=-Ec);i=(0>Za?-1:1)*Ec+ad;r=q*(i-ad)+$a}a.jd(gb);a.jd(new E(i,r))}else a.jd(gb);a.jd(Sa)}}else{var Ed=a.af===Yf;x&&(q&&Ed||j)&&a.An();var rc=im(a),Vb=
a.Wd(c,d,n,h,q,i,e),J=H=z=0;if(q||n!==hc||j){var jc=jm(a,d,n,h),J=km(a,c,d,Vb,n,h,q,e);j&&(J-=q?90:30,0>rc&&(J-=180));0>J?J+=360:360<=J&&(J-=360);j&&(jc+=Math.abs(rc));0===J?z=jc:90===J?H=jc:180===J?z=-jc:270===J?H=-jc:(z=jc*Math.cos(J*Math.PI/180),H=jc*Math.sin(J*Math.PI/180));if(fc(n)&&j)var Fc=d.Db(qc),Vb=a.ty(c,d,Fc,new E(Fc.x+1E3*z,Fc.y+1E3*H),h)}I=a.Wd(i,e,r,p,q,c,d);y=ia=ha=0;if(q||r!==hc||j){var Ib=jm(a,e,r,p),y=km(a,i,e,I,r,p,q,d);j&&(y+=q?0:30,0>rc&&(y+=180));0>y?y+=360:360<=y&&(y-=360);
j&&(Ib+=Math.abs(rc));0===y?ha=Ib:90===y?ia=Ib:180===y?ha=-Ib:270===y?ia=-Ib:(ha=Ib*Math.cos(y*Math.PI/180),ia=Ib*Math.sin(y*Math.PI/180));fc(r)&&j&&(Fc=e.Db(qc),I=a.ty(i,e,Fc,new E(Fc.x+1E3*ha,Fc.y+1E3*ia),p))}la=Vb;if(q||n!==hc||j)la=new E(Vb.x+z,Vb.y+H);e=I;if(q||r!==hc||j)e=new E(I.x+ha,I.y+ia);if(x||q||!fc(n)||!(3<l&&hm(a,0,Vb,l-2,e)))if(!x&&!q&&fc(r)&&3<l&&hm(a,1,la,l-1,I))a.A(0,Vb);else if(!x&&!q&&4<l&&hm(a,1,la,l-2,e))a.A(0,Vb),a.A(l-1,I);else if(!x&&q&&6<=l&&!Ed&&hm(a,1,la,l-2,e))a.A(0,Vb),
a.A(l-1,I);else{a.An();a.jd(Vb);(q||n!==hc||j)&&a.jd(la);if(q)b:if(z=la,H=e,J=-45<=J&&45>J?0:45<=J&&135>J?90:135<=J&&225>J?180:270,y=-45<=y&&45>y?0:45<=y&&135>y?90:135<=y&&225>y?180:270,S=c.pa.copy(),T=i.pa.copy(),S.ca()&&T.ca()){S.yf(8,8);T.yf(8,8);S.xv(z);T.xv(H);Da=a.b;if(a.af===Yf&&Da!==m&&!S.ka(H)&&!T.ka(z)&&c!==i&&!a.za.Yc){Ea=na(Da,h,a);Wa=S.copy().qj(T);Wa.yf(2*Ea.Al,2*Ea.zl);lm(Ea,z,J,H,y,Wa);bb=mm(Ea,H.x,H.y);if(!Ea.abort&&bb===pa){Pi(Ea);var Eb=Ea.HD;Wa.yf(Ea.Al*Eb,Ea.zl*Eb);lm(Ea,z,J,
H,y,Wa);bb=mm(Ea,H.x,H.y)}!Ea.abort&&bb===pa&&(Pi(Ea),Eb=Ea.GC,Wa.yf(Ea.Al*Eb,Ea.zl*Eb),lm(Ea,z,J,H,y,Wa),bb=mm(Ea,H.x,H.y));!Ea.abort&&(bb===pa&&Ea.dE)&&(Pi(Ea),lm(Ea,z,J,H,y,Ea.rb),bb=mm(Ea,H.x,H.y));if(!Ea.abort&&bb<pa&&mm(Ea,H.x,H.y)!==oa){nm(a,Ea,H.x,H.y,y,h);var cb=a.h(2);if(4>a.da)0===J||180===J?(cb.x=z.x,cb.y=H.y):(cb.x=H.x,cb.y=z.y),a.A(2,cb),a.q(3,cb);else{var dd=a.h(3);if(0===J||180===J)if(nb(cb.x,dd.x)){var Nc=0===J?Math.max(cb.x,z.x):Math.min(cb.x,z.x);a.A(2,new E(Nc,z.y));a.A(3,new E(Nc,
dd.y))}else nb(cb.y,dd.y)?(Math.abs(z.y-cb.y)<=Ea.zl/2&&(a.A(2,new E(cb.x,z.y)),a.A(3,new E(dd.x,z.y))),a.q(2,new E(cb.x,z.y))):a.A(2,new E(z.x,cb.y));else if(90===J||270===J)if(nb(cb.y,dd.y)){var ud=90===J?Math.max(cb.y,z.y):Math.min(cb.y,z.y);a.A(2,new E(z.x,ud));a.A(3,new E(dd.x,ud))}else nb(cb.x,dd.x)?(Math.abs(z.x-cb.x)<=Ea.Al/2&&(a.A(2,new E(z.x,cb.y)),a.A(3,new E(z.x,dd.y))),a.q(2,new E(z.x,cb.y))):a.A(2,new E(cb.x,z.y))}break b}}var qa,Ka;if(0===J)if(H.x>z.x||270===y&&H.y<z.y&&T.right>z.x||
90===y&&H.y>z.y&&T.right>z.x)qa=new E(H.x,z.y),Ka=new E(H.x,(z.y+H.y)/2),180===y?(qa.x=om(a,z.x,H.x),Ka.x=qa.x,Ka.y=H.y):270===y&&H.y<z.y||90===y&&H.y>z.y?(qa.x=z.x<T.left?om(a,z.x,T.left):z.x<T.right&&(270===y&&z.y<T.top||90===y&&z.y>T.bottom)?om(a,z.x,H.x):T.right,Ka.x=qa.x,Ka.y=H.y):0===y&&(z.x<T.left&&z.y>T.top&&z.y<T.bottom)&&(qa.x=z.x,qa.y=z.y<H.y?Math.min(H.y,T.top):Math.max(H.y,T.bottom),Ka.y=qa.y);else{qa=new E(z.x,H.y);Ka=new E((z.x+H.x)/2,H.y);if(180===y||90===y&&H.y<S.top||270===y&&H.y>
S.bottom){if(180===y&&(T.ka(z)||S.ka(H)))qa.y=om(a,z.y,H.y);else if(H.y<z.y&&(180===y||90===y))qa.y=om(a,S.top,Math.max(H.y,T.bottom));else if(H.y>z.y&&(180===y||270===y))qa.y=om(a,S.bottom,Math.min(H.y,T.top));Ka.x=H.x;Ka.y=qa.y}if(qa.y>S.top&&qa.y<S.bottom)if(H.x>=S.left&&H.x<=z.x||z.x<=T.right&&z.x>=H.x){if(90===y||270===y)qa=new E(Math.max((z.x+H.x)/2,z.x),z.y),Ka=new E(qa.x,H.y)}else qa.y=270===y||(0===y||180===y)&&H.y<z.y?Math.min(H.y,0===y?S.top:Math.min(S.top,T.top)):Math.max(H.y,0===y?S.bottom:
Math.max(S.bottom,T.bottom)),Ka.x=H.x,Ka.y=qa.y}else if(180===J)if(H.x<z.x||270===y&&H.y<z.y&&T.left<z.x||90===y&&H.y>z.y&&T.left<z.x)qa=new E(H.x,z.y),Ka=new E(H.x,(z.y+H.y)/2),0===y?(qa.x=om(a,z.x,H.x),Ka.x=qa.x,Ka.y=H.y):270===y&&H.y<z.y||90===y&&H.y>z.y?(qa.x=z.x>T.right?om(a,z.x,T.right):z.x>T.left&&(270===y&&z.y<T.top||90===y&&z.y>T.bottom)?om(a,z.x,H.x):T.left,Ka.x=qa.x,Ka.y=H.y):180===y&&(z.x>T.right&&z.y>T.top&&z.y<T.bottom)&&(qa.x=z.x,qa.y=z.y<H.y?Math.min(H.y,T.top):Math.max(H.y,T.bottom),
Ka.y=qa.y);else{qa=new E(z.x,H.y);Ka=new E((z.x+H.x)/2,H.y);if(0===y||90===y&&H.y<S.top||270===y&&H.y>S.bottom){if(0===y&&(T.ka(z)||S.ka(H)))qa.y=om(a,z.y,H.y);else if(H.y<z.y&&(0===y||90===y))qa.y=om(a,S.top,Math.max(H.y,T.bottom));else if(H.y>z.y&&(0===y||270===y))qa.y=om(a,S.bottom,Math.min(H.y,T.top));Ka.x=H.x;Ka.y=qa.y}if(qa.y>S.top&&qa.y<S.bottom)if(H.x<=S.right&&H.x>=z.x||z.x>=T.left&&z.x<=H.x){if(90===y||270===y)qa=new E(Math.min((z.x+H.x)/2,z.x),z.y),Ka=new E(qa.x,H.y)}else qa.y=270===y||
(0===y||180===y)&&H.y<z.y?Math.min(H.y,180===y?S.top:Math.min(S.top,T.top)):Math.max(H.y,180===y?S.bottom:Math.max(S.bottom,T.bottom)),Ka.x=H.x,Ka.y=qa.y}else if(90===J)if(H.y>z.y||180===y&&H.x<z.x&&T.bottom>z.y||0===y&&H.x>z.x&&T.bottom>z.y)qa=new E(z.x,H.y),Ka=new E((z.x+H.x)/2,H.y),270===y?(qa.y=om(a,z.y,H.y),Ka.x=H.x,Ka.y=qa.y):180===y&&H.x<z.x||0===y&&H.x>z.x?(qa.y=z.y<T.top?om(a,z.y,T.top):z.y<T.bottom&&(180===y&&z.x<T.left||0===y&&z.x>T.right)?om(a,z.y,H.y):T.bottom,Ka.x=H.x,Ka.y=qa.y):90===
y&&(z.y<T.top&&z.x>T.left&&z.x<T.right)&&(qa.x=z.x<H.x?Math.min(H.x,T.left):Math.max(H.x,T.right),qa.y=z.y,Ka.x=qa.x);else{qa=new E(H.x,z.y);Ka=new E(H.x,(z.y+H.y)/2);if(270===y||0===y&&H.x<S.left||180===y&&H.x>S.right){if(270===y&&(T.ka(z)||S.ka(H)))qa.x=om(a,z.x,H.x);else if(H.x<z.x&&(270===y||0===y))qa.x=om(a,S.left,Math.max(H.x,T.right));else if(H.x>z.x&&(270===y||180===y))qa.x=om(a,S.right,Math.min(H.x,T.left));Ka.x=qa.x;Ka.y=H.y}if(qa.x>S.left&&qa.x<S.right)if(H.y>=S.top&&H.y<=z.y||z.y<=T.bottom&&
z.y>=H.y){if(0===y||180===y)qa=new E(z.x,Math.max((z.y+H.y)/2,z.y)),Ka=new E(H.x,qa.y)}else qa.x=180===y||(90===y||270===y)&&H.x<z.x?Math.min(H.x,90===y?S.left:Math.min(S.left,T.left)):Math.max(H.x,90===y?S.right:Math.max(S.right,T.right)),Ka.x=qa.x,Ka.y=H.y}else if(H.y<z.y||180===y&&H.x<z.x&&T.top<z.y||0===y&&H.x>z.x&&T.top<z.y)qa=new E(z.x,H.y),Ka=new E((z.x+H.x)/2,H.y),90===y?(qa.y=om(a,z.y,H.y),Ka.x=H.x,Ka.y=qa.y):180===y&&H.x<z.x||0===y&&H.x>=z.x?(qa.y=z.y>T.bottom?om(a,z.y,T.bottom):z.y>T.top&&
(180===y&&z.x<T.left||0===y&&z.x>T.right)?om(a,z.y,H.y):T.top,Ka.x=H.x,Ka.y=qa.y):270===y&&(z.y>T.bottom&&z.x>T.left&&z.x<T.right)&&(qa.x=z.x<H.x?Math.min(H.x,T.left):Math.max(H.x,T.right),qa.y=z.y,Ka.x=qa.x);else{qa=new E(H.x,z.y);Ka=new E(H.x,(z.y+H.y)/2);if(90===y||0===y&&H.x<S.left||180===y&&H.x>S.right){if(90===y&&(T.ka(z)||S.ka(H)))qa.x=om(a,z.x,H.x);else if(H.x<z.x&&(90===y||0===y))qa.x=om(a,S.left,Math.max(H.x,T.right));else if(H.x>z.x&&(90===y||180===y))qa.x=om(a,S.right,Math.min(H.x,T.left));
Ka.x=qa.x;Ka.y=H.y}if(qa.x>S.left&&qa.x<S.right)if(H.y<=S.bottom&&H.y>=z.y||z.y>=T.top&&z.y<=H.y){if(0===y||180===y)qa=new E(z.x,Math.min((z.y+H.y)/2,z.y)),Ka=new E(H.x,qa.y)}else qa.x=180===y||(90===y||270===y)&&H.x<z.x?Math.min(H.x,270===y?S.left:Math.min(S.left,T.left)):Math.max(H.x,270===y?S.right:Math.max(S.right,T.right)),Ka.x=qa.x,Ka.y=H.y}a.jd(qa);a.jd(Ka)}(q||r!==hc||j)&&a.jd(e);a.jd(I)}}b=h}}}finally{a.nw=p,b?a.ei():a.TG()}}}
function pm(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}V.prototype.getLinkPointFromPoint=V.prototype.ty=function(a,b,c,d){if(a===m||b===m)return c;if(!a.ib()){var e=yl(a);e!==m&&e!==a&&(b=e.port)}a=b.W===m?new pb:b.W.je.copy();e=a.copy();e.Xu();d=Pb(e,d);e=Pb(e,c);c=e.copy();b.Vu(d,e,c);b=Pb(a,c);c.x=b.x;c.y=b.y;return c};function qm(a,b){var c=a.rd;c===m&&(c=new rm,c.port=a,c.th=a.aa,a.rd=c);return sm(c,b)}
V.prototype.getLinkPoint=V.prototype.Wd=function(a,b,c,d,e,g,i){if(Zb(c))return c=b.Db(c);if($b(c)&&(c=qm(b,this),c!==m))return c=c.Zn;c=b.Db(qc);this.da>(e?6:2)?(i=d?this.h(1):this.h(this.da-2),e&&(i=pm(c,i.copy()))):(i=i.Db(qc),e&&(i=pm(c,i)));return this.ty(a,b,c,i,d)};
function km(a,b,c,d,e,g,i,j){a:if(Zb(e))d=e.x>e.y?e.x>1-e.y?0:e.x<1-e.y?270:315:e.x<e.y?e.x>1-e.y?90:e.x<1-e.y?180:135:0.5>e.x?225:0.5<e.x?45:0;else{if($b(e)&&(e=qm(c,a),e!==m))switch(e.Ld){case u.Zc:d=270;break a;case u.Gc:d=180;break a;default:case u.Rc:d=0;break a;case u.Qc:d=90;break a}e=c.Db(qc);a.da>(i?6:2)?(j=g?a.h(1):a.h(a.da-2),j=i?pm(e,j.copy()):d):j=j.Db(qc);d=Math.abs(j.x-e.x)>Math.abs(j.y-e.y)?j.x>=e.x?0:180:j.y>=e.y?90:270}i=Hl;i=g?a.Lr:a.ts;i===Hl&&(i=g?c.Lr:c.ts);switch(i){case Il:a=
b.Va;d+=a;360<=d&&(d-=360);break;case Hl:case bj:a=b.Va;if(0===a)break;45<=a&&135>a?d+=90:135<=a&&225>a?d+=180:225<=a&&315>a&&(d+=270);360<=d&&(d-=360)}return d}function jm(a,b,c,d){if($b(c)&&(c=qm(b,a),c!==m))return c.Nu;c=NaN;c=d?a.wk:a.Hk;isNaN(c)&&(c=d?b.wk:b.Hk);isNaN(c)&&(c=10);return c}function fm(a,b){var c=a.ab;gc(c)&&(b===f&&(b=a.Nc),b!==m&&(c=b.ab));return c===ic?hc:c}function gm(a,b){var c=a.cb;gc(c)&&(b===f&&(b=a.wd),b!==m&&(c=b.cb));return c===ic?hc:c}
function tm(a){var b=a.Mr;isNaN(b)&&(a=a.Nc,a!==m&&(b=a.Mr));return isNaN(b)?0:b}function um(a){var b=a.us;isNaN(b)&&(a=a.wd,a!==m&&(b=a.us));return isNaN(b)?0:b}function Sg(a){a=a.af;return a===Ch||a===Yf}function am(a){if(a.Hh===m){var b=Sg(a);a.Hh=a.Nc===a.wd&&!b}return a.Hh?Xj:a.Pe}function vm(a){if(a.Pe===Xj)return 0;a=a.FB;if(isNaN(a)||0>a)a=10;return a}
function im(a){var b=a.Hu;if(isNaN(b)){var c=a.Md;0!==c?(b=a.Sk,b=b!==m?b.mj:10,a=Math.abs(c),b=b/2+((a-1)/2|0)*b,0===a%2&&(b=-b),0>c&&(b=-b)):b=10}return b}
function hm(a,b,c,d,e){var g=a.vu;if(Sg(a)){if(g===ak)return p;g===bk&&(g=$j)}switch(g){case ak:var i=a.h(b),j=a.h(d);if(!i.z(c)||!j.z(e)){var g=i.x,i=i.y,k=j.x-g,l=j.y-i,n=Math.sqrt(k*k+l*l);if(!nb(n,0)){var r;nb(k,0)?r=0>l?-Math.PI/2:Math.PI/2:(r=Math.atan(l/Math.abs(k)),0>k&&(r=Math.PI-r));var j=c.x,q=c.y,k=e.x-j,v=e.y-q,l=Math.sqrt(k*k+v*v);nb(k,0)?v=0>v?-Math.PI/2:Math.PI/2:(v=Math.atan(v/Math.abs(k)),0>k&&(v=Math.PI-v));n=l/n;r=v-r;a.A(b,c);for(b+=1;b<d;b++)c=a.h(b),k=c.x-g,l=c.y-i,c=Math.sqrt(k*
k+l*l),nb(c,0)||(nb(k,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+r,c*=n,a.A(b,new E(j+c*Math.cos(k),q+c*Math.sin(k))));a.A(d,e)}}return h;case bk:i=a.h(b);q=a.h(d);if(!i.z(c)||!q.z(e)){g=i.x;i=i.y;j=q.x;q=q.y;n=(j-g)*(j-g)+(q-i)*(q-i);k=c.x;r=c.y;var l=e.x,v=e.y,x=0,C=1,x=0!==l-k?(v-r)/(l-k):9E9;0!==x&&(C=Math.sqrt(1+1/(x*x)));a.A(b,c);for(b+=1;b<d;b++){var c=a.h(b),G=c.x,I=c.y,y=0.5;0!==n&&(y=((g-G)*(g-j)+(i-I)*(i-q))/n);var J=g+y*(j-g),z=i+y*(q-i),c=Math.sqrt((G-
J)*(G-J)+(I-z)*(I-z));I<x*(G-J)+z&&(c=-c);0<x&&(c=-c);G=k+y*(l-k);y=r+y*(v-r);0!==x?(c=G+c/C,a.A(b,new E(c,y-(c-G)/x))):a.A(b,new E(G,y+c))}a.A(d,e)}return h;case $j:return Sg(a)&&(g=a.h(b+1),i=a.h(b+2),nb(g.x,i.x)&&!nb(g.y,i.y)?a.A(b+1,new E(g.x,c.y)):nb(g.y,i.y)&&a.A(b+1,new E(c.x,g.y)),g=a.h(d-1),i=a.h(d-2),nb(g.x,i.x)&&!nb(g.y,i.y)?a.A(d-1,new E(g.x,e.y)):nb(g.y,i.y)&&a.A(d-1,new E(e.x,g.y))),a.A(b,c),a.A(d,e),h;default:return p}}
function om(a,b,c){return!isNaN(a.Hu)||0!==a.Md&&!Sg(a)?(b+c)/2+im(a):(b+c)/2}
function nm(a,b,c,d,e,g){var i=b.Al,j=b.zl,k=mm(b,c,d),l=c,n=d;for(0===e?l+=i:90===e?n+=j:180===e?l-=i:n-=j;k>wm&&mm(b,l,n)===k-xm;)c=l,d=n,0===e?l+=i:90===e?n+=j:180===e?l-=i:n-=j,k-=xm;if(g){if(k>wm)if(180===e||0===e)c=Math.floor(c/i)*i+i/2;else if(90===e||270===e)d=Math.floor(d/j)*j+j/2}else c=Math.floor(c/i)*i+i/2,d=Math.floor(d/j)*j+j/2;k>wm&&(g=e,l=c,n=d,0===e?(g=90,n+=j):90===e?(g=180,l-=i):180===e?(g=270,n-=j):270===e&&(g=0,l+=i),mm(b,l,n)===k-xm?nm(a,b,l,n,g,p):(l=c,n=d,0===e?(g=270,n-=j):
90===e?(g=0,l+=i):180===e?(g=90,n+=j):270===e&&(g=180,l-=i),mm(b,l,n)===k-xm&&nm(a,b,l,n,g,p)));a.jd(new E(c,d))}V.prototype.findClosestSegment=V.prototype.QI=function(a){t&&u.c(a,E,V,"findClosestSegment:p");for(var b=a.x,a=a.y,c=this.h(0),d=this.h(1),e=sb(b,a,c.x,c.y,d.x,d.y),g=0,i=1;i<this.da-1;i++){var c=this.h(i+1),j=sb(b,a,d.x,d.y,c.x,c.y),d=c;j<e&&(g=i,e=j)}return g};V.prototype.invalidateGeometry=V.prototype.Af=function(){this.lc=this.Ba=m;this.L()};
u.m(V,{Nr:"geometry"},function(){this.Ba===m&&($l(this),this.Ba=ym(this));return this.Ba});function xi(a){if(a.Ba===m&&a.ul!==p){a.Ba=ym(a);var b=a.up();if(b!==m){b.Ba=a.Ba;for(var c=a.oa,d=c.length,e=0;e<d;e++){var g=c.j[e];g!==b&&(g.fj&&g instanceof W)&&(g.Ba=a.Ba)}}}}
function ym(a){var b=a.da;if(2>b){var a=new Dd(Jd),c=new Nd(0,0);a.Mb.add(c);return a}var d,e=a.h(0).copy(),g=new E(Infinity,Infinity);g.x=Math.min(e.x,g.x);g.y=Math.min(e.y,g.y);var i=am(a);if(i===Xj&&3<=b&&!mb(a.qs,0))if(3===b){var j=a.h(2).copy(),c=Math.min(e.x,j.x);d=Math.min(e.y,j.y)}else{if(Sg(a))for(j=0;j<b;j++)c=a.Mc.j[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);else for(var k,j=3;j<b;j+=3)j+3>=b&&(j=b-1),k=a.h(j),g.x=Math.min(k.x,g.x),g.y=Math.min(k.y,g.y);c=g.x;d=g.y}else{for(j=0;j<b;j++)c=
a.Mc.j[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}c-=a.mu.x;d-=a.mu.y;e.x-=c;e.y-=d;if(2===b){var l=a.h(1).copy();l.x-=c;l.y-=d;0!==tm(a)&&zm(a,e,h,g);0!==um(a)&&zm(a,l,p,g);a=new Dd(Pd);a.Fa=e.x;a.Ga=e.y;a.P=l.x;a.Q=l.y;return a}l=new M;0!==tm(a)&&zm(a,e,h,g);N(l,e.x,e.y,p,p);if(i===Xj&&3<=b&&!mb(a.qs,0))if(3===b)j=a.h(1),b=j.x-c,e=j.y-d,j=a.h(2).copy(),j.x-=c,j.y-=d,0!==um(a)&&zm(a,j,p,g),O(l,b,e,b,e,j.x,j.y);else if(Sg(a)){e=new E(c,d);i=a.h(1).copy();k=new E(c,d);for(var b=new E(c,
d),g=a.h(0),n=m,r=a.qs/3,j=1;j<a.da-1;j++){var n=a.h(j),q=g,v=n,x=a.h(Am(a,n,j,p));if(!mb(q.x,v.x)||!mb(v.x,x.x))if(!mb(q.y,v.y)||!mb(v.y,x.y)){var C=r,G=k,I=b;isNaN(C)&&(C=a.qs/3);var y=q.x,q=q.y,J=v.x,v=v.y,z=x.x,x=x.y,H=C*Bm(y,q,J,v),C=C*Bm(J,v,z,x);mb(q,v)&&mb(J,z)&&(J>y?x>v?(G.x=J-H,G.y=v-H,I.x=J+C,I.y=v+C):(G.x=J-H,G.y=v+H,I.x=J+C,I.y=v-C):x>v?(G.x=J+H,G.y=v-H,I.x=J-C,I.y=v+C):(G.x=J+H,G.y=v+H,I.x=J-C,I.y=v-C));mb(y,J)&&mb(v,x)&&(v>q?(z>J?(G.x=J-H,G.y=v-H,I.x=J+C):(G.x=J+H,G.y=v-H,I.x=J-C),
I.y=v+C):(z>J?(G.x=J-H,G.y=v+H,I.x=J+C):(G.x=J+H,G.y=v+H,I.x=J-C),I.y=v-C));if(mb(y,J)&&mb(J,z)||mb(q,v)&&mb(v,x))y=0.5*(y+z),q=0.5*(q+x),G.x=y,G.y=q,I.x=y,I.y=q;1===j?(i.x=0.5*(g.x+n.x),i.y=0.5*(g.y+n.y)):2===j&&(mb(g.x,a.h(0).x)&&mb(g.y,a.h(0).y))&&(i.x=0.5*(g.x+n.x),i.y=0.5*(g.y+n.y));O(l,i.x-c,i.y-d,k.x-c,k.y-d,n.x-c,n.y-d);e.set(k);i.set(b);g=n}}j=g.x;g=g.y;a=a.h(a.da-1);j=0.5*(j+a.x);g=0.5*(g+a.y);O(l,b.x-c,b.y-d,j-c,g-d,a.x-c,a.y-d)}else for(j=3;j<b;j+=3)g=a.h(j-2),j+3>=b&&(j=b-1),e=a.h(j-
1),k=a.h(j),j===b-1&&0!==um(a)&&(k=k.copy(),zm(a,k,p,Wc)),O(l,g.x-c,g.y-d,e.x-c,e.y-d,k.x-c,k.y-d);else{n=a.h(0);for(j=1;j<b;){j=Am(a,n,j,1<j);r=a.h(j);if(j>=b-1){n!==r&&(0!==um(a)&&(r=r.copy(),zm(a,r,p,Wc)),Cm(a,l,-c,-d,n,r));break}j=Am(a,r,j+1,j<b-3);g=a;e=l;i=-c;k=-d;G=a.h(j);nb(n.y,r.y)&&nb(r.x,G.x)?(I=vm(g),I=Math.min(I,Math.abs(r.x-n.x)/2),I=y=Math.min(I,Math.abs(G.y-r.y)/2),nb(I,0)?(Cm(g,e,i,k,n,r),n=r):(q=r.x,C=r.y,J=q,v=C,q=r.x>n.x?r.x-I:r.x+I,v=G.y>r.y?r.y+y:r.y-y,Cm(g,e,i,k,n,new E(q,C)),
ce(e,r.x+i,r.y+k,J+i,v+k),n=new E(J,v))):nb(n.x,r.x)&&nb(r.y,G.y)?(I=vm(g),y=Math.min(I,Math.abs(r.y-n.y)/2),y=I=Math.min(y,Math.abs(G.x-r.x)/2),nb(I,0)?(Cm(g,e,i,k,n,r),n=r):(q=r.x,v=C=r.y,C=r.y>n.y?r.y-y:r.y+y,J=G.x>r.x?r.x+I:r.x-I,Cm(g,e,i,k,n,new E(q,C)),ce(e,r.x+i,r.y+k,J+i,v+k),n=new E(J,v))):(Cm(g,e,i,k,n,r),n=r)}}return l.k}
function Bm(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return mb(a,0)?b:mb(b,0)?a:Math.sqrt(a*a+b*b)}
function zm(a,b,c,d){var e=a.da;if(!(2>e))if(c){var g=a.h(1),c=g.x-d.x,d=g.y-d.y,g=Bm(b.x,b.y,c,d);0!==g&&(e=2===e?0.5*g:g,a=tm(a),a>e&&(a=e),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.h(e-2),c=g.x-d.x,d=g.y-d.y,g=Bm(b.x,b.y,c,d),0!==g&&(e=2===e?0.5*g:g,a=um(a),a>e&&(a=e),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)}
function Am(a,b,c,d){for(var e=a.da,g=b;mb(b.x,g.x)&&mb(b.y,g.y);){if(c>=e)return e-1;g=a.h(c++)}if(!mb(b.x,g.x)&&!mb(b.y,g.y))return c-1;for(var i=g;mb(b.x,g.x)&&mb(g.x,i.x)&&(!d||(b.y>=g.y?g.y>=i.y:g.y<=i.y))||mb(b.y,g.y)&&mb(g.y,i.y)&&(!d||(b.x>=g.x?g.x>=i.x:g.x<=i.x));){if(c>=e)return e-1;i=a.h(c++)}return c-2}
function Cm(a,b,c,d,e,g){if(Zl(a)){var i=new A("number"),j;a:if(j=a.b,j===m)j=0;else{Math.min(e.x,g.x);Math.min(e.y,g.y);Math.max(e.x,g.x);Math.max(e.y,g.y);for(j=j.Un;j.next();){var k=j.value;if(k!==m&&k.visible)for(k=k.jj;k.next();){var l=k.value;if(l===a){0<i.length&&i.sort(function(a,b){return a-b});j=i.length;break a}if(l instanceof V&&a.ib()&&l.ib()&&Zl(l)&&a.Mj().Ve(l.Mj())&&!Dm(a,l)){var n=l.path;if(n!==m&&n.zk())for(var n=e,r=g,q=i,v=l.da,x=1;x<v;x++){var C=l.h(x-1),G=l.h(x),I=new E,y;b:{y=
n;var J=r,z=I;if(nb(y.x,J.x)){if(nb(C.y,G.y)&&Math.min(y.y,J.y)<=C.y&&Math.max(y.y,J.y)>=C.y&&Math.min(C.x,G.x)<=y.x&&Math.max(C.x,G.x)>=y.x){z.x=y.x;z.y=C.y;y=h;break b}}else if(nb(C.x,G.x)&&Math.min(y.x,J.x)<=C.x&&Math.max(y.x,J.x)>=C.x&&Math.min(C.y,G.y)<=y.y&&Math.max(C.y,G.y)>=y.y){z.x=C.x;z.y=y.y;y=h;break b}z.x=0;z.y=0;y=p}y&&(nb(n.y,r.y)?q.add(I.x):q.add(I.y))}}}}0<i.length&&i.sort(function(a,b){return a-b});j=i.length}n=e.x;n=e.y;if(0<j)if(nb(e.y,g.y))if(e.x<g.x)for(k=0;k<j;){q=Math.max(e.x,
Math.min(i.j[k++]-5,g.x-10));b.lineTo(q+c,g.y+d);n=q+c;for(r=Math.min(q+10,g.x);k<j;)if(l=i.j[k],l<r+10)k++,r=Math.min(l+5,g.x);else break;l=(q+r)/2+c;l=g.y-10+d;q=r+c;r=g.y+d;a.Pe===Yj?N(b,q,r,p,p):O(b,n,l,q,l,q,r)}else for(k=j-1;0<=k;){q=Math.min(e.x,Math.max(i.j[k--]+5,g.x+10));b.lineTo(q+c,g.y+d);n=q+c;for(r=Math.max(q-10,g.x);0<=k;)if(l=i.j[k],l>r-10)k--,r=Math.max(l-5,g.x);else break;l=g.y-10+d;q=r+c;r=g.y+d;a.Pe===Yj?N(b,q,r,p,p):O(b,n,l,q,l,q,r)}else if(nb(e.x,g.x))if(e.y<g.y)for(k=0;k<j;){q=
Math.max(e.y,Math.min(i.j[k++]-5,g.y-10));b.lineTo(g.x+c,q+d);n=q+d;for(r=Math.min(q+10,g.y);k<j;)if(l=i.j[k],l<r+10)k++,r=Math.min(l+5,g.y);else break;l=g.x-10+c;q=g.x+c;r+=d;a.Pe===Yj?N(b,q,r,p,p):O(b,l,n,l,r,q,r)}else for(k=j-1;0<=k;){q=Math.min(e.y,Math.max(i.j[k--]+5,g.y+10));b.lineTo(g.x+c,q+d);n=q+d;for(r=Math.max(q-10,g.y);0<=k;)if(l=i.j[k],l>r-10)k--,r=Math.max(l-5,g.y);else break;l=g.x-10+c;q=g.x+c;r+=d;a.Pe===Yj?N(b,q,r,p,p):O(b,l,n,l,r,q,r)}}b.lineTo(g.x+c,g.y+d)}
u.m(V,{Ru:"firstPickIndex"},function(){return 2>=this.da?0:Sg(this)||fm(this)!==hc?1:0});u.m(V,{Iy:"lastPickIndex"},function(){var a=this.da;return 0===a?0:2>=a?a-1:Sg(this)||gm(this)!==hc?a-2:a-1});function Zl(a){a=a.Pe;return a===Zj||a===Yj}function em(a,b){if(b||Zl(a)){var c=a.b;c!==m&&(!c.vm.contains(a)&&a.kx!==m)&&c.vm.add(a,a.kx)}}
function Eg(a,b){var c=a.za;if(!(c===m||!c.visible||c.Yc)){var d=c.b;if(d!==m)for(var e=p,d=d.Un;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=h,i=p,g=g.jj;g.next();){var j=g.value;j instanceof V&&(j===a?i=h:i&&Em(a,j,b))}else if(e)for(g=g.jj;g.next();)j=g.value,j instanceof V&&Em(a,j,b)}}}function Em(a,b,c){if(b!==m&&Zl(b)&&b.Ba!==m&&(a.Mj().Ve(b.Mj())||c.Ve(b.Mj())))Dm(a,b)||b.Af()}
function Dm(a,b){var c=a.da,d=b.da;if(0<c&&0<d){var e=a.h(0),g=b.h(0);if(e.ug(g))return h;c=a.h(c-1);d=b.h(d-1);if(c.ug(d)||e.ug(d)||c.ug(g))return h}else if(a.ja===b.ja||a.na===b.na)return h;return p}u.a(V,"adjusting",V.prototype.vu);u.defineProperty(V,{vu:"adjusting"},s("Fo"),function(a){var b=this.Fo;b!==a&&(t&&u.Ya(a,V,V,"adjusting"),this.Fo=a,this.d("adjusting",b,a))});u.a(V,"corner",V.prototype.FB);
u.defineProperty(V,{FB:"corner"},s("So"),function(a){var b=this.So;b!==a&&(t&&u.e(a,"number",V,"corner"),this.So=a,this.Af(),this.d("corner",b,a))});u.a(V,"curve",V.prototype.Pe);u.defineProperty(V,{Pe:"curve"},s("Uo"),function(a){var b=this.Uo;b!==a&&(t&&u.Ya(a,V,V,"curve"),this.Uo=a,this.Vb(),em(this,b===Yj||b===Zj||a===Yj||a===Zj),this.d("curve",b,a))});u.a(V,"curviness",V.prototype.Hu);
u.defineProperty(V,{Hu:"curviness"},s("Vo"),function(a){var b=this.Vo;b!==a&&(t&&u.e(a,"number",V,"curviness"),this.Vo=a,this.Vb(),this.d("curviness",b,a))});u.a(V,"routing",V.prototype.af);u.defineProperty(V,{af:"routing"},s("Mi"),function(a){var b=this.Mi;b!==a&&(t&&u.Ya(a,V,V,"routing"),this.Mi=a,this.Hh=m,this.Vb(),em(this,b===Ch||b===Yf||a===Ch||a===Yf),this.d("routing",b,a))});u.a(V,"smoothness",V.prototype.qs);
u.defineProperty(V,{qs:"smoothness"},s("Uq"),function(a){var b=this.Uq;b!==a&&(t&&u.e(a,"number",V,"smoothness"),this.Uq=a,this.Af(),this.d("smoothness",b,a))});
function Yl(a){var b=a.Jg;if(b!==m){var c=a.bh;if(c!==m){var d=a.Kg,a=a.dh,e;a:{if(!(c===m||b.Dg===m))for(e=b.Dg.f;e.next();){var g=e.value;if(g.ho===b&&g.fs===c&&g.gv===d&&g.hv===a||g.ho===c&&g.fs===b&&g.gv===a&&g.hv===d){e=g;break a}}e=m}for(var i=g=m,j=b.zd.j,k=j.length,l=0;l<k;l++){var n=j[l];if(n.Jg===b&&n.Kg===d&&n.bh===c&&n.dh===a||n.Jg===c&&n.Kg===a&&n.bh===b&&n.dh===d)i===m?i=n:(g===m&&(g=new A(V),g.add(i)),g.add(n))}if(g!==m){e===m&&(e=new Kl,e.ho=b,e.gv=d,e.fs=c,e.hv=a,Jl(b,e),Jl(c,e));
e.links=g;for(l=0;l<g.count;l++)if(n=g.j[l],0===n.Md){b=1;for(c=0;c<g.count;c++)Math.abs(g.j[c].Md)===b&&(b++,c=-1);n.Sk=e;n.Md=n.ja===e.ho?b:-b;n.Vb()}}}}}
function Xl(a){var b=a.Sk;if(b!==m){var c=a.Md;a.Sk=m;a.Md=0;a.Vb();b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.j[0],c.Sk=m,c.Md=0,c.Vb()),c=b.ho,b!==m&&c.Dg!==m&&c.Dg.remove(b),c=b.fs,b!==m&&c.Dg!==m&&c.Dg.remove(b);else{c=Math.abs(c);a=0===c%2;for(b=b.links.f;b.next();){var d=b.value,e=Math.abs(d.Md),g=0===e%2;e>c&&a===g&&(d.Md=0<d.Md?d.Md-2:d.Md+2,d.Vb())}}}}function Kl(){u.Qb(this);this.links=this.hv=this.fs=this.gv=this.ho=m;this.mj=10}
u.xf(Kl,{ho:h,gv:h,fs:h,hv:h,links:h,mj:h});function Mi(){u.Qb(this);this.group=m;this.Pl=h;this.abort=p;this.gg=this.fg=1;this.xt=this.wt=-1;this.$c=this.nd=8;this.Gb=m;this.dE=p;this.HD=22;this.GC=111}u.xf(Mi,{group:h,Pl:h,abort:h,dE:h,HD:h,GC:h});var oa=0,wm=1,xm=1,pa=999999999,Fm=pa;
function Ni(a,b){if(!(0>=b.width||0>=b.height)){var c=b.y,d=b.x+b.width,e=b.y+b.height;a.fg=Math.floor((b.x-a.nd)/a.nd)*a.nd;a.gg=Math.floor((c-a.$c)/a.$c)*a.$c;a.wt=Math.ceil((d+2*a.nd)/a.nd)*a.nd;a.xt=Math.ceil((e+2*a.$c)/a.$c)*a.$c;c=1+(Math.ceil((a.wt-a.fg)/a.nd)|0);d=1+(Math.ceil((a.xt-a.gg)/a.$c)|0);if(a.Gb===m||a.jn<c-1||a.kn<d-1){for(var e=[],g=0;g<=c;g++){for(var i=[],j=0;j<=d;j++)i[j]=0;e[g]=i}a.Gb=e;a.jn=c-1;a.kn=d-1}if(a.Gb!==m)for(c=0;c<=a.jn;c++)for(d=0;d<=a.kn;d++)a.Gb[c][d]=Fm}}
u.m(Mi,{rb:m},function(){return new F(this.fg,this.gg,this.wt-this.fg,this.xt-this.gg)});u.a(Mi,"cellWidth",Mi.prototype.Al);u.defineProperty(Mi,{Al:m},s("nd"),function(a){0<a&&a!==this.nd&&(this.nd=a,Ni(this,this.rb))});u.a(Mi,"cellHeight",Mi.prototype.zl);u.defineProperty(Mi,{zl:m},s("$c"),function(a){0<a&&a!==this.$c&&(this.$c=a,Ni(this,this.rb))});function Gm(a,b,c){return a.fg<=b&&b<=a.wt&&a.gg<=c&&c<=a.xt}
function mm(a,b,c){if(!Gm(a,b,c))return 0;b-=a.fg;b/=a.nd;c-=a.gg;c/=a.$c;return a.Gb[b|0][c|0]}function Qi(a,b,c){Gm(a,b,c)&&(b-=a.fg,b/=a.nd,c-=a.gg,c/=a.$c,a.Gb[b|0][c|0]=oa)}function Pi(a){if(a.Gb!==m)for(var b=0;b<=a.jn;b++)for(var c=0;c<=a.kn;c++)a.Gb[b][c]>=wm&&(a.Gb[b][c]|=pa)}
function Hm(a,b,c,d,e,g,i,j,k){if(!(b<g||b>i||c<j||c>k)){var l,n;l=b|0;n=c|0;var r=a.Gb[l][n];if(r>=wm&&r<pa){e?n+=d:l+=d;for(r+=xm;g<=l&&(l<=i&&j<=n&&n<=k)&&!(r>=a.Gb[l][n]);)a.Gb[l][n]=r,r+=xm,e?n+=d:l+=d}l=e?n:l;if(e)if(0<d)for(c+=d;c<l;c+=d)Hm(a,b,c,1,!e,g,i,j,k),Hm(a,b,c,-1,!e,g,i,j,k);else for(c+=d;c>l;c+=d)Hm(a,b,c,1,!e,g,i,j,k),Hm(a,b,c,-1,!e,g,i,j,k);else if(0<d)for(b+=d;b<l;b+=d)Hm(a,b,c,1,!e,g,i,j,k),Hm(a,b,c,-1,!e,g,i,j,k);else for(b+=d;b>l;b+=d)Hm(a,b,c,1,!e,g,i,j,k),Hm(a,b,c,-1,!e,g,
i,j,k)}}function Im(a,b,c,d,e,g,i,j,k,l,n){for(var r=b|0,q=c|0,v=a.Gb[r][q];0===v&&r>j&&r<k&&q>l&&q<n;)if(i?q+=g:r+=g,v=a.Gb[r][q],1>=Math.abs(r-d)&&1>=Math.abs(q-e))return a.abort=h,0;r=b|0;q=c|0;v=a.Gb[r][q];b=wm;for(a.Gb[r][q]=b;0===v&&r>j&&r<k&&q>l&&q<n;)i?q+=g:r+=g,v=a.Gb[r][q],a.Gb[r][q]=b,b+=xm;return i?q:r}
function lm(a,b,c,d,e,g){if(a.Gb!==m){a.abort=p;var i=b.x,j=b.y;if(Gm(a,i,j)){var i=i-a.fg,i=i/a.nd,j=j-a.gg,j=j/a.$c,k=d.x,l=d.y;if(Gm(a,k,l))if(k-=a.fg,k/=a.nd,l-=a.gg,l/=a.$c,1>=Math.abs(i-k)&&1>=Math.abs(j-l))a.abort=h;else{var n=g.x,b=g.y,d=g.x+g.width,r=g.y+g.height,n=n-a.fg,n=n/a.nd,b=b-a.gg,b=b/a.$c,d=d-a.fg,d=d/a.nd,r=r-a.gg,r=r/a.$c,g=Math.max(0,Math.min(a.jn,n|0)),d=Math.min(a.jn,Math.max(0,d|0)),b=Math.max(0,Math.min(a.kn,b|0)),r=Math.min(a.kn,Math.max(0,r|0)),i=i|0,j=j|0,k=k|0,l=l|0,
n=i,q=j,v=0===c||90===c?1:-1;(c=90===c||270===c)?q=Im(a,i,j,k,l,v,c,g,d,b,r):n=Im(a,i,j,k,l,v,c,g,d,b,r);if(!a.abort){a:{for(var c=0===e||90===e?1:-1,e=90===e||270===e,v=k|0,x=l|0,C=a.Gb[v][x];0===C&&v>g&&v<d&&x>b&&x<r;)if(e?x+=c:v+=c,C=a.Gb[v][x],1>=Math.abs(v-i)&&1>=Math.abs(x-j)){a.abort=h;break a}v=k|0;x=l|0;C=a.Gb[v][x];for(a.Gb[v][x]=Fm;0===C&&v>g&&v<d&&x>b&&x<r;)e?x+=c:v+=c,C=a.Gb[v][x],a.Gb[v][x]=Fm}a.abort||(Hm(a,n,q,1,p,g,d,b,r),Hm(a,n,q,-1,p,g,d,b,r),Hm(a,n,q,1,h,g,d,b,r),Hm(a,n,q,-1,h,
g,d,b,r))}}}}}function rm(){u.Qb(this);this.Ff=this.port=this.th=m;this.es=p}u.xf(rm,{th:h,port:h,Ff:h,es:h});rm.prototype.toString=function(){for(var a=this.Ff,b=this.th.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];d!==m&&(b+="\n  "+d.toString())}return b};
function Jm(a,b,c,d){b=b.offsetY;switch(b){case u.Qc:return 90;case u.Gc:return 180;case u.Zc:return 270;case u.Rc:return 0}switch(b){case u.Qc|u.Zc:return 180<c?270:90;case u.Gc|u.Rc:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case u.Gc|u.Zc:return c>a&&c<=180+a?180:270;case u.Zc|u.Rc:return c>180-a&&c<=360-a?270:0;case u.Rc|u.Qc:return c>a&&c<=180+a?90:0;case u.Qc|u.Gc:return c>180-a&&c<=360-a?180:90;case u.Gc|u.Zc|u.Rc:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case u.Zc|u.Rc|u.Qc:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case u.Rc|u.Qc|u.Gc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case u.Qc|u.Gc|u.Zc:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(u.Gc|u.Zc|u.Rc|u.Qc)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
function sm(a,b){var c=a.Ff;if(c===m){if(!a.es){c=a.es;a.es=h;var d=a.th.pe;a.Ff=[];for(var e=0,g=new F(a.port.Db(nc),a.port.Db(vc)),d=d.f;d.next();){var i=d.value;if(i.ib()){var j=hc,j=i.Nc===a.port?fm(i,a.port):gm(i,a.port);if($b(j)){var k;k=i.Nc===a.port?i.wd:i.Nc;if(k!==m&&k.aa!==m){var l=k.Db(qc);k=k.rd;k=k!==m?sm(k,i):m;k!==m&&(l=k.Zn);k=g.Au.gi(l);var j=Jm(g,j,k,Sg(i)),n;0===j?(n=u.Rc,180<k&&(k-=360)):n=90===j?u.Qc:180===j?u.Gc:u.Zc;(j=a.Ff[e])?(j.link=i,j.Va=k,j.Ld=n):(j=new Km(i,k,n),a.Ff[e]=
j);j.fv.set(l);e++}}}}a.Ff.sort(rm.prototype.CG);g=a.Ff.length;d=-1;for(e=i=0;e<g;e++)j=a.Ff[e],j!==m&&(j.Ld!==d&&(d=j.Ld,i=0),j.Nl=i,i++);d=-1;i=0;for(e=g-1;0<=e;e--)j=a.Ff[e],j!==m&&(j.Ld!==d&&(d=j.Ld,i=j.Nl+1),j.Ar=i);e=a.Ff;for(g=0;g<e.length;g++)if(d=e[g],d!==m){l=d;j=a.port;i=d=f;switch(l.Ld){case u.Qc:d=j.Db(vc);i=j.Db(tc);break;case u.Gc:d=j.Db(tc);i=j.Db(nc);break;case u.Zc:d=j.Db(nc);i=j.Db(pc);break;default:case u.Rc:d=j.Db(pc),i=j.Db(vc)}j=i.y-d.y;k=(l.Nl+1)/(l.Ar+1);l=l.Zn;l.x=d.x+(i.x-
d.x)*k;l.y=d.y+j*k}e=a.Ff;for(g=0;g<e.length;g++)if(i=e[g],i!==m){d=i;k=i;n=k.link;i=jm(n,a.port,hc,n.Nc===a.port);l=k.Nl;if(!(0>l)&&(j=k.Ar,!(1>=j)&&Sg(n))){n=k.fv;var r=k.Zn;if(k.Ld===u.Gc||k.Ld===u.Qc)l=j-1-l;i=((k=k.Ld===u.Gc||k.Ld===u.Rc)?n.y<r.y:n.x<r.x)?i+8*l:(k?n.y===r.y:n.x===r.x)?i:i+8*(j-1-l)}d.Nu=i}a.es=c}c=a.Ff}for(e=0;e<c.length;e++)if(g=c[e],g!==m&&g.link===b)return g;return m}
rm.prototype.CG=function(a,b){return a===b?0:a===m?-1:b===m?1:a.Ld<b.Ld?-1:a.Ld>b.Ld?1:a.Va<b.Va?-1:a.Va>b.Va?1:0};function Km(a,b,c){this.link=a;this.Va=b;this.Ld=c;this.fv=new E;this.Nl=this.Ar=this.Nl=0;this.Zn=new E;this.Nu=0}u.xf(Km,{link:h,Va:h,Ld:h,fv:h,Nl:h,Ar:h,Zn:h,Nu:h});Km.prototype.toString=function(){return this.link.toString()+" "+this.Va.toString()+" "+this.Ld.toString()+":"+this.Nl.toString()+"/"+this.Ar.toString()+" "+this.Zn.toString()+" "+this.Nu.toString()+" "+this.fv.toString()};
function tf(a){0===arguments.length?U.call(this,bh):U.call(this,a);this.bq=new ta(R);this.ll=new ta(tf);this.ak=this.cq=this.aq=m;this.ir=p;this.Ip=h;this.lr=p;this.fb=this.Zq=m;this.Po=p;this.ed=new Sh;this.ed.group=this}u.J("Group",tf);u.va(tf,U);da=tf.prototype;
da.pb=function(a){U.prototype.pb.call(this,a);a.aq=this.aq;a.cq=this.cq;a.ak=this.ak;a.ir=this.ir;a.Ip=this.Ip;a.lr=this.lr;a.Zq=this.Zq;var b=Mk(a,a,function(a){return a instanceof Wg});a.fb=b instanceof Wg?b:m;a.Po=this.Po;this.ed!==m?(a.ed=this.ed.copy(),a instanceof tf&&(a.ed.group=a)):(a.ed!==m&&(a.ed.group=m),a.ed=m)};
da.lh=function(a){U.prototype.lh.call(this,a);for(var b=a.Qu(),a=a.sc;a.next();){var c=a.value;c.L();c.v(Kj);c.jh();c instanceof tf&&(c.zv=c.ne,Lm(c,b));if(c instanceof U)c.zf(b);else if(c instanceof V)for(c=c.oi;c.next();)c.value.zf(b)}};
da.Xl=function(a,b,c,d,e,g,i){if(a===Be&&"elements"===b)if(e instanceof Wg)this.fb===m?this.fb=e:this.fb!==e&&u.g("Cannot insert a second Placeholder into the visual tree of a Group.");else{if(e instanceof w){var j=Mk(e,e,function(a){return a instanceof Wg});j instanceof Wg&&(this.fb===m?this.fb=j:this.fb!==j&&u.g("Cannot insert a second Placeholder into the visual tree of a Group."))}}else a===Ce&&"elements"===b&&(d===this.fb?this.fb=m:d instanceof w&&this.fb.ni(d)&&(this.fb=m));U.prototype.Xl.call(this,
a,b,c,d,e,g,i)};da.Ri=function(a,b,c,d){this.Fi=this.fb;w.prototype.Ri.call(this,a,b,c,d);this.fb!==m&&(a=this.fb.Vm,this.location=new E(a.x,a.y))};da.yk=function(){if(!U.prototype.yk.call(this))return p;for(var a=this.sc;a.next();){var b=a.value;if(b instanceof U){if(b.ib()&&b.Jc)return p}else if(b instanceof V&&b.ib()&&b.Jc&&b.ja!==this&&b.na!==this)return p}return h};u.m(tf,{placeholder:"placeholder"},s("fb"));u.a(tf,"computesBoundsAfterDrag",tf.prototype.ey);
u.defineProperty(tf,{ey:"computesBoundsAfterDrag"},s("Po"),function(a){var b=this.Po;b!==a&&(u.e(a,"boolean",tf,"computesBoundsAfterDrag"),this.Po=a,this.d("computesBoundsAfterDrag",b,a))});u.m(tf,{sc:"memberParts"},function(){return this.bq.f});function Cl(a,b){if(a.bq.add(b)){b instanceof tf&&a.ll.add(b);var c=a.RC;if(c!==m){var d=h,e=a.b;e!==m&&(d=e.Ca,e.Ca=h);c(a,b);e!==m&&(e.Ca=d)}}c=a.fb;c===m&&(c=a);c.L()}
function Bl(a,b){if(a.bq.remove(b)){b instanceof tf&&a.ll.remove(b);var c=a.SC;if(c!==m){var d=h,e=a.b;e!==m&&(d=e.Ca,e.Ca=h);c(a,b);e!==m&&(e.Ca=d)}}c=a.fb;c===m&&(c=a);c.L()}tf.prototype.Gl=function(){if(0<this.bq.count){var a=this.b;if(a===m)return;for(var b=this.bq.copy().f;b.next();)a.remove(b.value)}U.prototype.Gl.call(this)};tf.prototype.tv=function(){var a=this.za;a!==m&&a.tv(this)};u.a(tf,"layout",tf.prototype.Cb);
u.defineProperty(tf,{Cb:"layout"},s("ed"),function(a){var b=this.ed;b!==a&&(a!==m&&u.c(a,Sh,tf,"layout"),b!==m&&(b.b=m,b.group=m),this.ed=a,a!==m&&(a.b=this.b,a.group=this),this.d("layout",b,a))});u.a(tf,"memberAdded",tf.prototype.RC);u.defineProperty(tf,{RC:"memberAdded"},s("aq"),function(a){var b=this.aq;b!==a&&(a!==m&&u.e(a,"function",tf,"memberAdded"),this.aq=a,this.d("memberAdded",b,a))});u.a(tf,"memberRemoved",tf.prototype.SC);
u.defineProperty(tf,{SC:"memberRemoved"},s("cq"),function(a){var b=this.cq;b!==a&&(a!==m&&u.e(a,"function",tf,"memberRemoved"),this.cq=a,this.d("memberRemoved",b,a))});u.a(tf,"memberValidation",tf.prototype.$r);u.defineProperty(tf,{$r:"memberValidation"},s("ak"),function(a){var b=this.ak;b!==a&&(a!==m&&u.e(a,"function",tf,"memberValidation"),this.ak=a,this.d("memberValidation",b,a))});
tf.prototype.canAddMembers=tf.prototype.DH=function(a){var b=this.b;if(b===m)return p;b=b.Ed;for(a=b.qy(a).f;a.next();)if(!b.Gy(this,a.value))return p;return h};tf.prototype.addMembers=tf.prototype.AH=function(a,b){var c=this.b;if(c===m)return p;for(var c=c.Ed,d=h,e=c.qy(a).f;e.next();){var g=e.value;!b||c.Gy(this,g)?g.Za=this:d=p}return d};u.a(tf,"ungroupable",tf.prototype.$D);
u.defineProperty(tf,{$D:"ungroupable"},s("ir"),function(a){var b=this.ir;b!==a&&(u.e(a,"boolean",tf,"ungroupable"),this.ir=a,this.d("ungroupable",b,a))});tf.prototype.canUngroup=tf.prototype.dI=function(){if(!this.$D)return p;var a=this.za;if(a!==m&&!a.zn)return p;a=a.b;return a!==m&&!a.zn?p:h};tf.prototype.findSubGraphParts=tf.prototype.Qu=function(){var a=new ta(R);rf(a,this,h,p);a.remove(this);return a};
tf.prototype.collapseSubGraph=tf.prototype.xr=function(){var a=this.b;if(a!==m&&!a.Bf){a.Bf=h;var b=this.Qu();Lm(this,b);a.Bf=p}};function Lm(a,b){a.ne=p;for(var c=a.sc;c.next();){var d=c.value;d.L();d.v(Kj);d.jh();d instanceof tf&&(d.zv=d.ne,Lm(d,b));if(d instanceof U)d.zf(b);else if(d instanceof V)for(d=d.oi;d.next();)d.value.zf(b)}}tf.prototype.expandSubGraph=tf.prototype.Er=function(){var a=this.b;if(a!==m&&!a.Bf){a.Bf=h;var b=this.Qu();Mm(this,b);a.Bf=p}};
function Mm(a,b){a.ne=h;for(var c=a.sc;c.next();){var d=c.value;d.L();d.v(Hj);d.ti();d instanceof tf&&d.zv&&Mm(d,b);if(d instanceof U)d.zf(b);else if(d instanceof V)for(d=d.oi;d.next();)d.value.zf(b)}}u.a(tf,"isSubGraphExpanded",tf.prototype.ne);
u.defineProperty(tf,{ne:"isSubGraphExpanded"},s("Ip"),function(a){var b=this.Ip;if(b!==a){u.e(a,"boolean",tf,"isSubGraphExpanded");this.Ip=a;var c=this.b;c!==m&&Dh(c);this.d("isSubGraphExpanded",b,a);b=this.LD;if(b!==m){var d=h;c!==m&&(d=c.Ca,c.Ca=h);b(this);c!==m&&(c.Ca=d)}c!==m&&c.ia.hb||(a?this.Er():this.xr())}});u.a(tf,"wasSubGraphExpanded",tf.prototype.zv);
u.defineProperty(tf,{zv:"wasSubGraphExpanded"},s("lr"),function(a){var b=this.lr;b!==a&&(u.e(a,"boolean",tf,"wasSubGraphExpanded"),this.lr=a,this.d("wasSubGraphExpanded",b,a))});u.a(tf,"subGraphExpandedChanged",tf.prototype.LD);u.defineProperty(tf,{LD:"subGraphExpandedChanged"},s("Zq"),function(a){var b=this.Zq;b!==a&&(a!==m&&u.e(a,"function",tf,"subGraphExpandedChanged"),this.Zq=a,this.d("subGraphExpandedChanged",b,a))});
tf.prototype.move=tf.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;U.prototype.move.call(this,a);for(a=this.Qu().f;a.next();){var d=a.value,e=d.position;U.prototype.move.call(d,new E(e.x+c,e.y+b))}};function Wg(){Q.call(this);this.Nd=(new Hb(0)).freeze();this.Vm=new F(NaN,NaN,NaN,NaN)}u.J("Placeholder",Wg);u.va(Wg,Q);Wg.prototype.pb=function(a){Q.prototype.pb.call(this,a);a.Nd=this.Nd.F();a.Vm=this.Vm.copy()};
Wg.prototype.Ti=function(a){if(this.background===m&&this.$h===m)return p;var b=this.qa;return Mb(0,0,b.width,b.height,a.x,a.y)};
Wg.prototype.Zr=function(){var a=this.aa;(a===m||!(a instanceof tf)&&!(a instanceof sf))&&u.g("Placeholder is not inside a Group or Adornment.");if(a instanceof tf){var b;a:{b=this.aa;if(b instanceof tf&&b.ey&&this.Vm.ca()){var c=b.b;if(c!==m&&(c=c.xa,c instanceof Df&&!c.gp&&c.Lb!==m&&!c.Lb.contains(b))){b=this.Vm;break a}}b=this.aa;if(b instanceof tf){for(var d=c=Infinity,e=-Infinity,g=-Infinity,i=b.sc;i.next();){var j=i.value;if(j.ib()){if(j instanceof V){if(j.dc)continue;if(j.ja===b||j.na===b)continue}j=
j.pa;j.left<c&&(c=j.left);j.top<d&&(d=j.top);j.right>e&&(e=j.right);j.bottom>g&&(g=j.bottom)}}!isFinite(c)||!isFinite(d)?(b=b.location,c=this.padding,b=new F(b.x+c.left,b.y+c.top,0,0)):b=new F(c,d,e-c,g-d)}else b=new F;c=this.padding;b=new F(b.x-c.left,b.y-c.top,b.width+c.left+c.right,b.height+c.top+c.bottom)}this.Vm=b;c=this.vc;xb(c,b.width||0,b.height||0);gj(this,0,0,c.width,c.height);c=a.sc;for(d=p;c.next();)if(c.value.ib()){d=h;break}d&&(!isNaN(b.x)&&!isNaN(b.y))&&(a.location=new E(b.x,b.y))}else b=
this.ta,c=this.vc,xb(c,b.width||0,b.height||0),gj(this,0,0,c.width,c.height)};Wg.prototype.Ri=function(a,b,c,d){var e=this.pa;e.x=a;e.y=b;e.width=c;e.height=d};u.a(Wg,"padding",Wg.prototype.padding);u.defineProperty(Wg,{padding:"padding"},s("Nd"),function(a){"number"===typeof a?a=new Hb(a):u.c(a,Hb,w,"padding");var b=this.Nd;b.z(a)||(this.Nd=a=a.F(),this.d("padding",b,a))});function Sh(){u.Qb(this);this.Jw=this.N=m;this.it=this.Fp=h;this.Mp=this.Lp=p;this.Ho=(new E(0,0)).freeze();this.p=m}
u.J("Layout",Sh);Sh.prototype.cloneProtected=Sh.prototype.pb=function(a){a.Fp=this.Fp;a.it=this.it;a.Mp=this.Mp;a.Ho=this.Ho.F()};Sh.prototype.copy=Sh.prototype.copy=function(){var a=new this.constructor;this.pb(a);return a};Sh.prototype.toString=function(){var a=u.cj(Object.getPrototypeOf(this)),a=a+"(";this.group!==m&&(a+=" in "+this.group);this.b!==m&&(a+=" for "+this.b);return a+")"};u.a(Sh,"diagram",Sh.prototype.b);
u.defineProperty(Sh,{b:"diagram"},s("N"),function(a){this.N!==a&&(a!==m&&u.c(a,B,Sh,"diagram"),this.N=a)});u.a(Sh,"group",Sh.prototype.group);u.defineProperty(Sh,{group:"group"},s("Jw"),function(a){this.Jw!==a&&(a!==m&&u.c(a,tf,Sh,"group"),this.Jw=a)});u.a(Sh,"isOngoing",Sh.prototype.DC);u.defineProperty(Sh,{DC:"isOngoing"},s("Fp"),function(a){this.Fp!==a&&(u.e(a,"boolean",Sh,"isOngoing"),this.Fp=a)});u.a(Sh,"isInitial",Sh.prototype.CC);
u.defineProperty(Sh,{CC:"isInitial"},s("it"),function(a){u.e(a,"boolean",Sh,"isInitial");this.it=a;a||(this.Lp=h)});u.a(Sh,"isValidLayout",Sh.prototype.We);u.defineProperty(Sh,{We:"isValidLayout"},s("Lp"),function(a){this.Lp!==a&&(this.Lp=a,a||(a=this.b,a!==m&&(a.Es=h)))});Sh.prototype.invalidateLayout=Sh.prototype.v=function(){if(this.Lp){var a=this.b;if(a!==m&&!a.ia.hb&&(this.DC&&a.$f||this.CC&&!a.$f))this.We=p,a.jr=h,xf(a)}};u.a(Sh,"isViewportSized",Sh.prototype.cv);
u.defineProperty(Sh,{cv:"isViewportSized"},s("Mp"),function(a){this.Mp!==a&&(this.Mp=a)&&this.v()});u.a(Sh,"network",Sh.prototype.Pc);u.defineProperty(Sh,{Pc:"network"},s("p"),function(a){var b=this.p;b!==a&&(a!==m&&u.c(a,Nm,Sh,"network"),b!==m&&Om(b,m),this.p=a,a!==m&&Om(a,this))});Sh.prototype.createNetwork=Sh.prototype.Gu=function(){var a=new Nm;Om(a,this);return a};
Sh.prototype.makeNetwork=Sh.prototype.vG=function(a){var b=this.createNetwork();a instanceof B?(b.rr(a.Bk,h),b.rr(a.links,h)):a instanceof tf?b.rr(a.sc):a.f&&b.rr(a.f);return b};Sh.prototype.updateParts=Sh.prototype.NK=function(){var a=this.b;if(a===m&&this.p!==m)for(var b=this.p.U.f;b.next();){var c=b.value.Ia;if(c!==m&&(a=c.b,a!==m))break}a!==m&&a.Pb("Layout");this.commitLayout();a!==m&&a.Vd("Layout")};Sh.prototype.commitLayout=Sh.prototype.Du=aa();
Sh.prototype.doLayout=Sh.prototype.Cr=function(a){a===m&&u.g("Layout.doLayout(collection) argument must not be null");var b=new ta(R);a===this.b?(Pm(this,b,a.Bk,h,this.Sy,h,p,h),Pm(this,b,a.jj,h,this.Sy,h,p,h)):a===this.group&&Pm(this,b,a.sc,p,this.Sy,h,p,h);var c=b.count;if(0<c){a=this.b;a!==m&&a.Pb("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.Vc.x,e=d,g=this.Vc.y,i=0,j=0,b=b.f;b.next();){var k=b.value;k.ji();var l=k.pa.width,n=k.pa.height;k.move(new E(e,g));delete k.vA;e+=Math.max(l,50)+20;
j=Math.max(j,Math.max(n,50));i>=c-1?(i=0,e=d,g+=j+20,j=0):i++}a!==m&&a.Vd("Layout")}this.We=h};Sh.prototype.Sy=function(a){return!a.location.ca()||a instanceof tf&&a.vA?h:p};function Pm(a,b,c,d,e,g,i,j){for(c=c.f;c.next();){var k=c.value;if(!d||k.Vr)if(!e||e(k))k.vr()&&(g&&k instanceof U?k.ej||(k instanceof tf&&k.Cb===m?Pm(a,b,k.sc,p,e,g,i,j):b.add(k)):i&&k instanceof V?b.add(k):j&&k.constructor===R&&b.add(k))}}u.a(Sh,"arrangementOrigin",Sh.prototype.Vc);
u.defineProperty(Sh,{Vc:"arrangementOrigin"},s("Ho"),function(a){this.Ho.z(a)||(t&&u.c(a,E,Sh,"arrangementOrigin"),this.Ho.Xa(a),this.v())});function Qm(a,b){var c=a.group;if(c!==m){var d=c.location;if(isNaN(d.x)||isNaN(d.y))return b;var e=c.placeholder;e!==m?(d=e.Db(nc),d.x+=e.padding.left,d.y+=e.padding.top):d=c.position.copy();return d}return b}function Nm(){u.Qb(this);this.ed=m;this.clear()}u.J("LayoutNetwork",Nm);
Nm.prototype.clear=function(){if(this.kr)for(var a=this.kr.f;a.next();){var b=a.value;b.clear();b.p=m}if(this.ip)for(a=this.ip.f;a.next();)b=a.value,b.clear(),b.p=m;this.kr=new ta(Rm);this.ip=new ta(Sm);this.ax=new sa(U,Rm);this.Tw=new sa(V,Sm)};Nm.prototype.toString=function(){return"LayoutNetwork"+(this.Cb!==m?"("+this.Cb.toString()+")":"")};u.m(Nm,{Cb:"layout"},s("ed"));function Om(a,b){t&&b!==m&&u.c(b,Sh,Nm,"setLayout");a.ed=b}u.m(Nm,{U:"vertexes"},s("kr"));u.m(Nm,{Ub:"edges"},s("ip"));
Nm.prototype.createVertex=Nm.prototype.Ui=function(){return new Rm};Nm.prototype.createEdge=Nm.prototype.Dn=function(){return new Sm};
Nm.prototype.addParts=Nm.prototype.rr=function(a,b){if(a!==m){b===f&&(b=p);u.e(b,"boolean",Nm,"addParts:toplevelonly");for(var c=a.f;c.next();){var d=c.value;if(d instanceof U&&(!b||d.Vr)&&d.vr()&&!d.ej)if(d instanceof tf&&d.Cb===m)this.rr(d.sc,p);else if(this.me(d)===m){var e=this.Ui();e.th=d;this.nk(e)}}for(c.reset();c.next();)if(d=c.value,d instanceof V&&(!b||d.Vr)&&d.vr()&&this.Ou(d)===m){var g=d.ja,e=d.na;g!==e&&(g=this.Pu(g),e=this.Pu(e),g!==m&&e!==m&&this.Sl(g,e,d))}}};
Nm.prototype.findGroupVertex=Nm.prototype.Pu=function(a){if(a===m)return m;a=yl(a);if(a===m)return m;var b=this.me(a);if(b!==m)return b;a=a.Za;return a!==m&&(b=this.me(a),b!==m)?b:m};Nm.prototype.addVertex=Nm.prototype.nk=function(a){if(a!==m){t&&u.c(a,Rm,Nm,"addVertex:vertex");this.kr.add(a);var b=a.Ia;b!==m&&this.ax.add(b,a);a.p=this}};Nm.prototype.addNode=Nm.prototype.pn=function(a){if(a===m)return m;t&&u.c(a,U,Nm,"addNode:node");var b=this.me(a);b===m&&(b=this.Ui(),b.th=a,this.nk(b));return b};
Nm.prototype.deleteVertex=Nm.prototype.RB=function(a){if(a!==m&&(t&&u.c(a,Rm,Nm,"deleteVertex:vertex"),Tm(this,a))){for(var b=a.rf,c=b.count-1;0<=c;c--){var d=b.R(c);this.En(d)}b=a.Ae;for(c=b.count-1;0<=c;c--)d=b.R(c),this.En(d)}};function Tm(a,b){if(b===m)return p;var c=a.kr.remove(b);c&&(a.ax.remove(b.Ia),b.p=m);return c}Nm.prototype.deleteNode=Nm.prototype.AI=function(a){a!==m&&(t&&u.c(a,U,Nm,"deleteNode:node"),a=this.me(a),a!==m&&this.RB(a))};
Nm.prototype.findVertex=Nm.prototype.me=function(a){if(a===m)return m;t&&u.c(a,U,Nm,"findVertex:node");return this.ax.ga(a)};Nm.prototype.addEdge=Nm.prototype.on=function(a){if(a!==m){t&&u.c(a,Sm,Nm,"addEdge:edge");this.ip.add(a);var b=a.Ha;b!==m&&this.Ou(b)===m&&this.Tw.add(b,a);b=a.G;b!==m&&b.hB(a);b=a.I;b!==m&&b.dB(a);a.p=this}};
Nm.prototype.addLink=Nm.prototype.zH=function(a){if(a===m)return m;t&&u.c(a,V,Nm,"addLink:link");var b=a.ja,c=a.na,d=this.Ou(a);d===m?(d=this.Dn(),d.Ha=a,b!==m&&(d.I=this.pn(b)),c!==m&&(d.G=this.pn(c)),this.on(d)):(d.I=b!==m?this.pn(b):m,d.G=c!==m?this.pn(c):m);return d};Nm.prototype.deleteEdge=Nm.prototype.En=function(a){if(a!==m){t&&u.c(a,Sm,Nm,"deleteEdge:edge");var b=a.G;b!==m&&b.QB(a);b=a.I;b!==m&&b.PB(a);Um(this,a)}};function Um(a,b){b!==m&&a.ip.remove(b)&&(a.Tw.remove(b.Ha),b.p=m)}
Nm.prototype.deleteLink=Nm.prototype.zI=function(a){a!==m&&(t&&u.c(a,V,Nm,"deleteLink:link"),a=this.Ou(a),a!==m&&this.En(a))};Nm.prototype.findEdge=Nm.prototype.Ou=function(a){if(a===m)return m;t&&u.c(a,V,Nm,"findEdge:link");return this.Tw.ga(a)};
Nm.prototype.linkVertexes=Nm.prototype.Sl=function(a,b,c){if(a===m||b===m)return m;t&&(u.c(a,Rm,Nm,"linkVertexes:fromVertex"),u.c(b,Rm,Nm,"linkVertexes:toVertex"),u.c(c,V,Nm,"linkVertexes:link"));if(a.p===this&&b.p===this){var d=this.Dn();d.Ha=c;d.I=a;d.G=b;this.on(d);return d}return m};Nm.prototype.reverseEdge=Nm.prototype.mv=function(a){if(a!==m){t&&u.c(a,Sm,Nm,"reverseEdge:edge");var b=a.I,c=a.G;b===m||c===m||(b.PB(a),c.QB(a),a.mv(),b.hB(a),c.dB(a))}};
Nm.prototype.deleteSelfEdges=Nm.prototype.Ku=function(){for(var a=[],b=this.Ub.f;b.next();){var c=b.value;c.I===c.G&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.En(a[c])};Nm.prototype.deleteArtificialVertexes=Nm.prototype.zF=function(){for(var a=[],b=this.U.f;b.next();){var c=b.value;c.Ia===m&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.RB(a[b]);a=[];for(b=this.Ub.f;b.next();)c=b.value,c.Ha===m&&a.push(c);c=a.length;for(b=0;b<c;b++)this.En(a[b])};
Nm.prototype.splitIntoSubNetworks=Nm.prototype.cH=function(){this.zF();for(var a=[],b=this.Ub.f;b.next();){var c=b.value;(c.I===m||c.G===m)&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.En(a[c]);this.Ku();a=new A(Nm);for(c=h;c;)for(var c=p,d=this.U.f;d.next();)if(b=d.value,0<b.rf.count||0<b.Ae.count){c=this.Cb.createNetwork();a.add(c);Vm(this,c,b);c=h;break}a.sort(function(a,b){return a===m||b===m||a===b?0:b.U.count-a.U.count});return a};
function Vm(a,b,c){if(c!==m&&c.p!==b){Tm(a,c);b.nk(c);for(var d=c.yb;d.next();){var e=d.value;e.p!==b&&(Um(a,e),b.on(e),Vm(a,b,e.I))}for(d=c.xb;d.next();)e=d.value,e.p!==b&&(Um(a,e),b.on(e),Vm(a,b,e.G))}}Nm.prototype.getParts=Nm.prototype.fJ=function(){for(var a=new ta(R),b=this.U.f;b.next();)a.add(b.value.Ia);for(b=this.Ub.f;b.next();)a.add(b.value.Ha);return a};function Rm(){u.Qb(this);this.p=m;this.C=(new F(0,0,10,10)).freeze();this.B=(new E(5,5)).freeze();this.clear()}u.J("LayoutVertex",Rm);
Rm.prototype.clear=function(){this.Ia=m;this.rf=new A(Sm);this.Ae=new A(Sm)};Rm.prototype.toString=function(){return"LayoutVertex#"+u.qc(this)+(this.Ia!==m?"("+this.Ia.toString()+")":"")};u.a(Rm,"network",Rm.prototype.Pc);u.defineProperty(Rm,{Pc:"network"},s("p"),function(a){this.p!==a&&(a!==m&&u.c(a,Nm,Rm,"network"),this.p=a)});u.a(Rm,"node",Rm.prototype.th);
u.defineProperty(Rm,{th:"node"},s("Ia"),function(a){if(this.Ia!==a){t&&a!==m&&u.c(a,U,Rm,"node");this.Ia=a;a.ji();var b=a.pa;if(b.ca()&&(this.C.Xa(b),a=a.location,a.ca())){var c=this.B;c.wa();c.x=a.x-b.x;c.y=a.y-b.y;c.freeze()}}});u.a(Rm,"bounds",Rm.prototype.rb);u.defineProperty(Rm,{rb:"bounds"},s("C"),function(a){this.C.z(a)||(t&&u.c(a,F,Rm,"bounds"),this.C.Xa(a))});u.a(Rm,"focus",Rm.prototype.focus);u.defineProperty(Rm,{focus:"focus"},s("B"),function(a){this.B.z(a)||(t&&u.c(a,E,Rm,"focus"),this.B.Xa(a))});
u.a(Rm,"centerX",Rm.prototype.Da);u.defineProperty(Rm,{Da:"centerX"},function(){return this.C.x+this.B.x},function(a){var b=this.C;b.x+this.B.x!==a&&(t&&u.i(a,Rm,"centerX"),b.wa(),b.x=a-this.B.x,b.freeze())});u.a(Rm,"centerY",Rm.prototype.Ea);u.defineProperty(Rm,{Ea:"centerY"},function(){return this.C.y+this.B.y},function(a){var b=this.C;b.y+this.B.y!==a&&(t&&u.i(a,Rm,"centerY"),b.wa(),b.y=a-this.B.y,b.freeze())});u.a(Rm,"focusX",Rm.prototype.Su);
u.defineProperty(Rm,{Su:"focusX"},function(){return this.B.x},function(a){var b=this.B;b.x!==a&&(b.wa(),b.x=a,b.freeze())});u.a(Rm,"focusY",Rm.prototype.Tu);u.defineProperty(Rm,{Tu:"focusY"},function(){return this.B.y},function(a){var b=this.B;b.y!==a&&(b.wa(),b.y=a,b.freeze())});u.a(Rm,"x",Rm.prototype.x);u.defineProperty(Rm,{x:"x"},function(){return this.C.x},function(a){var b=this.C;b.x!==a&&(b.wa(),b.x=a,b.freeze())});u.a(Rm,"y",Rm.prototype.y);
u.defineProperty(Rm,{y:"y"},function(){return this.C.y},function(a){var b=this.C;b.y!==a&&(b.wa(),b.y=a,b.freeze())});u.a(Rm,"width",Rm.prototype.width);u.defineProperty(Rm,{width:"width"},function(){return this.C.width},function(a){var b=this.C;b.width!==a&&(b.wa(),b.width=a,b.freeze())});u.a(Rm,"height",Rm.prototype.height);u.defineProperty(Rm,{height:"height"},function(){return this.C.height},function(a){var b=this.C;b.height!==a&&(b.wa(),b.height=a,b.freeze())});
Rm.prototype.commit=Rm.prototype.di=function(){var a=this.Ia;a!==m&&a.move(this.rb.position)};Rm.prototype.addSourceEdge=Rm.prototype.hB=function(a){a!==m&&(t&&u.c(a,Sm,Rm,"addSourceEdge:edge"),this.rf.contains(a)||this.rf.add(a))};Rm.prototype.deleteSourceEdge=Rm.prototype.QB=function(a){a!==m&&(t&&u.c(a,Sm,Rm,"deleteSourceEdge:edge"),this.rf.remove(a))};Rm.prototype.addDestinationEdge=Rm.prototype.dB=function(a){a!==m&&(t&&u.c(a,Sm,Rm,"addDestinationEdge:edge"),this.Ae.contains(a)||this.Ae.add(a))};
Rm.prototype.deleteDestinationEdge=Rm.prototype.PB=function(a){a!==m&&(t&&u.c(a,Sm,Rm,"deleteDestinationEdge:edge"),this.Ae.remove(a))};u.m(Rm,{bH:"sourceVertexes"},function(){for(var a=new ta(Rm),b=this.yb;b.next();){var c=b.value.I;c!==m&&!a.contains(c)&&a.add(c)}return a.f});u.m(Rm,{CF:"destinationVertexes"},function(){for(var a=new ta(Rm),b=this.xb;b.next();){var c=b.value.G;c!==m&&!a.contains(c)&&a.add(c)}return a.f});
u.m(Rm,{U:"vertexes"},function(){for(var a=new ta(Rm),b=this.yb;b.next();){var c=b.value,c=c.I;c!==m&&!a.contains(c)&&a.add(c)}for(b=this.xb;b.next();)c=b.value,c=c.G,c!==m&&!a.contains(c)&&a.add(c);return a.f});u.m(Rm,{yb:"sourceEdges"},function(){return this.rf.f});u.m(Rm,{xb:"destinationEdges"},function(){return this.Ae.f});u.m(Rm,{Ub:"edges"},function(){for(var a=new A(Sm),b=this.yb;b.next();){var c=b.value;a.add(c)}for(b=this.xb;b.next();)c=b.value,a.add(c);return a.f});
u.m(Rm,{NF:"edgesCount"},function(){return this.rf.count+this.Ae.count});var Wm;Rm.standardComparer=Wm=function(a,b){t&&u.c(a,Rm,Rm,"standardComparer:m");t&&u.c(b,Rm,Rm,"standardComparer:n");var c=a.Ia,d=b.Ia;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:d!==m?-1:0};
Rm.smartComparer=function(a,b){t&&u.c(a,Rm,Rm,"smartComparer:m");t&&u.c(b,Rm,Rm,"smartComparer:n");if(a!==m){if(b!==m){var c=a.Ia,d=b.Ia;if(c!==m){if(d!==m){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;
else{if(isNaN(i))return-1;if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return d!==m?-1:0}return 1}return b!==m?-1:0};function Sm(){u.Qb(this);this.p=m;this.clear()}u.J("LayoutEdge",Sm);Sm.prototype.clear=function(){this.G=this.I=this.Ha=m};Sm.prototype.toString=function(){return"LayoutEdge#"+u.qc(this)+(this.Ha!==m?"("+this.Ha.toString()+")":"")};u.a(Sm,"network",Sm.prototype.Pc);
u.defineProperty(Sm,{Pc:"network"},s("p"),function(a){this.p!==a&&(t&&a!==m&&u.c(a,Nm,Sm,"network"),this.p=a)});u.a(Sm,"link",Sm.prototype.link);u.defineProperty(Sm,{link:"link"},s("Ha"),function(a){this.Ha!==a&&(t&&a!==m&&u.c(a,V,Sm,"link"),this.Ha=a)});u.a(Sm,"fromVertex",Sm.prototype.UF);u.defineProperty(Sm,{UF:"fromVertex"},s("I"),function(a){this.I!==a&&(t&&a!==m&&u.c(a,Rm,Sm,"fromVertex"),this.I=a)});u.a(Sm,"toVertex",Sm.prototype.lH);
u.defineProperty(Sm,{lH:"toVertex"},s("G"),function(a){this.G!==a&&(t&&a!==m&&u.c(a,Rm,Sm,"toVertex"),this.G=a)});Sm.prototype.mv=function(){var a=this.I;this.I=this.G;this.G=a};Sm.prototype.commit=Sm.prototype.di=aa();Sm.prototype.getOtherVertex=Sm.prototype.WF=function(a){t&&u.c(a,Rm,Sm,"getOtherVertex:v");return this.G===a?this.I:this.I===a?this.G:m};
function Xi(){Sh.call(this);this.cv=h;this.nr=this.or=NaN;this.vi=(new L(NaN,NaN)).freeze();this.Wg=(new L(10,10)).freeze();this.ra=jk;this.Hc=hk;this.ec=dk;this.bc=Xm}u.J("GridLayout",Xi);u.va(Xi,Sh);Xi.prototype.cloneProtected=Xi.prototype.pb=function(a){Sh.prototype.pb.call(this,a);a.or=this.or;a.nr=this.nr;a.vi=this.vi.F();a.Wg=this.Wg.F();a.ra=this.ra;a.Hc=this.Hc;a.ec=this.ec;a.bc=this.bc};
Xi.prototype.doLayout=Xi.prototype.Cr=function(a){var b=this.b;b===m&&u.g("The diagram for this layout is not set.");this.Vc=Qm(this,this.Vc);var c=new ta(R);a===this.b?(Pm(this,c,a.Bk,h,m,h,p,h),Pm(this,c,a.links,h,m,h,p,h),Pm(this,c,a.jj,h,m,h,p,h)):a===this.group&&Pm(this,c,a.sc,p,m,h,p,h);for(a=c.copy().f;a.next();){var d=a.value;if(d instanceof V&&(d.ja!==m||d.na!==m))c.remove(d);else if(d.ji(),d instanceof tf)for(d=d.sc;d.next();)c.remove(d.value)}c=c.Nf();if(0!==c.length){switch(this.Jf){case gk:c.reverse();
break;case dk:c.sort(this.kh);break;case ek:c.sort(this.kh),c.reverse()}d=this.eE;isNaN(d)&&(d=0);a=this.xz;a=isNaN(a)?Math.max(this.b.ub.width-b.padding.left-b.padding.right,0):Math.max(this.xz,0);0>=d&&0>=a&&(d=1);var e=this.mj.width;isFinite(e)||(e=0);var g=this.mj.height;isFinite(g)||(g=0);b.Pb("Layout");switch(this.vb){case kk:var i=Math.max(this.sk.width,1);if(!isFinite(i))for(var j=i=0;j<c.length;j++)var k=c[j],l=k.qa,i=Math.max(i,l.width);var i=Math.max(i+e,1),n=Math.max(this.sk.height,1);
if(!isFinite(n))for(j=n=0;j<c.length;j++)k=c[j],l=k.qa,n=Math.max(n,l.height);for(var n=Math.max(n+g,1),r=this.Td,q=this.Vc.x,v=q,x=this.Vc.y,C=0,G=0,j=0;j<c.length;j++){var k=c[j],l=k.qa,I=Math.ceil((l.width+e)/i)*i,y=Math.ceil((l.height+g)/n)*n,J;switch(r){case ik:J=Math.abs(v-l.width)+q;break;default:J=v+l.width-q}if(0<d&&C>d-1||0<a&&0<C&&J>a)C=0,v=q,x+=G,G=0;G=Math.max(G,y);switch(r){case ik:l=-l.width;break;default:l=0}k.move(new E(v+l,x));switch(r){case ik:v-=I;break;default:v+=I}C++}break;
case jk:i=Math.max(this.sk.width,1);for(k=j=C=x=0;k<c.length;k++)n=c[k],r=n.qa,q=zl(n,n.Eb,n.Df),x=Math.max(x,q.x),C=Math.max(C,r.width-q.x),j=Math.max(j,q.y);v=this.Td;switch(v){case ik:x+=e;break;default:C+=e}var i=isFinite(i)?Math.max(i+e,1):Math.max(x+C,1),z=x=this.Vc.x,C=this.Vc.y,I=G=0,l=Math.max(this.sk.height,1),y=j=0;J=h;for(k=0;k<c.length;k++){n=c[k];r=n.qa;q=zl(n,n.Eb,n.Df);if(0<G)switch(v){case ik:z=Math.floor((z-x-(r.width-q.x))/i)*i+x;break;default:z=Math.ceil((z-x+q.x)/i)*i+x}else switch(v){case ik:I=
z+q.x+r.width;break;default:I=z-q.x}var H;switch(v){case ik:H=-(z+q.x)+x+I;break;default:H=z+r.width-q.x-x-I}if(0<d&&G>d-1||0<a&&0<G&&H>a){for(z=0;z<G&&k!==G;z++){H=c[k-G+z];var ha=zl(H,H.Eb,H.Df);H.move(new E(H.position.x,H.position.y+j-ha.y))}y+=g;C=J?C+y:C+(y+j);G=y=j=0;z=x;J=p}j=Math.max(j,q.y);y=Math.max(y,r.height-q.y);isFinite(l)&&(y=Math.max(y,Math.max(r.height,l)-q.y));J?n.move(new E(z-q.x,C-q.y)):n.move(new E(z-q.x,C));switch(v){case ik:z-=q.x+e;break;default:z+=r.width-q.x+e}G++}for(z=
0;z<G&&k!==G;z++)H=c[k-G+z],ha=zl(H,H.Eb,H.Df),H.move(new E(H.position.x,H.position.y+j-ha.y))}b.Vd("Layout");this.We=h}};u.a(Xi,"wrappingWidth",Xi.prototype.xz);u.defineProperty(Xi,{xz:"wrappingWidth"},s("or"),function(a){if(this.or!==a&&(0<a||isNaN(a)))this.or=a,this.cv=isNaN(a),this.v()});u.a(Xi,"wrappingColumn",Xi.prototype.eE);u.defineProperty(Xi,{eE:"wrappingColumn"},s("nr"),function(a){if(this.nr!==a&&(0<a||isNaN(a)))this.nr=a,this.v()});u.a(Xi,"cellSize",Xi.prototype.sk);
u.defineProperty(Xi,{sk:"cellSize"},s("vi"),function(a){this.vi.z(a)||(this.vi.Xa(a),this.v())});u.a(Xi,"spacing",Xi.prototype.mj);u.defineProperty(Xi,{mj:"spacing"},s("Wg"),function(a){this.Wg.z(a)||(this.Wg.Xa(a),this.v())});u.a(Xi,"alignment",Xi.prototype.vb);u.defineProperty(Xi,{vb:"alignment"},s("ra"),function(a){if(this.ra!==a&&(t&&u.c(a,ra,Xi,"alignment"),a===jk||a===kk))this.ra=a,this.v()});u.a(Xi,"arrangement",Xi.prototype.Td);
u.defineProperty(Xi,{Td:"arrangement"},s("Hc"),function(a){if(this.Hc!==a&&(t&&u.c(a,ra,Xi,"arrangement"),a===hk||a===ik))this.Hc=a,this.v()});u.a(Xi,"sorting",Xi.prototype.Jf);u.defineProperty(Xi,{Jf:"sorting"},s("ec"),function(a){if(this.ec!==a&&(t&&u.c(a,ra,Xi,"sorting"),a===fk||a===gk||a===dk||ek))this.ec=a,this.v()});u.a(Xi,"comparer",Xi.prototype.kh);u.defineProperty(Xi,{kh:"comparer"},s("bc"),function(a){this.bc!==a&&(t&&u.e(a,"function",Xi,"comparer"),this.bc=a,this.v())});var Xm;
Xi.standardComparer=Xm=function(a,b){t&&u.c(a,R,Xi,"standardComparer:a");t&&u.c(b,R,Xi,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
Xi.smartComparer=function(a,b){t&&u.c(a,R,Xi,"standardComparer:a");t&&u.c(b,R,Xi,"standardComparer:b");if(a!==m){if(b!==m){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;else{if(isNaN(i))return-1;
if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return b!==m?-1:0};var kk;Xi.Position=kk=u.l(Xi,"Position",0);var jk;Xi.Location=jk=u.l(Xi,"Location",1);var hk;Xi.LeftToRight=hk=u.l(Xi,"LeftToRight",2);var ik;Xi.RightToLeft=ik=u.l(Xi,"RightToLeft",3);var fk;Xi.Forward=fk=u.l(Xi,"Forward",4);var gk;Xi.Reverse=gk=u.l(Xi,"Reverse",5);var dk;Xi.Ascending=dk=u.l(Xi,"Ascending",6);var ek;Xi.Descending=ek=u.l(Xi,"Descending",7);
function lk(){Sh.call(this);this.zw=this.xm=this.hc=0;this.hp=360;this.yw=xk;this.Os=this.ie=this.ZA=this.Kj=0;this.qu=new Ym;this.Rs=this.Tm=0;this.EA=function(a){a||(a=(new Date).getTime());return(9301*a+49297)%233280/233280};this.AE=600;this.uq=NaN;this.Jo=1;this.Xg=0;this.Zg=360;this.Hc=xk;this.T=tk;this.ec=qk;this.bc=Wm;this.Wg=6;this.nq=Ak}u.J("CircularLayout",lk);u.va(lk,Sh);
lk.prototype.cloneProtected=lk.prototype.pb=function(a){Sh.prototype.pb.call(this,a);a.uq=this.uq;a.Jo=this.Jo;a.Xg=this.Xg;a.Zg=this.Zg;a.Hc=this.Hc;a.T=this.T;a.ec=this.ec;a.bc=this.bc;a.Wg=this.Wg;a.nq=this.nq};lk.prototype.createNetwork=lk.prototype.Gu=function(){var a=new Zm;Om(a,this);return a};
lk.prototype.doLayout=lk.prototype.Cr=function(a){this.Pc===m&&(this.Pc=this.makeNetwork(a));if(1===this.p.U.count)a=this.p.U.R(0),a.Da=0,a.Ea=0;else{for(var a=this.p.U.f,b=new A($m);a.next();){var c=a.value,d=c.Ia;d!==m&&(c.width=d.ua.width,c.height=d.ua.height);b.add(c)}var a=new A($m),c=new A($m),b=this.sort(b),a=new A($m),c=new A($m),d=this.yw,e=this.sE,g=this.hc,i=this.xm,j=this.zw,k=this.hp,l=this.Kj,n=this.ZA,r=this.ie,q=this.Os,d=this.Td,e=this.gs,g=this.gD;if(!isFinite(g)||0>=g)g=NaN;i=this.oB;
if(!isFinite(i)||0>=i)i=1;j=this.qi;isFinite(j)||(j=0);k=this.oj;if(!isFinite(k)||360<k||1>k)k=360;l=this.mj;isFinite(l)||(l=NaN);d===yk&&e===zk?d=xk:d===yk&&e!==zk&&(e=zk,d=this.Td);if((this.direction===rk||this.direction===sk)&&this.Jf!==qk){for(var v=0;!(v>=b.length);v+=2){a.add(b.R(v));if(v+1>=b.length)break;c.add(b.R(v+1))}this.direction===rk?(this.Td===yk&&a.reverse(),b=new A($m),b.pg(a),b.pg(c)):(this.Td===yk&&c.reverse(),b=new A($m),b.pg(c),b.pg(a))}for(var x=b.length,C=n=0,v=0;v<b.length;v++){var r=
j+k*C*(this.direction===tk?1:-1)/x,G=b.R(v).Qe;isNaN(G)&&(G=an(b.R(v),r));if(360>k&&(0===v||v===b.length-1))G/=2;n+=G;C++}if(isNaN(g)||d===yk){isNaN(l)&&(l=6);if(d!==xk&&d!==yk){G=-Infinity;for(v=0;v<x;v++){var q=b.R(v),I=b.R(v===x-1?0:v+1);isNaN(q.Qe)&&an(q,0);isNaN(I.Qe)&&an(I,0);G=Math.max(G,(q.Qe+I.Qe)/2)}q=G+l;d===vk?(r=2*Math.PI/x,g=(G+l)/r):g=bn(this,q*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180)}else g=bn(this,n+(360<=k?x:x-1)*(d!==yk?l:1.6*l),i,j*Math.PI/180,k*Math.PI/180);r=g*i}else if(r=
g*i,C=cn(this,g,r,j*Math.PI/180,k*Math.PI/180),isNaN(l)){if(d===xk||d===yk)l=(C-n)/(360<=k?x:x-1)}else if(d===xk||d===yk)v=(C-n)/(360<=k?x:x-1),v<l?(g=bn(this,n+l*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180),r=g*i):l=v;else{G=-Infinity;for(v=0;v<x;v++)q=b.R(v),I=b.R(v===x-1?0:v+1),isNaN(q.Qe)&&an(q,0),isNaN(I.Qe)&&an(I,0),G=Math.max(G,(q.Qe+I.Qe)/2);q=G+l;v=bn(this,q*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180);v>g?(g=v,r=g*i):q=C/(360<=k?x:x-1)}this.yw=d;this.sE=e;this.hc=g;this.xm=i;this.zw=j;
this.hp=k;this.Kj=l;this.ZA=n;this.ie=r;this.Os=q;c=[b,a,c];b=c[0];a=c[1];c=c[2];d=this.yw;e=this.hc;i=this.zw;j=this.hp;k=this.Kj;l=this.ie;n=this.Os;if((this.direction===rk||this.direction===sk)&&d===yk)dn(this,b,j,i-j/2,tk);else if(this.direction===rk||this.direction===sk){g=0;switch(d){case wk:g=180*en(this,e,l,i,n)/Math.PI;break;case xk:n=b=0;g=a.oc();g!==m&&(b=an(g,Math.PI/2));g=c.oc();g!==m&&(n=an(g,Math.PI/2));g=180*en(this,e,l,i,k+(b+n)/2)/Math.PI;break;case vk:g=j/b.length}if(this.direction===
rk){switch(d){case wk:fn(this,a,i,uk);break;case xk:gn(this,a,i,uk);break;case vk:hn(this,a,j/2,i,uk)}switch(d){case wk:fn(this,c,i+g,tk);break;case xk:gn(this,c,i+g,tk);break;case vk:hn(this,c,j/2,i+g,tk)}}else{switch(d){case wk:fn(this,c,i,uk);break;case xk:gn(this,c,i,uk);break;case vk:hn(this,c,j/2,i,uk)}switch(d){case wk:fn(this,a,i+g,tk);break;case xk:gn(this,a,i+g,tk);break;case vk:hn(this,a,j/2,i+g,tk)}}}else switch(d){case wk:fn(this,b,i,this.direction);break;case xk:gn(this,b,i,this.direction);
break;case vk:hn(this,b,j,i,this.direction);break;case yk:dn(this,b,j,i,this.direction)}this.updateParts();this.Pc=m;this.We=h}};function hn(a,b,c,d,e){for(var g=a.hp,i=a.hc,a=a.ie,d=d*Math.PI/180,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=d+(e===tk?k*c/(360<=g?j:j-1):-(k*c)/j),n=b.R(k),r=i*Math.tan(l)/a,r=Math.sqrt((i*i+a*a*r*r)/(1+r*r));n.Da=r*Math.cos(l);n.Ea=r*Math.sin(l);n.tu=180*l/Math.PI}}
function gn(a,b,c,d){for(var e=a.hc,g=a.ie,i=a.Kj,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.R(k),n=b.R(k===j-1?0:k+1),r=g*Math.sin(c);l.Da=e*Math.cos(c);l.Ea=r;l.tu=180*c/Math.PI;isNaN(l.Qe)&&an(l,0);isNaN(n.Qe)&&an(n,0);l=en(a,e,g,d===tk?c:-c,(l.Qe+n.Qe)/2+i);c+=d===tk?l:-l}}function fn(a,b,c,d){for(var e=a.hc,g=a.ie,i=a.Os,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.R(k);l.Da=e*Math.cos(c);l.Ea=g*Math.sin(c);l.tu=180*c/Math.PI;l=en(a,e,g,d===tk?c:-c,i);c+=d===tk?l:-l}}
function dn(a,b,c,d,e){var g=a.Rs,g=a.hp;a.DA=0;a.qu=new Ym;if(360>c){for(g=d+(e===tk?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.Rs=g;jn(a,b,c,d,e)}else kn(a,b,c,d,e);a.qu.di(b)}
function kn(a,b,c,d,e){for(var g=a.Kj,i=a.xm,j=a.hc*Math.cos(d*Math.PI/180),k=a.ie*Math.sin(d*Math.PI/180),l=b.Nf(),n=0;n<l.length;n++){l[n].Da=j;l[n].Ea=k;if(n===l.length-1)break;var r=[],r=ln(a,j,k,l,n,e);r[0]||(r=mn(a,j,k,l,n,e));j=r[1];k=r[2]}a.Tm++;if(!(128<a.Tm)){var j=l[0].Da,k=l[0].Ea,n=l[l.length-1].Da,r=l[l.length-1].Ea,q=Math.abs(j-n)-((l[0].width+l[l.length-1].width)/2+g),v=Math.abs(k-r)-((l[0].height+l[l.length-1].height)/2+g),g=0;2.5>Math.abs(v)?Math.abs(j-n)<(l[0].width+l[l.length-
1].width)/2&&(g=0):g=0<v?v:2.5>Math.abs(q)?0:q;q=p;q=Math.abs(n)>Math.abs(r)?0<n^k>r:0<r^j<n;if(q=e===tk?q:!q)g=-Math.abs(g),g=Math.min(g,-l[l.length-1].width),g=Math.min(g,-l[l.length-1].height);j=a.qu;if(0<g&&0>j.Bm||Math.abs(g)<Math.abs(j.Bm)&&!(0>g&&0<j.Bm)){j.Bm=g;j.wl=[];j.mn=[];for(k=0;k<l.length;k++)j.wl[k]=l[k].rb.x,j.mn[k]=l[k].rb.y}l=a.Tm;36<l&&0===l%13&&(a.hc*=(0===l%2?0.75:1.1)+0.15*a.EA(a.Tm),a.ie=a.hc*i);2.5<Math.abs(g)&&(a.hc-=g/(2*Math.PI),a.ie=a.hc*i,kn(a,b,c,d,e))}}
function jn(a,b,c,d,e){for(var g=a.hc,i=a.ie,j=a.xm,k=g*Math.cos(d*Math.PI/180),l=i*Math.sin(d*Math.PI/180),n=b.Nf(),r=0;r<n.length;r++){n[r].Da=k;n[r].Ea=l;if(r===n.length-1)break;var q=[],q=ln(a,k,l,n,r,e);q[0]||(q=mn(a,k,l,n,r,e));k=q[1];l=q[2]}a.DA++;if(!(128<a.DA)){b.R(b.length-1);k=Math.atan2(l,k);k=e===tk?a.Rs-k:k-a.Rs;k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI;g=k*(g+i)/2;i=a.qu;if(Math.abs(g)<Math.abs(i.Bm)){i.Bm=g;i.wl=[];i.mn=[];for(k=0;k<n.length;k++)i.wl[k]=n[k].rb.x,i.mn[k]=n[k].rb.y}n=
a.Tm;36<n&&0===n%13&&(a.hc*=(0==n%2?0.75:1.1)+0.15*a.EA(a.Tm),a.ie=a.hc*j);2.5<Math.abs(g)&&(a.hc-=g/(2*Math.PI),a.ie=a.hc*j,jn(a,b,c,d,e))}}
function ln(a,b,c,d,e,g){var i=a.Kj,j=a.hc,a=a.ie,k=0,l=0,n=p;if(0<=c^g===tk){if(k=b+((d[e].width+d[e+1].width)/2+i),k>j){k=b-((d[e].width+d[e+1].width)/2+i);if(k<-j)return[p,k,l];n=h}}else if(k=b-((d[e].width+d[e+1].width)/2+i),k<-j){k=b+((d[e].width+d[e+1].width)/2+i);if(k>j)return[p,k,l];n=h}l=Math.sqrt(1-k*k/(j*j))*a;0>c^n&&(l=-l);return Math.abs(c-l)>(d[e].height+d[e+1].height)/2?[p,k,l]:[h,k,l]}
function mn(a,b,c,d,e,g){var i=a.Kj,j=a.hc,a=a.ie,k=0,l=0,n=p;if(0<=b^g===tk){if(l=c-((d[e].height+d[e+1].height)/2+i),l<-a){l=c+((d[e].height+d[e+1].height)/2+i);if(l>a)return[p,k,l];n=h}}else if(l=c+((d[e].height+d[e+1].height)/2+i),l>a){l=c-((d[e].height+d[e+1].height)/2+i);if(l<-a)return[p,k,l];n=h}k=Math.sqrt(1-l*l/(a*a))*j;0>b^n&&(k=-k);return Math.abs(b-k)>(d[e].width+d[e+1].width)/2?[p,k,l]:[h,k,l]}function Ym(){this.Bm=-Infinity;this.mn=this.wl=m}
Ym.prototype.di=function(a){if(!(this.wl===m||this.mn===m))for(var b=0;b<this.wl.length;b++){var c=a.R(b);c.x=this.wl[b];c.y=this.mn[b]}};lk.prototype.commitLayout=lk.prototype.Du=function(){this.commitNodes();this.commitLinks()};lk.prototype.commitNodes=lk.prototype.dy=function(){for(var a=this.LE,b=this.p.U.f,c;b.next();)c=b.value,c.x+=a.x,c.y+=a.y,c.di()};lk.prototype.commitLinks=lk.prototype.cy=function(){for(var a=this.p.Ub.f;a.next();)a.value.di()};
function cn(a,b,c,d,e){var g=a.AE;if(0.0010>Math.abs(a.xm-1))return d!==f&&e!==f?e*b:2*Math.PI*b;var a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,j;j=d!==f&&e!==f?e/(g+1):Math.PI/(2*(g+1));for(var k=0;k<=g;k++)var l=Math.sin(d!==f&&e!==f?d+k*e/g:k*Math.PI/(2*g)),i=i+Math.sqrt(1-a*a*l*l)*j;return d!==f&&e!==f?(b>c?b:c)*i:4*(b>c?b:c)*i}function bn(a,b,c,d,e){return b/(d!==f&&e!==f?cn(a,1,c,d,e):cn(a,1,c))}
function en(a,b,c,d,e){if(0.0010>Math.abs(a.xm-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,a=2*Math.PI/(700*a.p.U.count);b>c&&(d+=Math.PI/2);for(var j=0;;j++){var k=Math.sin(d+j*a),i=i+(b>c?b:c)*Math.sqrt(1-g*g*k*k)*a;if(i>=e)return j*a}return 0}
lk.prototype.sort=function(a){switch(this.Jf){case ok:break;case pk:a.reverse();break;case mk:a.sort(this.kh);break;case nk:a.sort(this.kh);a.reverse();break;case qk:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new A($m),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var i=0;i<a.length;i++){var j=a.R(i).NF;j>e&&(e=j,g=i)}else for(i=0;i<a.length;i++)j=b[i],j>e&&(e=j,g=i);d.add(a.R(g));b[g]=-1;g=a.R(g);e=g.yb;for(g=g.xb;e.next();)i=e.value,i=i.I,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++;for(;g.next();)i=
g.value,i=i.G,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++}a=[];for(b=0;b<d.length;b++){j=d.R(b);a[b]=[];for(var c=j.xb,e=j.yb,k,l;c.next();)k=c.value,l=d.indexOf(k.G),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(;e.next();)k=e.value,l=d.indexOf(k.I),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}j=[];for(b=0;b<a.length;b++)j[b]=0;for(var c=[],n=[],r=[],e=[],g=new A($m),i=b=0;b<a.length;b++){var q=a[b].length;if(1===q)e.push(b);else if(0===q)g.add(d.R(b));else{if(0===i)c.push(b);else{for(var v=Infinity,x=Infinity,C=
-1,G=[],q=0;q<c.length;q++)if(0>a[c[q]].indexOf(c[q===c.length-1?0:q+1]))G.push(q===c.length-1?0:q+1);if(0===G.length)for(q=0;q<c.length;q++)G.push(q);for(q=0;q<G.length;q++){var I=G[q],y;l=a[b];k=n;y=r;for(var J=j,z=I,H=c,ha=0,S=0;S<k.length;S++){var T=J[k[S]],ia=J[y[S]],la=0,Da=0;T<ia?(la=T,Da=ia):(la=ia,Da=T);if(la<z&&z<=Da)for(T=0;T<l.length;T++)ia=l[T],0>H.indexOf(ia)||la<J[ia]&&J[ia]<Da||(la===J[ia]||Da===J[ia])||ha++;else for(T=0;T<l.length;T++)ia=l[T],0>H.indexOf(ia)||la<J[ia]&&J[ia]<Da&&
!(la===J[ia]||Da===J[ia])&&ha++}y=ha;for(k=J=0;k<a[b].length;k++)l=c.indexOf(a[b][k]),0<=l&&(l=Math.abs(I-(l>=I?l+1:l)),J+=l<c.length+1-l?l:c.length+1-l);for(k=0;k<n.length;k++)l=j[n[k]],z=j[r[k]],l>=I&&l++,z>=I&&z++,l>z&&(H=z,z=l,l=H),z-l<(c.length+2)/2^(l<I&&I<=z)||J++;if(y<v||y===v&&J<x)v=y,x=J,C=I}c.splice(C,0,b);for(q=0;q<c.length;q++)j[c[q]]=q;for(q=0;q<a[b].length;q++)v=a[b][q],0<=c.indexOf(v)&&(n.push(b),r.push(v))}i++}}n=p;for(r=c.length;;){n=h;for(j=0;j<e.length;j++)if(b=e[j],q=a[b][0],
l=c.indexOf(q),0<=l){for(i=x=0;i<a[q].length;i++)v=a[q][i],v=c.indexOf(v),0>v||v===l||(C=v>l?v-l:l-v,x+=v<l^C>r-C?1:-1);c.splice(0>x?l:l+1,0,b);e.splice(j,1);j--}else n=p;if(n)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.R(l));return g;default:u.g("Invalid sorting type.")}return a};u.a(lk,"radius",lk.prototype.gD);u.defineProperty(lk,{gD:"radius"},s("uq"),function(a){if(this.uq!==a&&(0<a||isNaN(a)))this.uq=a,this.v()});u.a(lk,"aspectRatio",lk.prototype.oB);
u.defineProperty(lk,{oB:"aspectRatio"},s("Jo"),function(a){this.Jo!==a&&0<a&&(this.Jo=a,this.v())});u.a(lk,"startAngle",lk.prototype.qi);u.defineProperty(lk,{qi:"startAngle"},s("Xg"),function(a){this.Xg!==a&&(this.Xg=a,this.v())});u.a(lk,"sweepAngle",lk.prototype.oj);u.defineProperty(lk,{oj:"sweepAngle"},s("Zg"),function(a){this.Zg!==a&&(this.Zg=0<a&&360>=a?a:360,this.v())});u.a(lk,"arrangement",lk.prototype.Td);
u.defineProperty(lk,{Td:"arrangement"},s("Hc"),function(a){if(this.Hc!==a&&(t&&u.c(a,ra,lk,"arrangement"),a===yk||a===xk||a===wk||a===vk))this.Hc=a,this.v()});u.a(lk,"direction",lk.prototype.direction);u.defineProperty(lk,{direction:"direction"},s("T"),function(a){if(this.T!==a&&(t&&u.c(a,ra,lk,"direction"),a===tk||a===uk||a===rk||a===sk))this.T=a,this.v()});u.a(lk,"sorting",lk.prototype.Jf);
u.defineProperty(lk,{Jf:"sorting"},s("ec"),function(a){if(this.ec!==a&&(t&&u.c(a,ra,lk,"sorting"),a===ok||a===pk||a===mk||nk||a===qk))this.ec=a,this.v()});u.a(lk,"comparer",lk.prototype.kh);u.defineProperty(lk,{kh:"comparer"},s("bc"),function(a){this.bc!==a&&(t&&u.e(a,"function",lk,"comparer"),this.bc=a,this.v())});u.a(lk,"spacing",lk.prototype.mj);u.defineProperty(lk,{mj:"spacing"},s("Wg"),function(a){this.Wg!==a&&(this.Wg=a,this.v())});u.a(lk,"nodeDiameterFormula",lk.prototype.gs);
u.defineProperty(lk,{gs:"nodeDiameterFormula"},s("nq"),function(a){if(this.nq!==a&&(t&&u.c(a,ra,lk,"nodeDiameterFormula"),a===Ak||a===zk))this.nq=a,this.v()});u.m(lk,{ME:"actualXRadius"},s("hc"));u.m(lk,{NE:"actualYRadius"},s("ie"));u.m(lk,{xH:"actualSpacing"},s("Kj"));u.m(lk,{LE:"actualCenter"},function(){return isNaN(this.Vc.x)||isNaN(this.Vc.y)?new E(0,0):new E(this.Vc.x+this.ME,this.Vc.y+this.NE)});var xk;lk.ConstantSpacing=xk=u.l(lk,"ConstantSpacing",0);var wk;
lk.ConstantDistance=wk=u.l(lk,"ConstantDistance",1);var vk;lk.ConstantAngle=vk=u.l(lk,"ConstantAngle",2);var yk;lk.Packed=yk=u.l(lk,"Packed",3);var tk;lk.Clockwise=tk=u.l(lk,"Clockwise",4);var uk;lk.Counterclockwise=uk=u.l(lk,"Counterclockwise",5);var rk;lk.BidirectionalLeft=rk=u.l(lk,"BidirectionalLeft",6);var sk;lk.BidirectionalRight=sk=u.l(lk,"BidirectionalRight",7);var ok;lk.Forwards=ok=u.l(lk,"Forwards",8);var pk;lk.Reverse=pk=u.l(lk,"Reverse",9);var mk;lk.Ascending=mk=u.l(lk,"Ascending",10);
var nk;lk.Descending=nk=u.l(lk,"Descending",11);var qk;lk.Optimized=qk=u.l(lk,"Optimized",12);var Ak;lk.Pythagorean=Ak=u.l(lk,"Pythagorean",13);var zk;lk.Circular=zk=u.l(lk,"Circular",14);function Zm(){Nm.call(this)}u.J("CircularNetwork",Zm);u.va(Zm,Nm);Zm.prototype.createVertex=Zm.prototype.Ui=function(){return new $m};Zm.prototype.createEdge=Zm.prototype.Dn=function(){return new nn};function $m(){Rm.call(this);this.Fz=this.wm=NaN}u.J("CircularVertex",$m);u.va($m,Rm);
function an(a,b){var c=a.p;if(c===m)return NaN;c=c.Cb;if(c===m)return NaN;if(c.Td===yk)if(c.gs===zk)a.wm=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.wm=Math.min(a.height/c,a.width/d)}else a.wm=c.gs===zk?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.wm}u.a($m,"diameter",$m.prototype.Qe);u.defineProperty($m,{Qe:"diameter"},s("wm"),ba("wm"));u.a($m,"actualAngle",$m.prototype.tu);
u.defineProperty($m,{tu:"actualAngle"},s("Fz"),ba("Fz"));function nn(){Sm.call(this)}u.J("CircularEdge",nn);u.va(nn,Sm);function on(){Sh.call(this);this.uf=m;this.Np=0;this.bf=(new L(100,100)).freeze();this.Io=p;this.pd=this.Vg=h;this.Rm=100;this.kp=1;this.yp=1E3;this.cp=0.05;this.bp=50;this.$o=150;this.ap=0;this.Yo=20;this.Xo=25}u.J("ForceDirectedLayout",on);u.va(on,Sh);
on.prototype.cloneProtected=on.prototype.pb=function(a){Sh.prototype.pb.call(this,a);a.bf=this.bf.F();a.Io=this.Io;a.Vg=this.Vg;a.pd=this.pd;a.Rm=this.Rm;a.kp=this.kp;a.yp=this.yp;a.cp=this.cp;a.bp=this.bp;a.$o=this.$o;a.ap=this.ap;a.Yo=this.Yo;a.Xo=this.Xo};on.prototype.createNetwork=on.prototype.Gu=function(){var a=new pn;Om(a,this);return a};
on.prototype.doLayout=on.prototype.Cr=function(a){this.Pc===m&&(this.Pc=this.makeNetwork(a));a=this.dv;if(0<this.p.U.count){this.p.Ku();for(var b=this.p.U.f;b.next();){var c=b.value;c.xi=this.electricalCharge(c);c.Qm=this.gravitationalMass(c);var d=c.Ia;if(d!==m){var e=d.pa.width,d=d.pa.height;c.width=e;c.height=d;c.Su=0.5*e;c.Tu=0.5*d}}for(b=this.p.Ub.f;b.next();)c=b.value,c.Xq=this.springStiffness(c),c.Lh=this.springLength(c);this.Np=0;a:{if(!(3>this.p.U.count)){e=b=0;c=this.p.U.f;c.next();for(d=
c.value.C;c.next();){if(c.value.C.Ve(d)&&(b++,1<b)){b=h;break a}if(10<e)break;e++}}b=p}if(b){b=this.p;for(e=b.cH().f;e.next();){this.Pc=d=e.value;for(c=this.p.U.f;c.next();){for(var d=c.value,g=0,i=d.U;i.next();)g++;d.De=g;d.Ki=1;d.Tk=m;d.mg=m}qn(this,0,a)}this.Pc=b;e.reset();t&&u.c(b,pn,on,"arrangeConnectedGraphs:singletons");for(var c=this.yu,j=e.count,d=h,i=g=0,k=[],l=0;l<j+b.U.count+2;l++)k[l]=m;j=0;for(e.reset();e.next();){var n=e.value,l=this.Oe(n);if(d)d=p,g=l.x+l.width/2,i=l.y+l.height/2,
k[0]=new E(l.right+c.width,l.top),k[1]=new E(l.left,l.bottom+c.height),j=2;else{var r=rn(k,j,new E(g,i),new L(l.width,l.height),c),q=k[r],v=new E(q.x+l.width+c.width,q.y),x=new E(q.x,q.y+l.height+c.height);r+1<j&&k.splice(r+1,0,m);k[r]=v;k[r+1]=x;j++;r=q.x-l.x;l=q.y-l.y;for(n=n.U.f;n.next();){var C=n.value;C.Da+=r;C.Ea+=l}}}for(n=b.U.f;n.next();)C=n.value,l=C.C,2>j?(g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new E(l.right+c.width,l.top),k[1]=new E(l.left,l.bottom+c.height),j=2):(r=rn(k,j,new E(g,i),new L(l.width,
l.height),c),q=k[r],v=new E(q.x+l.width+c.width,q.y),x=new E(q.x,q.y+l.height+c.height),r+1<j&&k.splice(r+1,0,m),k[r]=v,k[r+1]=x,j++,C.Da=q.x+C.width/2,C.Ea=q.y+C.height/2);for(e.reset();e.next();){d=e.value;for(g=d.U.f;g.next();)c=g.value,b.nk(c);for(d=d.Ub.f;d.next();)c=d.value,b.on(c)}}sn(this,a);this.updateParts()}this.Rm=a;this.Pc=m;this.We=h};on.prototype.Oe=function(a){t&&u.c(a,pn,on,"computeBounds:net");for(var b=new F,c=h,a=a.U.f;a.next();){var d=a.value;c?(c=p,b.set(d.C)):b.qj(d.C)}return b};
function tn(a,b,c){t&&(u.i(b,on,"computeClusterLayoutIterations:level"),u.i(c,on,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.p.U.count,c*(b+1)/11),10)}
function qn(a,b,c){t&&(u.i(b,on,"layoutClusters:level"),u.i(c,on,"layoutClusters:maxiter"));var d;t&&u.i(b,on,"hasClusters:level");if(10<b||3>a.p.U.count)d=p;else{a.uf===m?a.uf=new A(un):a.uf.clear();a.uf.pg(a.p.U);d=a.uf;d.sort(function(a,b){return a===m||b===m||a===b?0:b.De-a.De});for(var e=d.count-1;0<=e&&1>=d.j[e].De;)e--;d=1<d.count-e}if(d){d=a.Ol;a.Ol*=1+1/(b+1);t&&u.i(b,on,"pushSubNetwork:level");for(var e=a.p,g=new pn,i=a.uf.f;i.next();){var j=i.value;if(1<j.De){g.nk(j);var k={Az:j.De,Bz:j.width,
zz:j.height,gE:j.B.x,hE:j.B.y};j.mg===m&&(j.mg=new A);j.mg.add(k);j.nx=j.mg.count-1}else break}for(var l=e.Ub.f;l.next();){var n=l.value;if(n.I.p===g&&n.G.p===g)g.on(n);else if(n.I.p===g){var r=n.I.Tk;r===m&&(r=new A(un),n.I.Tk=r);r.add(n.G);n.I.De--;n.I.Ki+=n.G.Ki}else n.G.p===g&&(r=n.G.Tk,r===m&&(r=new A(un),n.G.Tk=r),r.add(n.I),n.G.De--,n.G.Ki+=n.I.Ki)}for(l=g.Ub.f;l.next();)n=l.value,n.Lh*=Math.max(1,Math.sqrt((n.I.Ki+n.G.Ki)/(4*b+1)));for(i=g.U.f;i.next();)if(j=i.value,r=j.Tk,r!==m&&0<r.count&&
(k=j.mg.j[j.mg.count-1],k=k.Az-j.De,!(0>=k))){for(var q=0,v=0,x=r.count-k;x<r.count;x++){for(var C=r.j[x],n=m,l=C.Ub.f;l.next();){var G=l.value;if(G.WF(C)===j){n=G;break}}n!==m&&(v+=n.Lh,q+=C.width*C.height)}r=j.Da;l=j.Ea;n=j.width;x=j.height;C=j.B;G=n*x;1>G&&(G=1);q=Math.sqrt((q+G+4*v*v/(k*k))/G);k=(q-1)*n/2;q=(q-1)*x/2;j.rb=new F(r-C.x-k,l-C.y-q,n+2*k,x+2*q);j.focus=new E(C.x+k,C.y+q)}a.Pc=g;g=Math.max(0,tn(a,b,c));a.dv+=g;qn(a,b+1,c);sn(a,g);t&&(u.c(e,pn,on,"popNetwork:oldnet"),u.i(b,on,"popNetwork:level"));
for(c=a.p.U.f;c.next();)g=c.value,g.p=e,g.mg!==m&&(i=g.mg.j[g.nx],g.De=i.Az,j=i.gE,k=i.hE,g.rb=new F(g.Da-j,g.Ea-k,i.Bz,i.zz),g.focus=new E(j,k),g.nx--);for(c=a.p.Ub.f;c.next();)c.value.p=e;a.Pc=e;c=a.uf;c===m?c=new A(un):c.clear();c.pg(e.U);c.sort(function(a,b){return a===m||b===m||a===b?0:b.De-a.De});for(e=c.f;e.next();)vn(a,e.value,b);a.Ol=d}}
function vn(a,b,c){t&&(u.c(b,un,on,"surroundNode:oldnet"),u.i(c,on,"surroundNode:level"));var d=b.Tk;if(!(d===m||0===d.count)){var c=b.Da,e=b.Ea,g=b.width,i=b.height;b.mg!==m&&0<b.mg.count&&(i=b.mg.j[0],g=i.Bz,i=i.zz);for(var g=Math.sqrt(g*g+i*i)/2,j=p,k=i=0,l=0,n=b.U.f;n.next();){var r=n.value;1>=r.De?k++:(j=h,l++,i+=Math.atan2(b.Ea-r.Ea,b.Da-r.Da))}if(0!==k){0<l&&(i/=l);l=b=0;b=j?2*Math.PI/(k+1):2*Math.PI/k;0===k%2&&(l=b/2);1<d.count&&d.sort(function(a,b){return a===m||b===m||a===b?0:b.width*b.height-
a.width*a.height});j=0===k%2?0:1;for(n=d.f;n.next();)if(r=n.value,!(1<r.De)&&!a.isFixed(r)){d=m;for(k=r.Ub.f;k.next();){d=k.value;break}var k=r.width,q=r.height,d=g+d.Lh+Math.sqrt(k*k+q*q)/2,k=i+(b*(j/2>>1)+l)*(0==j%2?1:-1);r.Da=c+d*Math.cos(k);r.Ea=e+d*Math.sin(k);j++}}}}
function rn(a,b,c,d,e){var g=9E19,i=-1,j=0;a:for(;j<b;j++){var k=a[j],l=k.x-c.x,n=k.y-c.y,l=l*l+n*n;if(l<g){for(n=j-1;0<=n;n--)if(a[n].y>k.y&&a[n].x-k.x<d.width+e.width)continue a;for(n=j+1;n<b;n++)if(a[n].x>k.x&&a[n].y-k.y<d.height+e.height)continue a;i=j;g=l}}return i}on.prototype.cB=function(a){var b=a.Ia;if(b!==m)for(b=b.dC();b.next();){var c=b.value;if("Comment"===c.td){var d=this.p.me(c);d===m&&(d=this.p.pn(c),d.xi=this.HB,c=this.p.Sl(a,d,m),c!==m&&(c.Lh=this.IB))}}};
function wn(a,b){t&&(u.c(a,un,on,"getNodeDistance:vertexA"),u.c(b,un,on,"getNodeDistance:vertexB"));var c=a.rb,d=c.x,e=c.y,g=c.width,c=c.height,i=b.rb,j=i.x,k=i.y,l=i.width,i=i.height;return d+g<j?e>k+i?(d=d+g-j,e=e-k-i,Math.sqrt(d*d+e*e)):e+c<k?(d=d+g-j,e=e+c-k,Math.sqrt(d*d+e*e)):j-(d+g):d>j+l?e>k+i?(d=d-j-l,e=e-k-i,Math.sqrt(d*d+e*e)):e+c<k?(d=d-j-l,e=e+c-k,Math.sqrt(d*d+e*e)):d-(j+l):e>k+i?e-(k+i):e+c<k?k-(e+c):0.1}
function sn(a,b){t&&u.i(b,on,"performIterations:num");a.uf=m;for(var c=a.Np+b;a.Np<c&&!(a.Np++,!xn(a)););a.uf=m}
function xn(a){a.uf===m&&(a.uf=new A(un),a.uf.pg(a.p.U));var b=a.uf;if(0>=b.count)return p;var c=b.j[0];c.xd=0;c.yd=0;for(var d=c.Da,e=d,g=c.Ea,i=g,c=1;c<b.count;c++){var j=b.j[c];j.xd=0;j.yd=0;var k=j.Da,j=j.Ea,d=Math.min(d,k),e=Math.max(e,k),g=Math.min(g,j),i=Math.max(i,j)}(i=e-d>i-g)?b.sort(function(a,b){return a===m||b===m||a===b?0:a.Da-b.Da}):b.sort(function(a,b){return a===m||b===m||a===b?0:a.Ea-b.Ea});for(var l=0,n=k=0,c=0;c<b.count;c++){j=b.j[c];d=j.Da;e=j.Ea;k=j.xi*a.electricalFieldX(d,e);
n=j.xi*a.electricalFieldY(d,e);j.xd+=k;j.yd+=n;k=j.Qm*a.gravitationalFieldX(d,e);n=j.Qm*a.gravitationalFieldY(d,e);j.xd+=k;j.yd+=n;for(var r=a.Ol,q=c+1;q<b.count;q++)if(g=b.j[q],g!==j){var n=g.Da,v=g.Ea;if(Math.abs(d-n)>r){if(i)break}else if(Math.abs(e-v)>r){if(!i)break}else{var x=wn(j,g);1>x?(d>n?(k=Math.abs(g.C.right-j.C.left),k=yn(1+k)):d<n?(k=Math.abs(g.C.left-j.C.right),k=-yn(1+k)):(k=Math.max(g.width,j.width),k=yn(1+k)-k/2),e>v?(n=Math.abs(g.C.bottom-j.C.top),n=yn(1+n)):d<n?(n=Math.abs(g.C.top-
j.C.bottom),n=-yn(1+n)):(n=Math.max(g.height,j.height),n=yn(1+n)-n/2)):(l=-(j.xi*g.xi)/(x*x),k=l*((n-d)/x),n=l*((v-e)/x));j.xd+=k;j.yd+=n;g.xd-=k;g.yd-=n}}}for(c=a.p.Ub.f;c.next();)i=c.value,j=i.I,g=i.G,d=j.Da,e=j.Ea,n=g.Da,v=g.Ea,x=wn(j,g),1>x?(k=(d>n?1:-1)*yn(1+Math.max(g.width,j.width)),n=(e>v?1:-1)*yn(1+Math.max(g.height,j.height))):(l=i.Xq*(x-i.Lh),k=l*((n-d)/x),n=l*((v-e)/x)),j.xd+=k,j.yd+=n,g.xd-=k,g.yd-=n;c=0;d=Math.max(a.Ol/20,50);for(e=0;e<b.count;e++)j=b.j[e],a.isFixed(j)||(g=j.xd,i=j.yd,
g<-d?g=-d:g>d&&(g=d),i<-d?i=-d:i>d&&(i=d),j.Da+=g,j.Ea+=i,c=Math.max(c,g*g+i*i));return c>a.oy*a.oy}function yn(a){t&&u.i(a,on,"randNext:max");return Math.floor(a*Math.random())}on.prototype.commitLayout=on.prototype.Du=function(){this.iz();this.commitNodes();this.commitLinks()};on.prototype.iz=function(){if(this.am)for(var a=this.p.Ub.f;a.next();){var b=a.value.Ha;b!==m&&(b.ab=ic,b.cb=ic)}};
on.prototype.commitNodes=on.prototype.dy=function(){var a=0,b=0;if(this.nB)var b=this.Oe(this.p),c=this.Vc,a=c.x-b.x,b=c.y-b.y;for(var c=new F,d=this.p.U.f;d.next();){var e=d.value;if(0!==a||0!==b)c.set(e.C),c.x+=a,c.y+=b,e.rb=c;e.di()}};on.prototype.commitLinks=on.prototype.cy=function(){for(var a=this.p.Ub.f;a.next();)a.value.di()};on.prototype.springStiffness=on.prototype.AK=function(a){a=a.Xq;return!isNaN(a)?a:this.MB};
on.prototype.springLength=on.prototype.zK=function(a){a=a.Lh;return!isNaN(a)?a:this.LB};on.prototype.electricalCharge=on.prototype.MI=function(a){a=a.xi;return!isNaN(a)?a:this.JB};on.prototype.electricalFieldX=on.prototype.NI=ca(0);on.prototype.electricalFieldY=on.prototype.OI=ca(0);on.prototype.gravitationalMass=on.prototype.iJ=function(a){a=a.Qm;return!isNaN(a)?a:this.KB};on.prototype.gravitationalFieldX=on.prototype.gJ=ca(0);on.prototype.gravitationalFieldY=on.prototype.hJ=ca(0);
on.prototype.isFixed=on.prototype.BC=function(a){return a.Ow};u.m(on,{xI:"currentIteration"},s("Np"));u.a(on,"arrangementSpacing",on.prototype.yu);u.defineProperty(on,{yu:"arrangementSpacing"},s("bf"),function(a){this.bf.z(a)||(this.bf.Xa(a),this.v())});u.a(on,"arrangesToOrigin",on.prototype.nB);u.defineProperty(on,{nB:"arrangesToOrigin"},s("Io"),function(a){this.Io!==a&&(this.Io=a,this.v())});u.a(on,"setsPortSpots",on.prototype.am);
u.defineProperty(on,{am:"setsPortSpots"},s("Vg"),function(a){this.Vg!==a&&(this.Vg=a,this.v())});u.a(on,"comments",on.prototype.by);u.defineProperty(on,{by:"comments"},s("pd"),function(a){this.pd!==a&&(this.pd=a,this.v())});u.a(on,"maxIterations",on.prototype.dv);u.defineProperty(on,{dv:"maxIterations"},s("Rm"),function(a){this.Rm!==a&&0<=a&&(this.Rm=a,this.v())});u.a(on,"epsilonDistance",on.prototype.oy);
u.defineProperty(on,{oy:"epsilonDistance"},s("kp"),function(a){this.kp!==a&&0<a&&(this.kp=a,this.v())});u.a(on,"infinityDistance",on.prototype.Ol);u.defineProperty(on,{Ol:"infinityDistance"},s("yp"),function(a){this.yp!==a&&1<a&&(this.yp=a,this.v())});u.a(on,"defaultSpringStiffness",on.prototype.MB);u.defineProperty(on,{MB:"defaultSpringStiffness"},s("cp"),function(a){this.cp!==a&&(this.cp=a,this.v())});u.a(on,"defaultSpringLength",on.prototype.LB);
u.defineProperty(on,{LB:"defaultSpringLength"},s("bp"),function(a){this.bp!==a&&(this.bp=a,this.v())});u.a(on,"defaultElectricalCharge",on.prototype.JB);u.defineProperty(on,{JB:"defaultElectricalCharge"},s("$o"),function(a){this.$o!==a&&(this.$o=a,this.v())});u.a(on,"defaultGravitationalMass",on.prototype.KB);u.defineProperty(on,{KB:"defaultGravitationalMass"},s("ap"),function(a){this.ap!==a&&(this.ap=a,this.v())});u.a(on,"defaultCommentSpringLength",on.prototype.IB);
u.defineProperty(on,{IB:"defaultCommentSpringLength"},s("Yo"),function(a){this.Yo!==a&&(this.Yo=a,this.v())});u.a(on,"defaultCommentElectricalCharge",on.prototype.HB);u.defineProperty(on,{HB:"defaultCommentElectricalCharge"},s("Xo"),function(a){this.Xo!==a&&(this.Xo=a,this.v())});function pn(){Nm.call(this)}u.J("ForceDirectedNetwork",pn);u.va(pn,Nm);pn.prototype.createVertex=pn.prototype.Ui=function(){return new un};pn.prototype.createEdge=pn.prototype.Dn=function(){return new zn};
function un(){Rm.call(this);this.Ow=p;this.Qm=this.xi=NaN;this.Ki=this.De=this.yd=this.xd=0;this.mg=this.Tk=m;this.nx=0}u.J("ForceDirectedVertex",un);u.va(un,Rm);u.a(un,"isFixed",un.prototype.BC);u.defineProperty(un,{BC:"isFixed"},s("Ow"),ba("Ow"));u.a(un,"charge",un.prototype.nF);u.defineProperty(un,{nF:"charge"},s("xi"),ba("xi"));u.a(un,"mass",un.prototype.xG);u.defineProperty(un,{xG:"mass"},s("Qm"),ba("Qm"));u.a(un,"forceX",un.prototype.QF);u.defineProperty(un,{QF:"forceX"},s("xd"),ba("xd"));
u.a(un,"forceY",un.prototype.RF);u.defineProperty(un,{RF:"forceY"},s("yd"),ba("yd"));function zn(){Sm.call(this);this.Lh=this.Xq=NaN}u.J("ForceDirectedEdge",zn);u.va(zn,Sm);u.a(zn,"stiffness",zn.prototype.eH);u.defineProperty(zn,{eH:"stiffness"},s("Xq"),ba("Xq"));u.a(zn,"length",zn.prototype.length);u.defineProperty(zn,{length:"length"},s("Lh"),ba("Lh"));
function Y(){Sh.call(this);this.ad=this.qd=25;this.T=0;this.rm=An;this.Mm=Bn;this.Gm=Cn;this.fl=4;this.jm=Dn;this.Sh=En;this.Vg=h;this.eb=this.st=this.Sa=-1;this.Ce=this.dq=0;this.dd=this.Be=this.cg=this.Sg=this.cd=m;this.kq=0;this.Dt=this.kl=m;this.mf=0;this.lq=m;this.hg=[];this.hg.length=100}u.J("LayeredDigraphLayout",Y);u.va(Y,Sh);
Y.prototype.cloneProtected=Y.prototype.pb=function(a){Sh.prototype.pb.call(this,a);a.qd=this.qd;a.ad=this.ad;a.T=this.T;a.rm=this.rm;a.Mm=this.Mm;a.Gm=this.Gm;a.fl=this.fl;a.jm=this.jm;a.Sh=this.Sh;a.Vg=this.Vg};Y.prototype.createNetwork=Y.prototype.Gu=function(){var a=new Fn;Om(a,this);return a};
Y.prototype.doLayout=Y.prototype.Cr=function(a){this.Pc===m&&(this.Pc=this.makeNetwork(a));this.Vc=Qm(this,this.Vc);this.st=-1;this.Ce=this.dq=0;this.lq=this.Dt=this.kl=m;var b;for(b=0;b<this.hg.length;b++)this.hg[b]=m;if(0<this.p.U.count){this.p.Ku();for(var c=this.p.Ub.f;c.next();)c.value.ob=p;switch(this.rm){default:case Gn:var d=0,e=this.p.U.count-1,g=[];g.length=e+1;for(var i=this.p.U.f;i.next();)i.value.sa=h;for(;Hn(this.p)!==m;){var j;for(j=In(this.p);j!==m;)g[e]=j,e--,j.sa=p,j=In(this.p);
for(j=Jn(this.p);j!==m;)g[d]=j,d++,j.sa=p,j=Jn(this.p);t&&u.c(this.p,Nm,Y,"greedyCycleRemovalFindNodeMaxDegDiff:network");for(var k=m,l=0,n=this.p.U.f;n.next();){var r=n.value;if(r.sa){for(var q=0,v=r.xb;v.next();)v.value.G.sa&&q++;for(var x=0,C=r.yb;C.next();)C.value.I.sa&&x++;if(k===m||l<q-x)k=r,l=q-x}}j=k;j!==m&&(g[d]=j,d++,j.sa=p)}var G;for(G=0;G<this.p.U.count;G++)g[G].ba=G;for(var I=this.p.Ub.f;I.next();){var y=I.value;y.I.ba>y.G.ba&&(this.p.mv(y),y.ob=h)}break;case An:for(var J=this.p.U.f;J.next();)J.value.Jj=
-1,J.value.zm=-1;for(var z=this.p.Ub.f;z.next();)z.value.np=p;this.kq=0;for(J.reset();J.next();)0===J.value.yb.count&&Kn(this,J.value);for(J.reset();J.next();)-1===J.value.Jj&&Kn(this,J.value);for(z.reset();z.next();){var H=z.value;if(!H.np){var ha=H.I,S=ha.zm,T=H.G,ia=T.zm;T.Jj<ha.Jj&&S<ia&&(this.p.mv(H),H.ob=h)}}}for(var la=this.p.U.f,Da;la.next();){Da=la.value;Da.w=-1;var Ea=Da.Ia;if("undefined"!==typeof Ea&&Ea!==m){var Wa=Ea.pa.width,bb=Ea.pa.height;Da.width=Wa;Da.height=bb;Da.Su=0.5*Wa;Da.Tu=
0.5*bb}}this.Sa=-1;switch(this.Mm){case Ln:Mn(this);break;case Nn:for(var gb,Sa=this.p.U.f;Sa.next();)gb=On(this,Sa.value),this.Sa=Math.max(gb,this.Sa);Sa.reset();for(var lb;Sa.next();)lb=Sa.value,lb.w=this.Sa-lb.w;break;default:case Bn:Mn(this);for(var Za=this.p.U.f;Za.next();)Za.value.sa=p;for(Za.reset();Za.next();)0===Za.value.yb.count&&Pn(this,Za.value);var ac=Infinity;for(Za.reset();Za.next();)ac=Math.min(ac,Za.value.w);this.Sa=-1;for(Za.reset();Za.next();)Za.value.w-=ac,this.Sa=Math.max(this.Sa,
Za.value.w)}for(la.reset();la.next();)this.Sa=Math.max(this.Sa,la.value.w);for(var ad=this.p.Ub.f,$a,Ec=[];ad.next();)$a=ad.value,$a.sa=p,Ec.push($a);for(var Ed=0;Ed<Ec.length;Ed++)if($a=Ec[Ed],!$a.sa&&!(($a.I.Ia===m||$a.G.Ia===m)&&$a.I.w===$a.G.w)){var rc,Vb,jc,Fc;rc=Vb=jc=Fc=0;var Ib=$a.I,Eb=$a.G;if($a.Ha!==m){var cb=$a.Ha;if(cb===m)continue;var dd=Ib.Ia,Nc=Eb.Ia;if(dd===m||Nc===m)continue;var ud=cb.ja,qa=cb.na,Ka=cb.Nc,hf=cb.wd;if($a.ob)var Mf=ud,Ee=Ka,ud=qa,Ka=hf,qa=Mf,hf=Ee;var Fe=Ib.B.copy(),
Ge=$a.G.B.copy(),Nf=$a.ob?Eb.C.copy():Ib.C.copy(),Gc=isNaN(Nf.x)?Fe.copy():zl(ud,Ka,qc);if(dd!==ud&&!isNaN(Nf.x)&&ud.ib()){var yc=Ib.C.copy();isNaN(yc.x)||(Gc.x+=Nf.x-yc.x,Gc.y+=Nf.y-yc.y)}var rb=$a.ob?Ib.C.copy():Eb.C.copy(),Oc=isNaN(rb.x)?Ge.copy():zl(qa,hf,qc);if(Nc!==qa&&!isNaN(rb.x)&&qa.ib()){var Fd=Eb.C;isNaN(Fd.x)||(Oc.x+=rb.x-Fd.x,Oc.y+=rb.y-Fd.y)}90===this.T||270===this.T?(rc=Math.round((Gc.x-Fe.x)/this.ad),jc=Gc.x,Vb=Math.round((Oc.x-Ge.x)/this.ad),Fc=Oc.x):(rc=Math.round((Gc.y-Fe.y)/this.ad),
jc=Gc.y,Vb=Math.round((Oc.y-Ge.y)/this.ad),Fc=Oc.y);$a.Ee=rc;$a.Fe=jc;$a.fe=Vb;$a.He=Fc}else $a.Ee=0,$a.Fe=0,$a.fe=0,$a.He=0;var vd=Ib.w,Jb=Eb.w,zb,wd=$a;t&&u.c(wd,Qn,Y,"_goesAround:edge");var Pc=0,Qc=wd.Ha;if(Qc!==m){if(Qc.Nc!==m){var Td=Qc.ja;fm(Qc)===Rn(this,wd,h)?Pc+=1:this.am&&Td!==m&&1===Td.ports.count&&wd.ob&&(Pc+=1)}if(Qc.wd!==m){var Ud=Qc.na;gm(Qc)===Rn(this,wd,p)?Pc+=2:this.am&&Ud!==m&&1===Ud.ports.count&&wd.ob&&(Pc+=2)}}zb=Pc;var kc=1===zb||3===zb?h:p,bc=2===zb||3===zb?h:p,eb,Fb;bc&&(Fb=
this.p.Ui(),Fb.Ia=m,Fb.Pk=1,Fb.w=vd,Fb.Hi=Ib,this.p.nk(Fb),eb=this.p.Sl(Ib,Fb,$a.Ha),eb.sa=p,eb.ob=$a.ob,eb.Ee=rc,eb.fe=0,eb.Fe=jc,eb.He=0,Ib=Fb);var xd=1;kc&&xd--;if(vd-Jb>xd&&0<vd){$a.sa=p;Fb=this.p.Ui();Fb.Ia=m;Fb.Pk=2;Fb.w=vd-1;this.p.nk(Fb);eb=this.p.Sl(Ib,Fb,$a.Ha);eb.sa=h;eb.ob=$a.ob;eb.Ee=bc?0:rc;eb.fe=0;eb.Fe=bc?0:jc;eb.He=0;Ib=Fb;for(vd--;vd-Jb>xd&&0<vd;)Fb=this.p.Ui(),Fb.Ia=m,Fb.Pk=3,Fb.w=vd-1,this.p.nk(Fb),eb=this.p.Sl(Ib,Fb,$a.Ha),eb.sa=h,eb.ob=$a.ob,eb.Ee=0,eb.fe=0,eb.Fe=0,eb.He=0,Ib=
Fb,vd--;eb=this.p.Sl(Fb,Eb,$a.Ha);eb.sa=!kc;kc&&(Fb.Hi=Eb);eb.ob=$a.ob;eb.Ee=0;eb.fe=Vb;eb.Fe=0;eb.He=Fc}else $a.sa=h}var cc=this.cd=[],Ab;for(Ab=0;Ab<=this.Sa;Ab++)cc[Ab]=0;for(var Vd=this.p.U.f;Vd.next();)Vd.value.ba=-1;switch(this.Gm){default:case Sn:for(var Kb,dc=this.p.U.f;dc.next();){var mg=dc.value;Kb=mg.w;mg.ba=this.cd[Kb];this.cd[Kb]++}break;case Cn:var jf,Gd=this.p.U.f;for(jf=this.Sa;0<=jf;jf--){for(;Gd.next();)Gd.value.w===jf&&-1===Gd.value.ba&&Tn(this,Gd.value);Gd.reset()}break;case Un:var Rc,
ld=this.p.U.f;for(Rc=0;Rc<=this.Sa;Rc++){for(;ld.next();)ld.value.w===Rc&&-1===ld.value.ba&&Vn(this,ld.value);ld.reset()}}this.st=-1;for(Ab=this.Ce=this.dq=0;Ab<=this.Sa;Ab++)cc[Ab]>cc[this.Ce]&&(this.st=cc[Ab]-1,this.Ce=Ab),cc[Ab]<cc[this.dq]&&(this.dq=Ab);this.lq=[];for(Ab=0;Ab<cc.length;Ab++)this.lq[Ab]=[];Vd.reset();for(var Of,fe;Vd.next();)fe=Vd.value,Of=fe.w,this.lq[Of][fe.ba]=fe;this.eb=-1;for(var md=0;md<=this.Sa;md++){for(var Wb=ho(this,md),Hc=0,Pf=this.cd[md],yd=0;yd<Pf;yd++){var ge=Wb[yd],
Hc=Hc+oo(this,ge,h);ge.K=Hc;Hc+=1;Hc+=oo(this,ge,p)}this.eb=Math.max(this.eb,Hc-1);po(this,md,Wb)}var jb=qo(this),kb=ro(this),Sc,Aa,Xa;for(Sc=0;Sc<this.fl;Sc++){for(Aa=0;Aa<=this.Sa;Aa++)so(this,Aa,1),to(this,Aa,1,1);Xa=qo(this);Xa<jb&&(jb=Xa,kb=ro(this));for(Aa=this.Sa;0<=Aa;Aa--)so(this,Aa,-1),to(this,Aa,-1,-1);Xa=qo(this);Xa<jb&&(jb=Xa,kb=ro(this))}uo(this,kb);for(Sc=0;Sc<this.fl;Sc++){for(Aa=0;Aa<=this.Sa;Aa++)so(this,Aa,0),to(this,Aa,0,0);Xa=qo(this);Xa<jb&&(jb=Xa,kb=ro(this));for(Aa=this.Sa;0<=
Aa;Aa--)so(this,Aa,0),to(this,Aa,0,0);Xa=qo(this);Xa<jb&&(jb=Xa,kb=ro(this))}uo(this,kb);var Fa,Ta,Qb,sc,Tc;switch(this.jm){case vo:break;case wo:for(sc=jb+1;(Tc=qo(this))<sc;){sc=Tc;for(Ta=this.Sa;0<=Ta;Ta--)for(Qb=0;Qb<=Ta;Qb++){for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,-1,-1)||Fa}Xa=qo(this);Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,1,1)||Fa}Xa=qo(this);Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=
to(this,Aa,1,1)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=to(this,Aa,-1,-1)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,0,0)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=to(this,Aa,0,0)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this))}}break;default:case Dn:Ta=this.Sa;Qb=0;for(sc=jb+1;(Tc=qo(this))<sc;){sc=Tc;for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,
-1,-1)||Fa}Xa=qo(this);Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,1,1)||Fa}Xa=qo(this);Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=to(this,Aa,1,1)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=to(this,Aa,-1,-1)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=p;for(Aa=Ta;Aa>=Qb;Aa--)Fa=to(this,Aa,0,0)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this));for(Fa=h;Fa;){Fa=
p;for(Aa=Qb;Aa<=Ta;Aa++)Fa=to(this,Aa,0,0)||Fa}Xa>=jb?uo(this,kb):(jb=Xa,kb=ro(this))}}uo(this,kb);var Ma,Xb,Qf=0!==(this.Sh&xo),kf=this.Sh===En;1E3<this.p.Ub.count&&!kf&&(Qf=p);if(Qf){var he=[],Ba;for(Ba=0;Ba<=this.Sa;Ba++)he[Ba]=0;for(var va=this.p.U.f,Hd,Rf;va.next();){Hd=va.value;Ma=Hd.w;Rf=Hd.K;var vb=oo(this,Hd,p);he[Ma]=Math.max(he[Ma],Rf+vb)}for(va.reset();va.next();)Hd=va.value,Ma=Hd.w,Rf=Hd.K,Hd.K=(8*(this.eb-he[Ma])>>1)+8*Rf;this.eb*=8}if(0!==(this.Sh&yo))for(Xb=h;Xb;){Xb=p;for(Ma=this.Ce+
1;Ma<=this.Sa;Ma++)Xb=zo(this,Ma,1)||Xb;for(Ma=this.Ce-1;0<=Ma;Ma--)Xb=zo(this,Ma,-1)||Xb;Xb=zo(this,this.Ce,0)||Xb}if(0!==(this.Sh&Ao)){for(Ma=this.Ce+1;Ma<=this.Sa;Ma++)Bo(this,Ma,1);for(Ma=this.Ce-1;0<=Ma;Ma--)Bo(this,Ma,-1);Bo(this,this.Ce,0)}Qf&&(Co(this,-1),Co(this,1));if(0!==(this.Sh&yo))for(Xb=h;Xb;){Xb=p;Xb=zo(this,this.Ce,0)||Xb;for(Ma=this.Ce+1;Ma<=this.Sa;Ma++)Xb=zo(this,Ma,0)||Xb;for(Ma=this.Ce-1;0<=Ma;Ma--)Xb=zo(this,Ma,0)||Xb}this.updateParts()}this.Pc=m;this.We=h};
function Do(a){t&&u.c(a,Sm,Y,"linkMinLength:edge");for(var b=a.G,c=0,a=a.I.xb;a.next();)a.value.G===b&&c++;return 1<c?2:1}function Eo(a){t&&u.c(a,Sm,Y,"linkLengthWeight:edge");return 1}function Fo(a){t&&u.c(a,Sm,Y,"linkStraightenWeight:edge");var b=a.I.Ia,a=a.G.Ia;return b===m&&a===m?8:b===m||a===m?4:1}
function Go(a,b,c){t&&(u.c(b,Ho,Y,"nodeMinLayerSpace:v"),u.e(c,"boolean",Y,"nodeMinLayerSpace:topleft"));return b.Ia===m?0:90===a.T||270===a.T?c?b.B.y+10:b.C.height-b.B.y+10:c?b.B.x+10:b.C.width-b.B.x+10}
function oo(a,b,c){t&&(u.c(b,Ho,Y,"nodeMinColumnSpace:v"),u.e(c,"boolean",Y,"nodeMinColumnSpace:topleft"));if(b.Ia===m)return 0;var d=c?b.Zw:b.Yw;if(d!==f)return d;d=a.T;return 90===d||270===d?c?b.Zw=b.B.x/a.ad+1|0:b.Yw=(b.C.width-b.B.x)/a.ad+1|0:c?b.Zw=b.B.y/a.ad+1|0:b.Yw=(b.C.height-b.B.y)/a.ad+1|0}function ro(a){a.kl===m&&(a.kl=[]);for(var b=0,c=a.p.U.f,d;c.next();)d=c.value,a.kl[b]=d.w,b++,a.kl[b]=d.K,b++,a.kl[b]=d.ba,b++;return a.kl}
function uo(a,b){t&&u.c(b,Array,Y,"restoreLayout:layout");for(var c=0,d=a.p.U.f,e;d.next();)e=d.value,e.w=b[c],c++,e.K=b[c],c++,e.ba=b[c],c++}
function Io(a,b,c){t&&(u.i(b,Y,"crossingMatrix:unfixedLayer"),u.i(c,Y,"crossingMatrix:direction"));var d=ho(a,b),e=a.cd[b];a.Dt||(a.Dt=[]);for(var g=a.Dt,i,j=0;j<e;j++){i=0;var k=d[j],l=k.Hi,n,r;if(l!==m&&l.w===k.w)if(k=l.ba,k>j)for(r=j+1;r<k;r++)n=d[r],(n.Hi!==l||n.Pk!==l.Pk)&&i++;else for(r=j-1;r>k;r--)n=d[r],(n.Hi!==l||n.Pk!==l.Pk)&&i++;var q,v,x,C,G,I;if(0<=c){k=d[j].rf;for(l=0;l<k.count;l++)if(q=k.j[l],q.sa&&q.I.w!==b){n=q.I.ba;r=q.He;q=q.Fe;for(v=l+1;v<k.count;v++)x=k.j[v],x.sa&&x.I.w!==b&&
(C=x.I.ba,G=x.He,x=x.Fe,r<G&&(n>C||n===C&&q>x)&&i++,G<r&&(C>n||C===n&&x>q)&&i++)}}if(0>=c){k=d[j].Ae;for(l=0;l<k.count;l++)if(q=k.j[l],q.sa&&q.G.w!==b){n=q.G.ba;r=q.He;q=q.Fe;for(v=l+1;v<k.count;v++)x=k.j[v],x.sa&&x.G.w!==b&&(C=x.G.ba,G=x.He,x=x.Fe,q<x&&(n>C||n===C&&r>G)&&i++,x<q&&(C>n||C===n&&G>r)&&i++)}}g[j*e+j]=i;for(k=j+1;k<e;k++){var y=0,J=0;if(0<=c){i=d[j].rf;I=d[k].rf;for(l=0;l<i.count;l++)if(q=i.j[l],q.sa&&q.I.w!==b){n=q.I.ba;q=q.Fe;for(v=0;v<I.count;v++)x=I.j[v],x.sa&&x.I.w!==b&&(C=x.I.ba,
x=x.Fe,(n<C||n===C&&q<x)&&J++,(C<n||C===n&&x<q)&&y++)}}if(0>=c){i=d[j].Ae;I=d[k].Ae;for(l=0;l<i.count;l++)if(q=i.j[l],q.sa&&q.G.w!==b){n=q.G.ba;r=q.He;for(v=0;v<I.count;v++)x=I.j[v],x.sa&&x.G.w!==b&&(C=x.G.ba,G=x.He,(n<C||n===C&&r<G)&&J++,(C<n||C===n&&G<r)&&y++)}}g[j*e+k]=y;g[k*e+j]=J}}po(a,b,d);return g}function qo(a){var b,c=0,d,e;for(b=0;b<=a.Sa;b++){d=Io(a,b,1);e=a.cd[b];for(var g=0;g<e;g++)for(var i=g;i<e;i++)c+=d[g*e+i]}return c}
function Jo(a){t&&u.e(h,"boolean",Y,"countBends:weighted");for(var b=0,c=0;c<=a.Sa;c++){var d=a,e=c;t&&(u.i(e,Y,"bends:unfixedLayer"),u.i(1,Y,"bends:direction"),u.e(h,"boolean",Y,"bends:weighted"));for(var g=ho(d,e),i=d.cd[e],j=0,k=f,k=0;k<i;k++){var l=g[k].Ae,n,r,q;if("undefined"!==typeof l)for(var v=0;v<l.count;v++)n=l.j[v],n.sa&&n.G.w!==e&&(r=n.I.K+n.Ee,q=n.G.K+n.fe,j+=(Math.abs(r-q)+1)*Fo(n))}po(d,e,g);b+=j}return b}
Y.prototype.normalize=function(){var a=Infinity;this.eb=-1;for(var b=this.p.U.f,c;b.next();)c=b.value,a=Math.min(a,c.K-oo(this,c,h)),this.eb=Math.max(this.eb,c.K+oo(this,c,p));for(b.reset();b.next();)b.value.K-=a;this.eb-=a};
function Ko(a,b,c){t&&(u.i(b,Y,"barycenters:unfixedLayer"),u.i(c,Y,"barycenters:direction"));var d=ho(a,b),e=a.cd[b],g=[],i;for(i=0;i<e;i++){var j=d[i],k=m;0>=c&&(k=j.rf);var l=m;0<=c&&(l=j.Ae);var n=0,r=0,q=j.Hi;q!==m&&q.w===j.w&&(n+=q.K-1,r++);if(k!==m)for(q=0;q<k.count;q++){var j=k.j[q],v=j.I;j.sa&&(!j.ob&&v.w!==b)&&(n+=v.K+j.Ee,r++)}if(l!==m)for(k=0;k<l.count;k++)j=l.j[k],q=j.G,j.sa&&(!j.ob&&q.w!==b)&&(n+=q.K+j.fe,r++);g[i]=0===r?-1:n/r}po(a,b,d);return g}
function Lo(a,b,c){t&&(u.i(b,Y,"medians:unfixedLayer"),u.i(c,Y,"medians:direction"));for(var d=ho(a,b),e=a.cd[b],g=[],i=0;i<e;i++){var j=d[i],k=m;0>=c&&(k=j.rf);var l=m;0<=c&&(l=j.Ae);var n=0,r=[],q=j.Hi;q!==m&&q.w===j.w&&(r[n]=q.K-1,n++);if(k!==m)for(q=0;q<k.count;q++){var j=k.j[q],v=j.I;j.sa&&(!j.ob&&v.w!==b)&&(r[n]=v.K+j.Ee,n++)}if(l!==m)for(k=0;k<l.count;k++)j=l.j[k],q=j.G,j.sa&&(!j.ob&&q.w!==b)&&(r[n]=q.K+j.fe,n++);0===n?g[i]=-1:(r.sort(function(a,b){return a-b}),l=n>>1,g[i]=n&1?r[l]:r[l-1]+
r[l]>>1)}po(a,b,d);return g}function Mo(a,b,c,d,e,g){t&&(u.c(b,Ho,Y,"tightComponentUnset:v"),u.i(c,Y,"tightComponentUnset:component"),u.i(d,Y,"tightComponentUnset:unset"),u.e(e,"boolean",Y,"tightComponentUnset:forward"),u.e(g,"boolean",Y,"tightComponentUnset:backward"));if(b.zb===d){b.zb=c;var i,j;if(e)for(var k=b.xb;k.next();){var l=k.value.G;i=b.w-l.w;j=Do(k.value);i===j&&Mo(a,l,c,d,e,g)}if(g)for(k=b.yb;k.next();)l=k.value.I,i=l.w-b.w,j=Do(k.value),i===j&&Mo(a,l,c,d,e,g)}}
function No(a,b,c,d,e,g){t&&(u.c(b,Ho,Y,"componentUnset:v"),u.i(c,Y,"componentUnset:component"),u.i(d,Y,"componentUnset:unset"),u.e(e,"boolean",Y,"componentUnset:forward"),u.e(g,"boolean",Y,"componentUnset:backward"));if(b.zb===d){b.zb=c;if(e)for(var i=b.xb,j;i.next();)j=i.value.G,No(a,j,c,d,e,g);if(g)for(b=b.yb;b.next();)i=b.value.I,No(a,i,c,d,e,g)}}function Hn(a){t&&u.c(a,Nm,Y,"greedyCycleRemovalFindNode:network");for(a=a.U.f;a.next();){var b=a.value;if(b.sa)return b}return m}
function In(a){t&&u.c(a,Nm,Y,"greedyCycleRemovalFindSink:network");for(a=a.U.f;a.next();){var b=a.value;if(b.sa){for(var c=h,d=b.xb;d.next();)if(d.value.G.sa){c=p;break}if(c)return b}}return m}function Jn(a){t&&u.c(a,Nm,Y,"greedyCycleRemovalFindSource:network");for(a=a.U.f;a.next();){var b=a.value;if(b.sa){for(var c=h,d=b.yb;d.next();)if(d.value.I.sa){c=p;break}if(c)return b}}return m}
function Kn(a,b){t&&u.c(b,Ho,Y,"depthFirstSearchCycleRemovalVisit:v");b.Jj=a.kq;a.kq++;for(var c=b.xb;c.next();){var d=c.value,e=d.G;-1===e.Jj&&(d.np=h,Kn(a,e))}b.zm=a.kq;a.kq++}function Mn(a){for(var b=a.p.U.f;b.next();){var c=Oo(a,b.value);a.Sa=Math.max(c,a.Sa)}}function Oo(a,b){t&&u.c(b,Ho,Y,"longestPathSinkLayeringLength:v");var c=0;if(-1===b.w){for(var d=b.xb;d.next();)var e=d.value,g=Do(e),c=Math.max(c,Oo(a,e.G)+g);b.w=c}else c=b.w;return c}
function On(a,b){t&&u.c(b,Ho,Y,"longestPathSourceLayeringLength:v");var c=0;if(-1===b.w){for(var d,e,g=b.yb;g.next();)e=g.value,d=Do(e),c=Math.max(c,On(a,e.I)+d);b.w=c}else c=b.w;return c}
function Pn(a,b){t&&u.c(b,Ho,Y,"optimalLinkLengthLayeringDepthFirstSearch:v");if(!b.sa){b.sa=h;for(var c=b.xb;c.next();)Pn(a,c.value.G);t&&u.c(b,Ho,Y,"optimalLinkLengthLayeringPull:v");for(c=a.p.U.f;c.next();)c.value.zb=-1;for(var d=b.yb;d.next();){var e=d.value,g=Do(e);e.I.w-e.G.w>g&&Mo(a,e.I,0,-1,h,p)}for(Mo(a,b,1,-1,h,h);0!==b.zb;){for(var g=0,d=Infinity,i=0,j=m,k=a.p.U.f;k.next();){var l=k.value;if(1===l.zb){for(var n=0,r=p,q=l.yb;q.next();){var e=q.value,v=e.I,n=n+Eo(e);1!==v.zb&&(g+=Eo(e),v=
v.w-l.w,e=Do(e),d=Math.min(d,v-e))}for(e=l.xb;e.next();)q=e.value,v=q.G,n-=Eo(q),1!==v.zb?g-=Eo(q):r=h;if((j===m||n<i)&&!r)j=l,i=n}}if(0<g){for(c.reset();c.next();)g=c.value,1===g.zb&&(g.w+=d);b.zb=0}else j.zb=0}t&&u.c(b,Ho,Y,"optimalLinkLengthLayeringPush:v");for(c=a.p.U.f;c.next();)c.value.zb=-1;for(Mo(a,b,1,-1,h,p);0!==b.zb;){g=0;d=Infinity;i=0;j=m;for(k=a.p.U.f;k.next();)if(l=k.value,1===l.zb){n=0;r=p;for(e=l.yb;e.next();)q=e.value.I,n+=Eo(e.value),1!==q.zb?g+=Eo(e.value):r=h;for(e=k.value.xb;e.next();)q=
e.value,v=q.G,n-=Eo(q),1!==v.zb&&(g-=Eo(q),v=l.w-v.w,q=Do(q),d=Math.min(d,v-q));if((j===m||n>i)&&!r)j=l,i=n}if(0>g){for(c.reset();c.next();)g=c.value,1===g.zb&&(g.w-=d);b.zb=0}else j.zb=0}}}function Rn(a,b,c){t&&(u.c(b,Qn,Y,"_oppositeSpotDir:edge"),u.e(c,"boolean",Y,"_oppositeSpotDir:from"));return 90===a.T?c&&!b.ob||!c&&b.ob?oc:uc:180===a.T?c&&!b.ob||!c&&b.ob?Ac:xc:270===a.T?c&&!b.ob||!c&&b.ob?uc:oc:c&&!b.ob||!c&&b.ob?xc:Ac}
function Tn(a,b){t&&u.c(b,Ho,Y,"depthFirstOutInitializeIndicesVisit:v");var c=b.w;b.ba=a.cd[c];a.cd[c]++;for(var c=b.Ae.Nf(),d=h,e;d;){d=p;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.Ee>i.Ee&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.sa&&(d=d.G,-1===d.ba&&Tn(a,d))}
function Vn(a,b){t&&u.c(b,Ho,Y,"depthFirstInInitializeIndicesVisit:v");var c=b.w;b.ba=a.cd[c];a.cd[c]++;for(var c=b.rf.Nf(),d=h,e;d;){d=p;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.fe>i.fe&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.sa&&(d=d.I,-1===d.ba&&Vn(a,d))}
function so(a,b,c){t&&(u.i(b,Y,"medianBarycenterCrossingReduction:unfixedLayer"),u.i(c,Y,"medianBarycenterCrossingReduction:direction"));for(var d=ho(a,b),e=a.cd[b],g=Lo(a,b,c),i=Ko(a,b,c),c=0;c<e;c++)-1===i[c]&&(i[c]=d[c].K),-1===g[c]&&(g[c]=d[c].K);for(var j=h,k;j;){j=p;for(c=0;c<e-1;c++)if(g[c+1]<g[c]||g[c+1]===g[c]&&i[c+1]<i[c])j=h,k=g[c],g[c]=g[c+1],g[c+1]=k,k=i[c],i[c]=i[c+1],i[c+1]=k,k=d[c],d[c]=d[c+1],d[c+1]=k}for(c=g=0;c<e;c++)k=d[c],k.ba=c,g+=oo(a,k,h),k.K=g,g+=1,g+=oo(a,k,p);po(a,b,d)}
function to(a,b,c,d){t&&(u.i(b,Y,"adjacentExchangeCrossingReductionBendStraighten:unfixedLayer"),u.i(c,Y,"adjacentExchangeCrossingReductionBendStraighten:directionCR"),u.e(p,"boolean",Y,"adjacentExchangeCrossingReductionBendStraighten:straighten"),u.i(d,Y,"adjacentExchangeCrossingReductionBendStraighten:directionBS"));var d=ho(a,b),e=a.cd[b],c=Io(a,b,c),g,i;i=[];for(g=0;g<e;g++)i[g]=-1;var j;j=[];for(g=0;g<e;g++)j[g]=-1;for(var k=p,l=h;l;){l=p;for(g=0;g<e-1;g++){var n=c[d[g].ba*e+d[g+1].ba],r=c[d[g+
1].ba*e+d[g].ba],q=0,v=0,x=d[g].K,C=d[g+1].K,G=oo(a,d[g],h),I=oo(a,d[g],p),y=oo(a,d[g+1],h),J=oo(a,d[g+1],p),G=x-G+y,I=C-I+J,z=d[g].yb.f;for(z.reset();z.next();)if(J=z.value,J.sa&&J.I.w===b){J=J.I;for(y=0;d[y]!==J;)y++;y<g&&(q+=2*(g-y),v+=2*(g+1-y));y===g+1&&(q+=1);y>g+1&&(q+=4*(y-g),v+=4*(y-(g+1)))}z=d[g].xb.f;for(z.reset();z.next();)if(J=z.value,J.sa&&J.G.w===b){J=J.G;for(y=0;d[y]!==J;)y++;y===g+1&&(v+=1)}z=d[g+1].yb.f;for(z.reset();z.next();)if(J=z.value,J.sa&&J.I.w===b){J=J.I;for(y=0;d[y]!==J;)y++;
y<g&&(q+=2*(g+1-y),v+=2*(g-y));y===g&&(v+=1);y>g+1&&(q+=4*(y-(g+1)),v+=4*(y-g))}z=d[g+1].xb.f;for(z.reset();z.next();)if(J=z.value,J.sa&&J.G.w===b){J=J.G;for(y=0;d[y]!==J;)y++;y===g&&(q+=1)}var y=J=0,z=i[d[g].ba],H=j[d[g].ba],ha=i[d[g+1].ba],S=j[d[g+1].ba];-1!==z&&(J+=Math.abs(z-x),y+=Math.abs(z-I));-1!==H&&(J+=Math.abs(H-x),y+=Math.abs(H-I));-1!==ha&&(J+=Math.abs(ha-C),y+=Math.abs(ha-G));-1!==S&&(J+=Math.abs(S-C),y+=Math.abs(S-G));if(v<q-0.5||v===q&&r<n-0.5||v===q&&r===n&&y<J-0.5)l=k=h,d[g].K=I,
d[g+1].K=G,n=d[g],d[g]=d[g+1],d[g+1]=n}}for(g=0;g<e;g++)d[g].ba=g;po(a,b,d);return k}function zo(a,b,c){t&&(u.i(b,Y,"bendStraighten:unfixedLayer"),u.i(c,Y,"bendStraighten:direction"));for(var d=p;Po(a,b,c);)d=h;return d}
function Po(a,b,c){t&&(u.i(b,Y,"shiftbendStraighten:unfixedLayer"),u.i(c,Y,"shiftbendStraighten:direction"));var d,e=ho(a,b),g=a.cd[b],i=Ko(a,b,-1);if(0<c)for(d=0;d<g;d++)i[d]=-1;var j=Ko(a,b,1);if(0>c)for(d=0;d<g;d++)j[d]=-1;for(var k=p,l=h;l;){l=p;for(d=0;d<g;d++){var n=e[d].K,r=oo(a,e[d],h),q=oo(a,e[d],p),r=0>d-1||n-e[d-1].K-1>r+oo(a,e[d-1],p)?n-1:n,q=d+1>=g||e[d+1].K-n-1>q+oo(a,e[d+1],h)?n+1:n,v=0,x=0,C=0,G,I,y,J;if(0>=c)for(var z=e[d].yb.f;z.next();)G=z.value,G.sa&&G.I.w!==b&&(I=Fo(G),y=G.Ee,
J=G.fe,G=G.I.K,v+=(Math.abs(n+J-(G+y))+1)*I,x+=(Math.abs(r+J-(G+y))+1)*I,C+=(Math.abs(q+J-(G+y))+1)*I);if(0<=c)for(z=e[d].xb.f;z.next();)G=z.value,G.sa&&G.G.w!==b&&(I=Fo(G),y=G.Ee,J=G.fe,G=G.G.K,v+=(Math.abs(n+y-(G+J))+1)*I,x+=(Math.abs(r+y-(G+J))+1)*I,C+=(Math.abs(q+y-(G+J))+1)*I);J=y=I=0;G=i[e[d].ba];z=j[e[d].ba];-1!==G&&(I+=Math.abs(G-n),y+=Math.abs(G-r),J+=Math.abs(G-q));-1!==z&&(I+=Math.abs(z-n),y+=Math.abs(z-r),J+=Math.abs(z-q));if(x<v||x===v&&y<I)l=k=h,e[d].K=r;if(C<v||C===v&&J<I)l=k=h,e[d].K=
q}}po(a,b,e);a.normalize();return k}
function Bo(a,b,c){t&&(u.i(b,Y,"medianStraighten:unfixedLayer"),u.i(c,Y,"medianStraighten:direction"));for(var d=ho(a,b),e=a.cd[b],g=Lo(a,b,c),i=[],c=0;c<e;c++)i[c]=g[c];for(g=h;g;){g=p;for(c=0;c<e;c++){var j=d[c].K,k=oo(a,d[c],h),l=oo(a,d[c],p),n=0,r;-1===i[c]?0===c&&c===e-1?n=j:0===c?(r=d[c+1].K,n=r-j===l+oo(a,d[c+1],h)?j-1:j):c===e-1?(r=d[c-1].K,n=j-r===k+oo(a,d[c-1],p)?j+1:j):(r=d[c-1].K,k=r+oo(a,d[c-1],p)+k+1,r=d[c+1].K,l=r-oo(a,d[c+1],h)-l-1,n=(k+l)/2|0):0===c&&c===e-1?n=i[c]:0===c?(r=d[c+1].K,
l=r-oo(a,d[c+1],h)-l-1,n=Math.min(i[c],l)):c===e-1?(r=d[c-1].K,k=r+oo(a,d[c-1],p)+k+1,n=Math.max(i[c],k)):(r=d[c-1].K,k=r+oo(a,d[c-1],p)+k+1,r=d[c+1].K,l=r-oo(a,d[c+1],h)-l-1,k<i[c]&&i[c]<l?n=i[c]:k>=i[c]?n=k:l<=i[c]&&(n=l));n!==j&&(g=h,d[c].K=n)}}po(a,b,d);a.normalize()}
function Qo(a,b){t&&(u.i(b,Y,"packAux:column"),u.i(1,Y,"packAux:direction"));for(var c=h,d=a.p.U.f,e;d.next();){e=d.value;var g=oo(a,e,h),i=oo(a,e,p);if(e.K-g<=b&&e.K+i>=b){c=p;break}}g=p;if(c)for(d.reset();d.next();)e=d.value,e.K>b&&(e.K-=1,g=h);return g}
function Ro(a,b){t&&(u.i(b,Y,"tightPackAux:column"),u.i(1,Y,"tightPackAux:direction"));var c=b,c=b+1,d,e=[],g=[];for(d=0;d<=a.Sa;d++)e[d]=p,g[d]=p;for(var i=a.p.U.f;i.next();){d=i.value;var j=d.K-oo(a,d,h),k=d.K+oo(a,d,p);j<=b&&k>=b&&(e[d.w]=h);j<=c&&k>=c&&(g[d.w]=h)}j=h;c=p;for(d=0;d<=a.Sa;d++)j=j&&!(e[d]&&g[d]);if(j)for(i.reset();i.next();)d=i.value,d.K>b&&(d.K-=1,c=h);return c}
function Co(a,b){t&&u.i(b,Y,"componentPack:direction");for(var c=0;c<=a.eb;c++)for(;Qo(a,c););a.normalize();for(c=0;c<a.eb;c++)for(;Ro(a,c););a.normalize();var d,e,g,i;if(0<b)for(c=0;c<=a.eb;c++){d=ro(a);e=Jo(a);for(g=e+1;e<g;)g=e,So(a,c,1),i=Jo(a),i>e?uo(a,d):i<e&&(e=i,d=ro(a))}if(0>b)for(c=a.eb;0<=c;c--){d=ro(a);e=Jo(a);for(g=e+1;e<g;)g=e,So(a,c,-1),i=Jo(a),i>e?uo(a,d):i<e&&(e=i,d=ro(a))}a.normalize()}
function So(a,b,c){t&&(u.i(b,Y,"componentPackAux:column"),u.i(c,Y,"componentPackAux:direction"));a.mf=0;for(var d=a.p.U.f,e;d.next();)d.value.zb=-1;if(0<c)for(d.reset();d.next();)e=d.value,e.K-oo(a,e,h)<=b&&(e.zb=a.mf);if(0>c)for(d.reset();d.next();)e=d.value,e.K+oo(a,e,p)>=b&&(e.zb=a.mf);a.mf++;for(d.reset();d.next();)e=d.value,-1===e.zb&&(No(a,e,a.mf,-1,h,h),a.mf++);b=[];for(e=0;e<a.mf*a.mf;e++)b[e]=p;var g=[];for(e=0;e<(a.Sa+1)*(a.eb+1);e++)g[e]=-1;for(d.reset();d.next();){e=d.value;for(var i=
e.w,j=Math.max(0,e.K-oo(a,e,h)),k=Math.min(a.eb,e.K+oo(a,e,p));j<=k;j++)g[i*(a.eb+1)+j]=e.zb}for(e=0;e<=a.Sa;e++){if(0<c)for(j=0;j<a.eb;j++)-1!==g[e*(a.eb+1)+j]&&(-1!==g[e*(a.eb+1)+j+1]&&g[e*(a.eb+1)+j]!==g[e*(a.eb+1)+j+1])&&(b[g[e*(a.eb+1)+j]*a.mf+g[e*(a.eb+1)+j+1]]=h);if(0>c)for(j=a.eb;0<j;j--)-1!==g[e*(a.eb+1)+j]&&(-1!==g[e*(a.eb+1)+j-1]&&g[e*(a.eb+1)+j]!==g[e*(a.eb+1)+j-1])&&(b[g[e*(a.eb+1)+j]*a.mf+g[e*(a.eb+1)+j-1]]=h)}g=[];for(e=0;e<a.mf;e++)g[e]=h;i=new A("number");for(i.add(0);0!==i.count;)if(k=
i.j[i.count-1],i.te(i.count-1),g[k]){g[k]=p;for(e=0;e<a.mf;e++)b[k*a.mf+e]&&i.rc(0,e)}if(0<c)for(d.reset();d.next();)e=d.value,g[e.zb]&&(e.K-=1);if(0>c)for(d.reset();d.next();)e=d.value,g[e.zb]&&(e.K+=1)}Y.prototype.commitLayout=Y.prototype.Du=function(){if(this.am){var a,b;270===this.T?(a=wc,b=Bc):90===this.T?(a=Bc,b=wc):180===this.T?(a=xc,b=Ac):(a=Ac,b=xc);for(var c=this.p.Ub.f,d;c.next();)d=c.value.Ha,d!==m&&(d.ab=a,d.cb=b)}this.commitNodes();this.commitLinks()};
Y.prototype.commitNodes=Y.prototype.dy=function(){this.Sg=[];this.cg=[];this.Be=[];this.dd=[];for(var a=0;a<=this.Sa;a++)this.Sg[a]=0,this.cg[a]=0,this.Be[a]=0,this.dd[a]=0;for(var a=this.p.U.f,b,c;a.next();)b=a.value,c=b.w,this.Sg[c]=Math.max(this.Sg[c],Go(this,b,h)),this.cg[c]=Math.max(this.cg[c],Go(this,b,p));b=0;for(var d=this.qd,e=0;e<=this.Sa;e++)c=d,0>=this.Sg[e]+this.cg[e]&&(c=0),0<e&&(b+=c/2),90===this.T||0===this.T?(b+=this.cg[e],this.Be[e]=b,b+=this.Sg[e]):(b+=this.Sg[e],this.Be[e]=b,b+=
this.cg[e]),e<this.Sa&&(b+=c/2),this.dd[e]=b;d=this.Vc.copy();for(e=0;e<=this.Sa;e++)270===this.T?(this.Be[e]=d.y+this.Be[e],this.dd[e]=d.y+this.dd[e]):90===this.T?(this.Be[e]=d.y+b-this.Be[e],this.dd[e]=d.y+b-this.dd[e]):180===this.T?(this.Be[e]=d.x+this.Be[e],this.dd[e]=d.x+this.dd[e]):(this.Be[e]=d.x+b-this.Be[e],this.dd[e]=d.x+b-this.dd[e]);for(a.reset();a.next();){b=a.value;c=b.w;var g=b.K|0;270===this.T||90===this.T?(e=d.x+this.ad*g,c=this.Be[c]):(e=this.Be[c],c=d.y+this.ad*g);b.Da=e;b.Ea=c;
b.di()}};
Y.prototype.commitLinks=Y.prototype.cy=function(){for(var a=this.p.Ub.f,b,c;a.next();)c=a.value.Ha,"undefined"!==typeof c&&c!==m&&(c.Gk(),c.An(),c.ei());for(a.reset();a.next();)c=a.value.Ha,"undefined"!==typeof c&&c!==m&&$l(c);for(a.reset();a.next();)if(b=a.value,c=b.Ha){c.Gk();var d=c,e=d.ja,g=d.na,i=d.Nc,j=d.wd;if(b.sa){if(c.Pe===Xj&&4===c.da){b.ob&&(d=e,e=g,g=d,d=i,i=j,j=d);var k,l,n,r;if(b.I.K===b.G.K)k=c.Wd(e,i,fm(c),h,p,g,j).copy(),l=c.Wd(g,j,gm(c),p,p,e,i).copy(),n=new E((2*k.x+l.x)/3,(2*k.y+
l.y)/3),r=new E((k.x+2*l.x)/3,(k.y+2*l.y)/3),c.An(),c.jd(k),c.jd(n),c.jd(r),c.jd(l);else{d=b=p;i!==m&&fm(c)===hc&&(b=h);j!==m&&gm(c)===hc&&(d=h);if(b||d)k=c.h(0).copy(),n=c.h(1).copy(),r=c.h(2).copy(),l=c.h(3).copy();b&&(90===this.T||270===this.T?(n.x=k.x,n.y=(k.y+l.y)/2):(n.x=(k.x+l.x)/2,n.y=k.y),c.A(1,n),c.A(0,c.Wd(e,i,fm(c),h,p,g,j).copy()));d&&(90===this.T||270===this.T?(r.x=l.x,r.y=(k.y+l.y)/2):(r.x=(k.x+l.x)/2,r.y=l.y),c.A(2,r),c.A(3,c.Wd(g,j,gm(c),p,p,e,i).copy()))}}c.ei()}else if(b.I.w===
b.G.w)c.ei();else{var q=p,v=p,x,C=c.Ru+1;if(Sg(c))v=h,x=c.da,4<x&&c.sb.removeRange(2,x-3);else if(c.Pe===Xj)q=h,x=c.da,4<x&&c.sb.removeRange(2,x-3),C=2;else{x=c.da;var G=fm(c)===hc,I=gm(c)===hc;2<x&&G&&I?c.sb.removeRange(1,x-2):3<x&&G&&!I?c.sb.removeRange(1,x-3):3<x&&!G&&I?c.sb.removeRange(2,x-2):4<x&&(!G&&!I)&&c.sb.removeRange(2,x-3)}x=b.I;var I=b.G,y;if(b.ob){for(;I!==m&&x!==I;){y=G=m;for(var J=I.yb.f;J.next()&&!(z=J.value,z.Ha===b.Ha&&(G=z.I,y=z.G,G.Ia===m)););G!==x&&(z=c.h(C-1).copy(),J=new E(G.Da,
G.Ea),v?180===this.T||0===this.T?2===C?(c.q(C++,new E(z.x,z.y)),c.q(C++,new E(z.x,J.y))):(y=y!==m?new E(y.Da,y.Ea):z.copy(),y.y!==J.y&&(y=this.dd[G.w-1],c.q(C++,new E(y,z.y)),c.q(C++,new E(y,J.y)))):2===C?(c.q(C++,new E(z.x,z.y)),c.q(C++,new E(J.x,z.y))):(y=y!==m?new E(y.Da,y.Ea):z.copy(),y.x!==J.x&&(y=this.dd[G.w-1],c.q(C++,new E(z.x,y)),c.q(C++,new E(J.x,y)))):2===C?q?(y=Math.max(10,this.Sg[I.w]),H=Math.max(10,this.cg[I.w]),180===this.T?(I=I.C.x,c.q(C++,new E(I-y,J.y)),c.q(C++,new E(I,J.y)),c.q(C++,
new E(I+H,J.y))):90===this.T?(I=I.C.y+I.C.height,c.q(C++,new E(J.x,I+H)),c.q(C++,new E(J.x,I)),c.q(C++,new E(J.x,I-y))):270===this.T?(I=I.C.y,c.q(C++,new E(J.x,I-y)),c.q(C++,new E(J.x,I)),c.q(C++,new E(J.x,I+H))):(I=I.C.x+I.C.width,c.q(C++,new E(I+H,J.y)),c.q(C++,new E(I,J.y)),c.q(C++,new E(I-y,J.y)))):(c.q(C++,z),180===this.T||0===this.T?c.q(C++,new E(z.x,J.y)):c.q(C++,new E(J.x,z.y)),c.q(C++,new E(J.x,J.y))):(y=Math.max(10,this.Sg[G.w]),H=Math.max(10,this.cg[G.w]),180===this.T?(q&&c.q(C++,new E(J.x-
y,J.y)),c.q(C++,J),q&&c.q(C++,new E(J.x+H,J.y))):90===this.T?(q&&c.q(C++,new E(J.x,J.y+H)),c.q(C++,J),q&&c.q(C++,new E(J.x,J.y-y))):270===this.T?(q&&c.q(C++,new E(J.x,J.y-y)),c.q(C++,J),q&&c.q(C++,new E(J.x,J.y+H))):(q&&c.q(C++,new E(J.x+H,J.y)),c.q(C++,J),q&&c.q(C++,new E(J.x-y,J.y)))));I=G}if(j===m||!gm(c).z(hc))z=c.h(C-1).copy(),J=c.h(C).copy(),v?(G=this.cg[x.w],180===this.T||0===this.T?(v=z.y,v>=x.C.y&&v<=x.C.bottom&&(I=x.Da+G,v=v<x.C.y+x.C.height/2?x.C.y-this.ad/2:x.C.bottom+this.ad/2,c.q(C++,
new E(I,z.y)),c.q(C++,new E(I,v))),c.q(C++,new E(J.x,v))):(v=z.x,v>=x.C.x&&v<=x.C.right&&(I=x.Ea+G,v=v<x.C.x+x.C.width/2?x.C.x-this.ad/2:x.C.right+this.ad/2,c.q(C++,new E(z.x,I)),c.q(C++,new E(v,I))),c.q(C++,new E(v,J.y))),c.q(C++,J)):q?(y=Math.max(10,this.Sg[x.w]),H=Math.max(10,this.cg[x.w]),180===this.T?(I=x.C.x+x.C.width,c.A(C-2,new E(I,z.y)),c.A(C-1,new E(I+H,z.y))):90===this.T?(I=x.C.y,c.A(C-2,new E(z.x,I)),c.A(C-1,new E(z.x,I-y))):270===this.T?(I=x.C.y+x.C.height,c.A(C-2,new E(z.x,I)),c.A(C-
1,new E(z.x,I+H))):(I=x.C.x,c.A(C-2,new E(I,z.y)),c.A(C-1,new E(I-y,z.y)))):(180===this.T||0===this.T?c.q(C++,new E(J.x,z.y)):c.q(C++,new E(z.x,J.y)),c.q(C++,J))}else{for(;x!==m&&x!==I;){y=G=m;x=x.xb.f;for(var z;x.next()&&!(z=x.value,z.Ha===b.Ha&&(G=z.G,y=z.I,y.Ia!==m&&(y=m),G.Ia===m)););var H;G!==I&&(z=c.h(C-1).copy(),J=new E(G.Da,G.Ea),v?180===this.T||0===this.T?(y=y!==m?new E(y.Da,y.Ea):z.copy(),y.y!==J.y&&(y=this.dd[G.w],2===C&&(y=0===this.T?Math.max(y,z.x):Math.min(y,z.x)),c.q(C++,new E(y,z.y)),
c.q(C++,new E(y,J.y)))):(y=y!==m?new E(y.Da,y.Ea):z.copy(),y.x!==J.x&&(y=this.dd[G.w],2===C&&(y=90===this.T?Math.max(y,z.y):Math.min(y,z.y)),c.q(C++,new E(z.x,y)),c.q(C++,new E(J.x,y)))):(y=Math.max(10,this.Sg[G.w]),H=Math.max(10,this.cg[G.w]),180===this.T?(c.q(C++,new E(J.x+H,J.y)),q&&c.q(C++,J),c.q(C++,new E(J.x-y,J.y))):90===this.T?(c.q(C++,new E(J.x,J.y-y)),q&&c.q(C++,J),c.q(C++,new E(J.x,J.y+H))):270===this.T?(c.q(C++,new E(J.x,J.y+H)),q&&c.q(C++,J),c.q(C++,new E(J.x,J.y-y))):(c.q(C++,new E(J.x-
y,J.y)),q&&c.q(C++,J),c.q(C++,new E(J.x+H,J.y)))));x=G}v&&(z=c.h(C-1).copy(),J=c.h(C).copy(),180===this.T||0===this.T?z.y!==J.y&&(y=0===this.T?Math.min(Math.max((J.x+z.x)/2,this.dd[I.w]),J.x):Math.max(Math.min((J.x+z.x)/2,this.dd[I.w]),J.x),c.q(C++,new E(y,z.y)),c.q(C++,new E(y,J.y))):z.x!==J.x&&(y=90===this.T?Math.min(Math.max((J.y+z.y)/2,this.dd[I.w]),J.y):Math.max(Math.min((J.y+z.y)/2,this.dd[I.w]),J.y),c.q(C++,new E(z.x,y)),c.q(C++,new E(J.x,y))))}d!==m&&q&&(i!==m&&(fc(fm(c))&&(d=c.h(0).copy(),
q=c.h(2).copy(),d.z(q)||c.A(1,new E((d.x+q.x)/2,(d.y+q.y)/2))),c.A(0,c.Wd(e,i,hc,h,p,g,j))),j!==m&&(fc(gm(c))&&(d=c.h(c.da-1),q=c.h(c.da-3),d.z(q)||c.A(c.da-2,new E((d.x+q.x)/2,(d.y+q.y)/2))),c.A(c.da-1,c.Wd(g,j,hc,p,p,e,i))));c.ei();b.di()}}e=new A(V);for(a=this.p.Ub.f;a.next();)c=a.value.Ha,c!==m&&(Sg(c)&&!e.contains(c))&&e.add(c);if(0<e.count)if(90===this.T||270===this.T){t&&u.c(e,A,Y,"adjustOverlapsH:routables");a=0;c=new A(To);for(k=e.f;k.next();)if(g=k.value,g!==m&&Sg(g))for(e=2;e<g.da-3;e++)i=
g.h(e).copy(),j=g.h(e+1).copy(),Uo(i.y,j.y)&&!Uo(i.x,j.x)&&(l=new To,l.w=Math.floor(i.y/2),n=g.h(0).copy(),r=g.h(g.da-1).copy(),l.oc=n.x*n.x+n.y,l.ld=r.x*r.x+r.y,l.Dd=Math.min(i.x,j.x),l.kd=Math.max(i.x,j.x),l.ba=e,l.Ha=g,e+2<g.da&&(n=g.h(e-1).copy(),r=g.h(e+2).copy(),b=0,n.y<i.y?b=r.y<i.y?3:i.x<j.x?2:1:n.y>i.y&&(b=r.y>i.y?0:j.x<i.x?2:1),l.zh=b),c.add(l));if(1<c.count){c.sort(this.AD);for(k=0;k<c.count;){e=c.j[k].w;for(l=k+1;l<c.count&&c.j[l].w===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.j[g].kd;for(n=k+
1;n<l&&c.j[n].Dd<e;)e=Math.max(e,c.j[n].kd),n++;i=n-g;if(1<i){c.so(this.pv,g,g+i);j=1;r=c.j[g].ld;for(e=g;e<n;e++)b=c.j[e],b.ld!==r&&(j++,r=b.ld);c.so(this.zD,g,g+i);q=1;r=c.j[g].oc;for(e=g;e<n;e++)b=c.j[e],b.oc!==r&&(q++,r=b.oc);j<q?(d=p,q=j,r=c.j[g].ld,c.so(this.pv,g,g+i)):(d=h,r=c.j[g].oc);C=0;for(e=g;e<n;e++){b=c.j[e];if((d?b.oc:b.ld)!==r)C++,r=d?b.oc:b.ld;g=b.Ha;i=g.h(b.ba).copy();j=g.h(b.ba+1).copy();v=4*(C-(q-1)/2);if(g.af!==Yf||Vo(i.x,i.y+v,j.x,j.y+v))a++,g.Gk(),g.A(b.ba,new E(i.x,i.y+v)),
g.A(b.ba+1,new E(j.x,j.y+v)),g.ei()}}g=n}k=l}}}else{t&&u.c(e,A,Y,"adjustOverlapsV:routables");a=0;c=new A(To);for(k=e.f;k.next();)if(g=k.value,g!==m&&Sg(g))for(e=2;e<g.da-3;e++)i=g.h(e).copy(),j=g.h(e+1).copy(),Uo(i.x,j.x)&&!Uo(i.y,j.y)&&(l=new To,l.w=Math.floor(i.x/2),n=g.h(0).copy(),r=g.h(g.da-1).copy(),l.oc=n.x+n.y*n.y,l.ld=r.x+r.y*r.y,l.Dd=Math.min(i.y,j.y),l.kd=Math.max(i.y,j.y),l.ba=e,l.Ha=g,e+2<g.da&&(n=g.h(e-1).copy(),r=g.h(e+2).copy(),b=0,n.x<i.x?b=r.x<i.x?3:i.y<j.y?2:1:n.x>i.x&&(b=r.x>i.x?
0:j.y<i.y?2:1),l.zh=b),c.add(l));if(1<c.count){c.sort(this.AD);for(k=0;k<c.count;){e=c.j[k].w;for(l=k+1;l<c.count&&c.j[l].w===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.j[g].kd;for(n=k+1;n<l&&c.j[n].Dd<e;)e=Math.max(e,c.j[n].kd),n++;i=n-g;if(1<i){c.so(this.pv,g,g+i);j=1;r=c.j[g].ld;for(e=g;e<n;e++)b=c.j[e],b.ld!==r&&(j++,r=b.ld);c.so(this.zD,g,g+i);q=1;r=c.j[g].oc;for(e=g;e<n;e++)b=c.j[e],b.oc!==r&&(q++,r=b.oc);j<q?(d=p,q=j,r=c.j[g].ld,c.so(this.pv,g,g+i)):(d=h,r=c.j[g].oc);C=0;for(e=g;e<n;e++){b=c.j[e];if((d?
b.oc:b.ld)!==r)C++,r=d?b.oc:b.ld;g=b.Ha;i=g.h(b.ba).copy();j=g.h(b.ba+1).copy();v=4*(C-(q-1)/2);if(g.af!==Yf||Vo(i.x+v,i.y,j.x+v,j.y))a++,g.Gk(),g.A(b.ba,new E(i.x+v,i.y)),g.A(b.ba+1,new E(j.x+v,j.y)),g.ei()}}g=n}k=l}}}};function To(){this.ba=this.kd=this.Dd=this.ld=this.oc=this.w=0;this.Ha=m;this.zh=0}u.xf(To,{za:h,oc:h,ld:h,Dd:h,kd:h,index:h,link:h,zh:h});
Y.prototype.AD=function(a,b){return!(a instanceof To)||!(b instanceof To)||a===b?0:a.w<b.w?-1:a.w>b.w?1:a.Dd<b.Dd?-1:a.Dd>b.Dd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};Y.prototype.zD=function(a,b){return!(a instanceof To)||!(b instanceof To)||a===b?0:a.oc<b.oc?-1:a.oc>b.oc||a.zh<b.zh?1:a.zh>b.zh||a.Dd<b.Dd?-1:a.Dd>b.Dd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};
Y.prototype.pv=function(a,b){return!(a instanceof To)||!(b instanceof To)||a===b?0:a.ld<b.ld?-1:a.ld>b.ld||a.zh<b.zh?1:a.zh>b.zh||a.Dd<b.Dd?-1:a.Dd>b.Dd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};function Uo(a,b){t&&(u.i(a,Y,"isApprox:a"),u.i(b,Y,"isApprox:b"));var c=a-b;return-1<c&&1>c}function Vo(a,b,c,d){t&&(u.i(a,Y,"isUnoccupied2:px"),u.i(b,Y,"isUnoccupied2:py"),u.i(c,Y,"isUnoccupied2:qx"),u.i(d,Y,"isUnoccupied2:qy"));return h}
function ho(a,b){var c,d=a.cd[b];if(d>=a.hg.length){c=[];var e;for(e=0;e<a.hg.length;e++)c[e]=a.hg[e];a.hg=c}"undefined"===typeof a.hg[d]||a.hg[d]===m?c=[]:(c=a.hg[d],a.hg[d]=m);var d=a.lq[b],g;for(e=0;e<d.length;e++)g=d[e],g instanceof Ho&&(c[g.ba]=g);return c}function po(a,b,c){a.hg[a.cd[b]]=c}u.a(Y,"layerSpacing",Y.prototype.Xr);u.defineProperty(Y,{Xr:"layerSpacing"},s("qd"),function(a){this.qd!==a&&("number"===typeof a&&0<=a)&&(this.qd=a,this.v())});u.a(Y,"columnSpacing",Y.prototype.rF);
u.defineProperty(Y,{rF:"columnSpacing"},s("ad"),function(a){this.ad!==a&&("number"===typeof a&&0<=a)&&(this.ad=a,this.v())});u.a(Y,"direction",Y.prototype.direction);u.defineProperty(Y,{direction:"direction"},s("T"),function(a){this.T!==a&&"number"===typeof a&&(this.T=a,this.v())});u.a(Y,"cycleRemoveOption",Y.prototype.GB);u.defineProperty(Y,{GB:"cycleRemoveOption"},s("rm"),function(a){if(this.rm!==a&&(t&&u.c(a,ra,Fn,"cycleRemoveOption"),a===Gn||a===An))this.rm=a,this.v()});
u.a(Y,"layeringOption",Y.prototype.HC);u.defineProperty(Y,{HC:"layeringOption"},s("Mm"),function(a){if(this.Mm!==a&&(t&&u.c(a,ra,Fn,"layeringOption"),a===Bn||a===Ln||a===Nn))this.Mm=a,this.v()});u.a(Y,"initializeOption",Y.prototype.zC);u.defineProperty(Y,{zC:"initializeOption"},s("Gm"),function(a){if(this.Gm!==a&&(t&&u.c(a,ra,Fn,"initializeOption"),a===Cn||a===Un||a===Sn))this.Gm=a,this.v()});u.a(Y,"iterations",Y.prototype.oG);
u.defineProperty(Y,{oG:"iterations"},s("fl"),function(a){t&&u.i(a,Fn,"iterations");this.fl!==a&&("number"===typeof a&&0<=a)&&(this.fl=a,this.v())});u.a(Y,"aggressiveOption",Y.prototype.jB);u.defineProperty(Y,{jB:"aggressiveOption"},s("jm"),function(a){if(this.jm!==a&&(t&&u.c(a,ra,Fn,"cycleRemoveOption"),a===vo||a===Dn||a===wo))this.jm=a,this.v()});u.a(Y,"packOption",Y.prototype.GG);u.defineProperty(Y,{GG:"packOption"},s("Sh"),function(a){this.Sh!==a&&("number"===typeof a&&0<=a&&8>a)&&(this.Sh=a,this.v())});
u.a(Y,"setsPortSpots",Y.prototype.am);u.defineProperty(Y,{am:"setsPortSpots"},s("Vg"),function(a){this.Vg!==a&&"boolean"===typeof a&&(this.Vg=a,this.v())});u.m(Y,{OJ:"maxLayer"},s("Sa"));u.m(Y,{MJ:"maxIndex"},s("st"));u.m(Y,{LJ:"maxColumn"},s("eb"));u.m(Y,{UJ:"minIndexLayer"},s("dq"));u.m(Y,{NJ:"maxIndexLayer"},s("Ce"));var An;Y.CycleDepthFirst=An=u.l(Y,"CycleDepthFirst",0);var Gn;Y.CycleGreedy=Gn=u.l(Y,"CycleGreedy",1);var Bn;Y.LayerOptimalLinkLength=Bn=u.l(Y,"LayerOptimalLinkLength",0);var Ln;
Y.LayerLongestPathSink=Ln=u.l(Y,"LayerLongestPathSink",1);var Nn;Y.LayerLongestPathSource=Nn=u.l(Y,"LayerLongestPathSource",2);var Cn;Y.InitDepthFirstOut=Cn=u.l(Y,"InitDepthFirstOut",0);var Un;Y.InitDepthFirstIn=Un=u.l(Y,"InitDepthFirstIn",1);var Sn;Y.InitNaive=Sn=u.l(Y,"InitNaive",2);var vo;Y.AggressiveNone=vo=u.l(Y,"AggressiveNone",0);var Dn;Y.AggressiveLess=Dn=u.l(Y,"AggressiveLess",1);var wo;Y.AggressiveMore=wo=u.l(Y,"AggressiveMore",2);Y.PackNone=0;var xo;Y.PackExpand=xo=1;var yo;
Y.PackStraighten=yo=2;var Ao;Y.PackMedian=Ao=4;var En;Y.PackAll=En=7;function Fn(){Nm.call(this)}u.J("LayeredDigraphNetwork",Fn);u.va(Fn,Nm);Fn.prototype.createVertex=Fn.prototype.Ui=function(){return new Ho};Fn.prototype.createEdge=Fn.prototype.Dn=function(){return new Qn};function Ho(){Rm.call(this);this.ba=this.K=this.w=-1;this.sa=p;this.zb=this.zm=this.Jj=NaN;this.Hi=m;this.Pk=0;this.Yw=this.Zw=f}u.J("LayeredDigraphVertex",Ho);u.va(Ho,Rm);u.a(Ho,"layer",Ho.prototype.za);
u.defineProperty(Ho,{za:"layer"},s("w"),ba("w"));u.a(Ho,"column",Ho.prototype.mc);u.defineProperty(Ho,{mc:"column"},s("K"),ba("K"));u.a(Ho,"index",Ho.prototype.index);u.defineProperty(Ho,{index:"index"},s("ba"),ba("ba"));u.a(Ho,"valid",Ho.prototype.valid);u.defineProperty(Ho,{valid:"valid"},s("sa"),ba("sa"));u.a(Ho,"discover",Ho.prototype.DF);u.defineProperty(Ho,{DF:"discover"},s("Jj"),ba("Jj"));u.a(Ho,"finish",Ho.prototype.finish);u.defineProperty(Ho,{finish:"finish"},s("zm"),ba("zm"));
u.a(Ho,"component",Ho.prototype.sF);u.defineProperty(Ho,{sF:"component"},s("zb"),ba("zb"));u.a(Ho,"near",Ho.prototype.DG);u.defineProperty(Ho,{DG:"near"},s("Hi"),function(a){a!==m&&u.c(a,Ho,Ho,"layeredDigraphVertex");this.Hi=a});function Qn(){Sm.call(this);this.np=this.ob=this.sa=p;this.He=this.Fe=NaN;this.fe=this.tH=0}u.J("LayeredDigraphEdge",Qn);u.va(Qn,Sm);u.a(Qn,"valid",Qn.prototype.valid);u.defineProperty(Qn,{valid:"valid"},s("sa"),ba("sa"));u.a(Qn,"rev",Qn.prototype.rev);
u.defineProperty(Qn,{rev:"rev"},s("ob"),ba("ob"));u.a(Qn,"forest",Qn.prototype.SF);u.defineProperty(Qn,{SF:"forest"},s("np"),ba("np"));u.a(Qn,"portFromPos",Qn.prototype.IG);u.defineProperty(Qn,{IG:"portFromPos"},s("Fe"),ba("Fe"));u.a(Qn,"portToPos",Qn.prototype.KG);u.defineProperty(Qn,{KG:"portToPos"},s("He"),ba("He"));u.a(Qn,"portFromColOffset",Qn.prototype.HG);u.defineProperty(Qn,{HG:"portFromColOffset"},s("Ee"),ba("Ee"));u.a(Qn,"portToColOffset",Qn.prototype.JG);
u.defineProperty(Qn,{JG:"portToColOffset"},s("fe"),ba("fe"));function X(){Sh.call(this);this.yc=new A(U);this.lc=Wo;this.Yq=Xo;this.Hc=Yo;this.bf=(new L(10,10)).freeze();this.Z=new Z;this.Y=new Z}u.J("TreeLayout",X);u.va(X,Sh);X.prototype.cloneProtected=X.prototype.pb=function(a){Sh.prototype.pb.call(this,a);a.lc=this.lc;a.Yq=this.Yq;a.Hc=this.Hc;a.bf=this.bf.F();Zo(a.Z,this.Z);Zo(a.Y,this.Y)};X.prototype.createNetwork=X.prototype.Gu=function(){var a=new $o;Om(a,this);return a};
X.prototype.makeNetwork=X.prototype.vG=function(a){var b=this.createNetwork();a instanceof B?(ap(this,b,a.Bk,h),ap(this,b,a.links,h)):a instanceof tf?ap(this,b,a.sc,p):a.f&&ap(this,b,a.f,p);return b};
function ap(a,b,c,d){for(c=c.f;c.next();){var e=c.value;if(e instanceof U&&e.vr()&&"Comment"!==e.td&&(!d||e.Vr))e.ej||(e instanceof tf&&e.Cb===m?ap(a,b,e.sc,p):b.pn(e))}for(c.reset();c.next();)if(e=c.value,e instanceof V&&e.vr()&&"Comment"!==e.td&&(!d||e.Vr)){var g=e.ja,a=e.na;if(!(g===m||a===m||g===a)&&"Comment"!==g.td&&"Comment"!==a.td)g=b.Pu(g),a=b.Pu(a),g!==m&&a!==m&&b.Sl(g,a,e)}}
X.prototype.doLayout=X.prototype.Cr=function(a){this.Pc===m&&(this.Pc=this.makeNetwork(a));this.yc===m&&(this.yc=new A(U));this.Td!==bp&&(this.Vc=Qm(this,this.Vc));if(0<this.p.U.count){this.p.Ku();for(var b=this.p.U.f;b.next();)a=b.value,a.Rj=p,a.gl=0,a.mb=m,a.Ib=[];for(var c=this.yc.f;c.next();)b=c.value,a=this.p.me(b),a===m&&this.yc.remove(b);if(0===this.yc.length){for(a=this.p.U.f;a.next();)switch(b=a.value,this.lc){case Wo:0===b.yb.count&&this.yc.add(b.Ia);break;case cp:0===b.xb.count&&this.yc.add(b.Ia);
break;default:u.g("Unhandled path value "+this.lc.toString())}if(0===this.yc.count){a=999999;b=m;for(c=this.p.U.f;c.next();){var d=c.value;switch(this.lc){case Wo:d.yb.count<a&&(a=d.yb.count,b=d);break;case cp:d.xb.count<a&&(a=d.xb.count,b=d);break;default:u.g("Unhandled path value "+this.lc.toString())}}b!==m&&this.yc.add(b.Ia)}}for(c=this.yc.f;c.next();)b=c.value,a=this.p.me(b),a!==m&&!a.Rj&&(a.Rj=h,dp(this,a));for(a=this.yc.f;a.next();)b=this.p.me(a.value),ep(this,b);for(a=this.yc.f;a.next();)b=
this.p.me(a.value),fp(this,b);for(a=this.yc.f;a.next();)gp(this,this.p.me(a.value));for(a=this.p.U.f;a.next();)this.cB(a.value);for(a=this.yc.f;a.next();)hp(this,this.p.me(a.value));if(this.Hc===bp)for(a=this.yc.f;a.next();)c=a.value,b=this.p.me(c),d=c.position,c=d.x,d=d.y,isFinite(c)||(c=0),isFinite(d)||(d=0),ip(this,b,c,d);else{d=this.Vc.copy();for(a=this.yc.f;a.next();)if(c=a.value,b=this.p.me(c),b!==m)switch(ip(this,b,d.x+b.ya.x,d.y+b.ya.y),this.Hc){case Yo:d.y+=b.Ja.height+this.bf.height;break;
case jp:d.x+=b.Ja.width+this.bf.width;break;default:u.g("Unhandled arrangement value "+this.Hc.toString())}d.freeze()}this.updateParts()}this.yc=this.Pc=m;this.We=h};
function dp(a,b){t&&u.c(b,Z,X,"walkTree:v");if(b!==m){var c,d,e;switch(a.lc){case Wo:if(0<b.xb.count){c=new A(Z);for(d=b.CF;d.next();)e=d.value,kp(a,b,e)&&c.add(e);0<c.count&&(b.Ib=c.Nf())}break;case cp:if(0<b.yb.count){c=new A(Z);for(d=b.bH;d.next();)e=d.value,kp(a,b,e)&&c.add(e);0<c.count&&(b.Ib=c.Nf())}break;default:u.g("Unhandled path value"+a.lc.toString())}d=b.Ib;var g=d.length;for(c=0;c<g;c++)e=d[c],e.Rj=h,e.gl=b.gl+1,e.mb=b,a.yc.remove(e.Ia);for(c=0;c<g;c++)e=d[c],dp(a,e)}}
function kp(a,b,c){t&&u.c(b,Z,X,"walkOK:v");t&&u.c(c,Z,X,"walkOK:c");if(c.Rj){var d;t&&u.c(c,Z,X,"isAncestor:a");t&&u.c(b,Z,X,"isAncestor:b");if(b===m)d=p;else{for(d=b.mb;d!==m&&d!==c;)d=d.mb;d=d===c}if(d||c.gl>b.gl)return p;a.removeChild(c.mb,c)}return h}
X.prototype.removeChild=function(a,b){t&&u.c(a,Z,X,"removeChild:p");t&&u.c(b,Z,X,"removeChild:c");if(a!==m&&b!==m){var c=a.Ib,d=0,e;for(e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){var d=Array(c.length-d),g=0;for(e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.Ib=d}}};
function ep(a,b){t&&u.c(b,Z,X,"initializeTree:v");if(b!==m){t&&u.c(b,Z,X,"initializeTreeVertexValues:v");var c=lp(a,b);Zo(b,c);if(b.mb!==m&&b.mb.ra===mp){for(var c=b.Va,d=b.mb.Ib,e=0;e<d.length&&b!==d[e];)e++;0===e%2?e!==d.length-1&&(c=90===c?180:180===c?270:270===c?180:270):c=90===c?0:180===c?90:270===c?0:90;b.Va=c}d=b.Ia;d!==m&&(c=d.ua.width,d=d.ua.height,b.width=c,b.height=d,b.Su=c/2,b.Tu=d/2);b.Rj=h;b.ra===mp&&np(b);for(var c=0,d=b.Bl,e=0,g=b.Ib,i=g.length,j=0;j<i;j++){var k=g[j];ep(a,k);c+=k.Ws+
1;d=Math.max(d,k.rt);e=Math.max(e,k.Nh)}b.Ws=c;b.rt=d;b.Nh=0<d?e+1:0}}function lp(a,b){t&&u.c(b,Z,X,"mom:v");switch(a.Yq){default:case Xo:return b.mb!==m?b.mb:a.Z;case op:return b.mb===m?a.Z:b.mb.mb===m?a.Y:b.mb;case pp:if(b.mb!==m)return b.mb.mb!==m?b.mb.mb:a.Y;case qp:var c=h;if(0===b.Bl)c=p;else for(var d=b.Ib,e=d.length,g=0;g<e;g++)if(0<d[g].Bl){c=p;break}return c&&b.mb!==m?a.Y:b.mb!==m?b.mb:a.Z}}
function fp(a,b){t&&u.c(b,Z,X,"assignTree:v");if(b!==m){t&&u.c(b,Z,X,"assignTreeVertexValues:v");for(var c=b.Ib,d=c.length,e=0;e<d;e++)fp(a,c[e])}}function gp(a,b){t&&u.c(b,Z,X,"sortTree:v");if(b!==m){b.ra!==mp&&np(b);for(var c=b.Ib,d=c.length,e=0;e<d;e++)gp(a,c[e])}}
function np(a){t&&u.c(a,Z,X,"sortTreeVertexChildren:v");switch(a.ec){case rp:break;case sp:a.Ib.reverse();break;case tp:a.Ib.sort(a.bc);break;case up:a.Ib.sort(a.bc);a.Ib.reverse();break;default:u.g("Unhandled sorting value "+a.ec.toString())}}
X.prototype.cB=function(a){t&&u.c(a,Z,X,"addComments:v");var b=a.Yb,c=a.mb,d=0,e=vp,e=p;c!==m&&(d=c.Yb,e=c.ra,e=wp(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.Bl,g=new F,i=g.width,g=g.height,j=0,k=a.od;if(a.Ia!==m)for(var l=a.Ia.dC();l.next();){var n=l.value;"Comment"===n.td&&n.ib()&&(a.pd===m&&(a.pd=[]),a.pd.push(n),n.ji(),n=n.ua,b&&!c||!e&&!d&&c||e&&d&&c?(i=Math.max(i,n.width),g+=n.height+Math.abs(j)):(i+=n.width+Math.abs(j),g=Math.max(g,n.height)),j=k)}a.pd!==m&&(b&&!c||!e&&!d&&c||e&&d&&
c?(i+=Math.abs(a.ac),g=Math.max(0,g-a.height)):(g+=Math.abs(a.ac),i=Math.max(0,i-a.width)),a.rb=new F(0,0,a.C.width+i,a.C.height+g))};function wp(a){return a===xp||a===mp||a===yp||a===zp}function Ap(a){return a===xp||a===mp}function Bp(a){t&&u.c(a,Z,X,"isLeftSideBus:v");var b=a.mb;if(b!==m){var c=b.vb;if(wp(c)){if(Ap(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===yp)return h}}return p}
function hp(a,b){t&&u.c(b,Z,X,"layoutTree:v");if(b!==m){var c=b.Ib,d=c.length,e,g;for(g=0;g<d;g++)e=c[g],hp(a,e);switch(b.Uf){case Cp:Dp(a,b);break;case Ep:if(b.ra===mp)Dp(a,b);else if(t&&u.c(b,Z,X,"layoutTreeBlock:v"),0===b.Bl)e=b.mb,c=p,d=0,g=vp,e!==m&&(d=e.Yb,g=e.ra,c=wp(g)),e=Bp(b),b.O=new E(0,0),b.Ja=new L(b.width,b.height),b.ya=b.mb!==m&&b.pd!==m&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?new E(b.width-2*b.B.x,0):new E(0,b.height-2*b.B.y):new E(0,0),b.Qp=m,b.Dq=m;else{var i=
Fp(b),c=90===i||270===i,j=0,k,l,n=b.Ib,r=n.length;for(k=0;k<r;k++)l=n[k],j=Math.max(j,c?l.Ja.width:l.Ja.height);var q=b.ra;e=q===Gp;var v=q===Hp,x=wp(q),C=Math.max(0,b.Rf),d=Ip(b),G=b.hd,I=Jp(b),y=b.ge,J=0;if(e||v||b.gk||b.hk&&1===b.Nh)J=Math.max(0,b.Uc);e=b.width;g=b.height;var z=0,H=0,ha=0,S=m,T=m,ia=new L(0,0),la=0,Da=0,Ea=0,Wa=0,bb=0,gb=0;l=0;x&&!Ap(q)&&135<i&&n.reverse();if(Ap(q))if(1<r)for(k=0;k<r;k++)0===k%2&&k!==r-1?gb=Math.max(gb,c?n[k].Ja.width:n[k].Ja.height):0!==k%2&&(l=Math.max(l,c?n[k].Ja.width:
n[k].Ja.height));else 1===r&&(gb=c?n[0].Ja.width:n[0].Ja.height);var Sa;if(x){switch(q){case xp:k=135>i?Kp(b,n,gb,z,H):Lp(b,n,gb,z,H);gb=k[0];z=k[1];H=k[2];break;case yp:for(k=0;k<r;k++)l=n[k],Sa=l.Ja,S=0===Wa?0:y,c?(l.O=new E(j-Sa.width,Da+S),z=Math.max(z,Sa.width),H=Math.max(H,Da+S+Sa.height),Da+=S+Sa.height):(l.O=new E(la+S,j-Sa.height),z=Math.max(z,la+S+Sa.width),H=Math.max(H,Sa.height),la+=S+Sa.width),Wa++;break;case zp:for(k=0;k<r;k++)l=n[k],Sa=l.Ja,S=0===Wa?0:y,c?(l.O=new E(G/2+b.B.x,Da+S),
z=Math.max(z,Sa.width),H=Math.max(H,Da+S+Sa.height),Da+=S+Sa.height):(l.O=new E(la+S,G/2+b.B.y),z=Math.max(z,la+S+Sa.width),H=Math.max(H,Sa.height),la+=S+Sa.width),Wa++}S=[];T=[];c?(S[0]=new E(0,0),S[1]=new E(0,H),T[0]=new E(z,0)):(S[0]=new E(0,0),S[1]=new E(z,0),T[0]=new E(0,H));T[1]=new E(z,H)}else for(var lb,Za=0;Za<r;Za++){l=n[Za];Sa=l.Ja;if(c){0<C&&(0<Wa&&la+G+Sa.width>C)&&(la<j&&Mp(b,q,j-la,0,bb,Za-1),Ea++,Wa=0,bb=Za,ha=H,la=0,Da=135<i?-H-y:H+y);Np(a,l,new E(0,Da));lb=0;if(0===Wa){if(S=l.Qp,
T=l.Dq,ia=Sa.copy(),S===m||T===m||i!==Fp(l))S=[],T=[],S[0]=new E(0,0),S[1]=new E(0,ia.height),T[0]=new E(ia.width,0),T[1]=new E(ia.width,ia.height)}else k=Tp(b,l,S,T,ia.width,ia.height),lb=k[0],S=k[1],T=k[2],ia.width=k[3],ia.height=k[4],la<Sa.width&&0>lb&&(Up(b,-lb,0,bb,Za-1),Vp(S,-lb,0),Vp(T,-lb,0),lb=0);l.O=new E(lb,Da);z=Math.max(z,ia.width);H=Math.max(H,ha+(0===Ea?0:y)+Sa.height);la=ia.width}else{0<C&&(0<Wa&&Da+G+Sa.height>C)&&(Da<j&&Mp(b,q,0,j-Da,bb,Za-1),Ea++,Wa=0,bb=Za,ha=z,Da=0,la=135<i?-z-
y:z+y);Np(a,l,new E(la,0));lb=0;if(0===Wa){if(S=l.Qp,T=l.Dq,ia=Sa.copy(),S===m||T===m||i!==Fp(l))S=[],T=[],S[0]=new E(0,0),S[1]=new E(ia.width,0),T[0]=new E(0,ia.height),T[1]=new E(ia.width,ia.height)}else k=Tp(b,l,S,T,ia.width,ia.height),lb=k[0],S=k[1],T=k[2],ia.width=k[3],ia.height=k[4],Da<Sa.height&&0>lb&&(Up(b,0,-lb,bb,Za-1),Vp(S,0,-lb),Vp(T,0,-lb),lb=0);l.O=new E(la,lb);H=Math.max(H,ia.height);z=Math.max(z,ha+(0===Ea?0:y)+Sa.width);Da=ia.height}Wa++}0<Ea&&(c?(H+=Math.max(0,d),la<z&&Mp(b,q,z-
la,0,bb,r-1),0<J&&(v||Up(b,J,0,0,r-1),z+=J)):(z+=Math.max(0,d),Da<H&&Mp(b,q,0,H-Da,bb,r-1),0<J&&(v||Up(b,0,J,0,r-1),H+=J)));j=new E(0,0);switch(q){case Wp:c?j.x+=z/2-b.B.x-I/2:j.y+=H/2-b.B.y-I/2;break;case vp:0<Ea?c?j.x+=z/2-b.B.x-I/2:j.y+=H/2-b.B.y-I/2:c?(k=n[0].O.x+n[0].ya.x,v=n[r-1].O.x+n[r-1].ya.x+2*n[r-1].B.x,j.x+=(v+k)/2-b.B.x-I/2):(k=n[0].O.y+n[0].ya.y,v=n[r-1].O.y+n[r-1].ya.y+2*n[r-1].B.y,j.y+=(v+k)/2-b.B.y-I/2);break;case Gp:c?(j.x-=I,z+=I):(j.y-=I,H+=I);break;case Hp:c?(j.x+=z-b.width+I,
z+=I):(j.y+=H-b.height+I,H+=I);break;case xp:c?j.x=1<r?j.x+(gb+G/2-b.B.x):j.x+(n[0].B.x-b.B.x+n[0].ya.x):j.y=1<r?j.y+(gb+G/2-b.B.y):j.y+(n[0].B.y-b.B.y+n[0].ya.y);break;case yp:c?j.x+=z+G/2-b.B.x:j.y+=H+G/2-b.B.y;break;case zp:break;default:u.g("Unhandled alignment value "+q.toString())}for(k=0;k<r;k++)l=n[k],l.O=c?new E(l.O.x+l.ya.x-j.x,l.O.y+(135<i?(x?-H:-l.Ja.height)+l.ya.y-d:g+d+l.ya.y)):new E(l.O.x+(135<i?(x?-z:-l.Ja.width)+l.ya.x-d:e+d+l.ya.x),l.O.y+l.ya.y-j.y);n=new L(0,0);x?c?(z=Xp(b,z,j.x),
0>j.x&&(j.x=0),135<i&&(j.y+=H+d),H+=g+d,q===zp&&(n.width+=G/2+b.B.x),n.height+=g+d):(135<i&&(j.x+=z+d),z+=e+d,H=Yp(b,H,j.y),0>j.y&&(j.y=0),q===zp&&(n.height+=G/2+b.B.y),n.width+=e+d):c?(b.pd===m?e>z&&(q=Zp(q,e-z,0),n.width=q[0],n.height=q[1],z=e,j.x=0):z=Xp(b,z,j.x),0>j.x&&(n.width-=j.x,j.x=0),135<i&&(j.y+=H+d),H=Math.max(Math.max(H,g),H+g+d),n.height+=g+d):(135<i&&(j.x+=z+d),z=Math.max(Math.max(z,e),z+e+d),b.pd===m?g>H&&(q=Zp(q,0,g-H),n.width=q[0],n.height=q[1],H=g,j.y=0):H=Yp(b,H,j.y),0>j.y&&(n.height-=
j.y,j.y=0),n.width+=e+d);if(0<Ea)i=[],q=[],c?(i[2]=new E(0,g+d),i[3]=new E(i[2].x,H),q[2]=new E(z,i[2].y),q[3]=new E(q[2].x,i[3].y)):(i[2]=new E(e+d,0),i[3]=new E(z,i[2].y),q[2]=new E(i[2].x,H),q[3]=new E(i[3].x,q[2].y));else{i=[];q=[];for(k=0;k<S.length;k++)x=S[k],i[k+2]=new E(x.x+n.width,x.y+n.height);for(k=0;k<T.length;k++)x=T[k],q[k+2]=new E(x.x+n.width,x.y+n.height)}c?(i[0]=new E(j.x,0),i[1]=new E(i[0].x,g),i[2].y<i[1].y&&(i[2].x>i[0].x?i[2]=i[1].copy():i[1]=i[2].copy()),i[3].y<i[2].y&&(i[3].x>
i[0].x?i[3]=i[2].copy():i[2]=i[3].copy()),q[0]=new E(j.x+e,0),q[1]=new E(q[0].x,g),q[2].y<q[1].y&&(q[2].x<q[0].x?q[2]=q[1].copy():q[1]=q[2].copy()),q[3].y<q[2].y&&(q[3].x<q[0].x?q[3]=q[2].copy():q[2]=q[3].copy()),i[2].y-=d/2,q[2].y-=d/2):(i[0]=new E(0,j.y),i[1]=new E(e,i[0].y),i[2].x<i[1].x&&(i[2].y>i[0].y?i[2]=i[1].copy():i[1]=i[2].copy()),i[3].x<i[2].x&&(i[3].y>i[0].y?i[3]=i[2].copy():i[2]=i[3].copy()),q[0]=new E(0,j.y+g),q[1]=new E(e,q[0].y),q[2].x<q[1].x&&(q[2].y<q[0].y?q[2]=q[1].copy():q[1]=
q[2].copy()),q[3].x<q[2].x&&(q[3].y<q[0].y?q[3]=q[2].copy():q[2]=q[3].copy()),i[2].x-=d/2,q[2].x-=d/2);b.Qp=i;b.Dq=q;b.ya=j;b.Ja=new L(z,H)}break;default:u.g("Unhandled compaction value "+b.Uf.toString())}}}
function Dp(a,b){t&&u.c(b,Z,X,"layoutTreeNone:v");if(0===b.Bl){var c=b.mb,d=p,e=0,g=vp;c!==m&&(e=c.Yb,g=c.ra,d=wp(g));c=Bp(b);b.O=new E(0,0);b.Ja=new L(b.width,b.height);b.ya=b.mb!==m&&b.pd!==m&&((180===e||270===e)&&!d||c)?180===e&&!d||(90===e||270===e)&&c?new E(b.width-2*b.B.x,0):new E(0,b.height-2*b.B.y):new E(0,0)}else{var d=Fp(b),e=90===d||270===d,i=0,j,k,c=b.Ib,g=c.length,l;for(j=0;j<g;j++)k=c[j],i=Math.max(i,e?k.Ja.width:k.Ja.height);var n=b.ra,r=n===Gp,q=n===Hp,v=wp(n),x=Math.max(0,b.Rf),C=
Ip(b),G=b.hd,I=Jp(b),y=r||q?0:I/2,J=b.ge,z=0;if(r||q||b.gk||b.hk&&1===b.Nh)z=Math.max(0,b.Uc);var r=b.width,H=b.height,ha=0,S=0,T=0,ia=0,la=0,Da=0,Ea=0,Wa=0,bb=0,gb=0;v&&!Ap(n)&&135<d&&c.reverse();if(Ap(n))if(1<g)for(j=0;j<g;j++)k=c[j],l=k.Ja,0===j%2&&j!==g-1?bb=Math.max(bb,(e?l.width:l.height)+$p(k)-G):0!==j%2&&(gb=Math.max(gb,(e?l.width:l.height)+$p(k)-G));else 1===g&&(bb=e?c[0].Ja.width:c[0].Ja.height);if(v)switch(n){case xp:case mp:k=[];k=135>d?Kp(b,c,bb,ha,S):Lp(b,c,bb,ha,S);bb=k[0];ha=k[1];
S=k[2];break;case yp:for(j=0;j<g;j++)k=c[j],l=k.Ja,x=0===Ea?0:J,e?(k.O=new E(i-l.width,la+x),ha=Math.max(ha,l.width),S=Math.max(S,la+x+l.height),la+=x+l.height):(k.O=new E(ia+x,i-l.height),ha=Math.max(ha,ia+x+l.width),S=Math.max(S,l.height),ia+=x+l.width),Ea++;break;case zp:for(i=0;i<g;i++)k=c[i],l=k.Ja,x=0===Ea?0:J,e?(k.O=new E(G/2+b.B.x,la+x),ha=Math.max(ha,l.width),S=Math.max(S,la+x+l.height),la+=x+l.height):(k.O=new E(ia+x,G/2+b.B.y),ha=Math.max(ha,ia+x+l.width),S=Math.max(S,l.height),ia+=x+l.width),
Ea++}else for(gb=0;gb<g;gb++)k=c[gb],l=k.Ja,e?(0<x&&(0<Ea&&ia+G+l.width>x)&&(ia<i&&Mp(b,n,i-ia,0,Wa,gb-1),Da++,Ea=0,Wa=gb,T=S,ia=0,la=135<d?-S-J:S+J),j=0===Ea?y:G,Np(a,k,new E(0,la)),k.O=new E(ia+j,la),ha=Math.max(ha,ia+j+l.width),S=Math.max(S,T+(0===Da?0:J)+l.height),ia+=j+l.width):(0<x&&(0<Ea&&la+G+l.height>x)&&(la<i&&Mp(b,n,0,i-la,Wa,gb-1),Da++,Ea=0,Wa=gb,T=ha,la=0,ia=135<d?-ha-J:ha+J),j=0===Ea?y:G,Np(a,k,new E(ia,0)),k.O=new E(ia,la+j),S=Math.max(S,la+j+l.height),ha=Math.max(ha,T+(0===Da?0:J)+
l.width),la+=j+l.height),Ea++;0<Da&&(e?(S+=Math.max(0,C),ia<ha&&Mp(b,n,ha-ia,0,Wa,g-1),0<z&&(q||Up(b,z,0,0,g-1),ha+=z)):(ha+=Math.max(0,C),la<S&&Mp(b,n,0,S-la,Wa,g-1),0<z&&(q||Up(b,0,z,0,g-1),S+=z)));q=new E(0,0);switch(n){case Wp:e?q.x+=ha/2-b.B.x-I/2:q.y+=S/2-b.B.y-I/2;break;case vp:0<Da?e?q.x+=ha/2-b.B.x-I/2:q.y+=S/2-b.B.y-I/2:e?(n=c[0].O.x+c[0].ya.x,G=c[g-1].O.x+c[g-1].ya.x+2*c[g-1].B.x,q.x+=n+(G-n)/2-b.B.x-I/2):(n=c[0].O.y+c[0].ya.y,G=c[g-1].O.y+c[g-1].ya.y+2*c[g-1].B.y,q.y+=n+(G-n)/2-b.B.y-
I/2);break;case Gp:e?(q.x-=I,ha+=I):(q.y-=I,S+=I);break;case Hp:e?(q.x+=ha-b.width+I,ha+=I):(q.y+=S-b.height+I,S+=I);break;case xp:case mp:e?q.x=1<g?q.x+(bb+G/2-b.B.x):q.x+(c[0].B.x-b.B.x+c[0].ya.x):q.y=1<g?q.y+(bb+G/2-b.B.y):q.y+(c[0].B.y-b.B.y+c[0].ya.y);break;case yp:e?q.x+=ha+G/2-b.B.x:q.y+=S+G/2-b.B.y;break;case zp:break;default:u.g("Unhandled alignment value "+n.toString())}for(j=0;j<g;j++)k=c[j],k.O=e?new E(k.O.x+k.ya.x-q.x,k.O.y+(135<d?(v?-S:-k.Ja.height)+k.ya.y-C:H+C+k.ya.y)):new E(k.O.x+
(135<d?(v?-ha:-k.Ja.width)+k.ya.x-C:r+C+k.ya.x),k.O.y+k.ya.y-q.y);e?(ha=Xp(b,ha,q.x),0>q.x&&(q.x=0),135<d&&(q.y+=S+C),S+=H+C):(135<d&&(q.x+=ha+C),ha+=r+C,S=Yp(b,S,q.y),0>q.y&&(q.y=0));b.ya=q;b.Ja=new L(ha,S)}}
function Kp(a,b,c,d,e){t&&u.c(a,Z,X,"layoutBusChildrenPosDir:v");var g=b.length,i,j;if(0===g)return a=[c,d,e];if(1===g)return i=b[0],j=i.Ja,d=j.width,e=j.height,a=[c,d,e];var k=a.hd,l=a.ge,n=90===Fp(a),r=0,q=0,v=0,x=0,C=0,G=0,x=G=0,I,y;for(I=0;I<g;I++)0!==I%2||1<g&&I===g-1||(i=b[I],j=i.Ja,y=0===r?0:l,n?(G=$p(i)-k,i.O=new E(c-(j.width+G),v+y),d=Math.max(d,j.width+G),e=Math.max(e,v+y+j.height),v+=y+j.height):(G=$p(i)-k,i.O=new E(q+y,c-(j.height+G)),e=Math.max(e,j.height+G),d=Math.max(d,q+y+j.width),
q+=y+j.width),r++);r=0;x=q;C=v;n?(q=c+k,v=0):(q=0,v=c+k);for(I=0;I<g;I++)0!==I%2&&(i=b[I],j=i.Ja,y=0===r?0:l,n?(G=$p(i)-k,i.O=new E(q+G,v+y),d=Math.max(d,q+j.width+G),e=Math.max(e,v+y+j.height),v+=y+j.height):(G=$p(i)-k,i.O=new E(q+y,v+G),d=Math.max(d,q+y+j.width),e=Math.max(e,v+j.height+G),q+=y+j.width),r++);1<g&&1===g%2&&(i=b[g-1],j=i.Ja,n?(b=aq(i,Math.max(Math.abs(C),Math.abs(v))),i.O=new E(c+k/2-i.B.x-i.ya.x,e+b),x=c+k/2-i.B.x-i.ya.x,d=Math.max(d,x+j.width),0>x&&(d-=x),e=Math.max(e,Math.max(C,
v)+b+j.height),0>i.O.x&&(c=bq(a,i.O.x,p,c,k))):(b=aq(i,Math.max(Math.abs(x),Math.abs(q))),i.O=new E(d+b,c+k/2-i.B.y-i.ya.y),d=Math.max(d,Math.max(x,q)+b+j.width),x=c+k/2-i.B.y-i.ya.y,e=Math.max(e,x+j.height),0>x&&(e-=x),0>i.O.y&&(c=bq(a,i.O.y,h,c,k))));return a=[c,d,e]}
function Lp(a,b,c,d,e){t&&u.c(a,Z,X,"layoutBusChildrenNegDir:v");var g=b.length,i,j;if(0===g)return a=[c,d,e];if(1===g)return i=b[0],j=i.Ja,d=j.width,e=j.height,a=[c,d,e];var k=a.hd,l=a.ge,n=270===Fp(a),r=0,q=0,v=0,x=0,C=0,G=0,x=G=0,I,y;for(I=0;I<g;I++)0!==I%2||1<g&&I===g-1||(i=b[I],j=i.Ja,y=0===r?0:l,n?(G=$p(i)-k,v-=y+j.height,i.O=new E(c-(j.width+G),v),d=Math.max(d,j.width+G),e=Math.max(e,Math.abs(v))):(G=$p(i)-k,q-=y+j.width,i.O=new E(q,c-(j.height+G)),e=Math.max(e,j.height+G),d=Math.max(d,Math.abs(q))),
r++);r=0;x=q;C=v;n?(q=c+k,v=0):(q=0,v=c+k);for(I=0;I<g;I++)0!==I%2&&(i=b[I],j=i.Ja,y=0===r?0:l,n?(G=$p(i)-k,v-=y+j.height,i.O=new E(q+G,v),d=Math.max(d,q+j.width+G),e=Math.max(e,Math.abs(v))):(G=$p(i)-k,q-=y+j.width,i.O=new E(q,v+G),e=Math.max(e,v+j.height+G),d=Math.max(d,Math.abs(q))),r++);1<g&&1===g%2&&(i=b[g-1],j=i.Ja,n?(l=aq(i,Math.max(Math.abs(C),Math.abs(v))),i.O=new E(c+k/2-i.B.x-i.ya.x,-e-j.height-l),x=c+k/2-i.B.x-i.ya.x,d=Math.max(d,x+j.width),0>x&&(d-=x),e=Math.max(e,Math.abs(Math.min(C,
v))+l+j.height),0>i.O.x&&(c=bq(a,i.O.x,p,c,k))):(l=aq(i,Math.max(Math.abs(q),Math.abs(q))),i.O=new E(-d-j.width-l,c+k/2-i.B.y-i.ya.y),d=Math.max(d,Math.abs(Math.min(x,q))+l+j.width),x=c+k/2-i.B.y-i.ya.y,e=Math.max(e,x+j.height),0>x&&(e-=x),0>i.O.y&&(c=bq(a,i.O.y,h,c,k))));for(I=0;I<g;I++)i=b[I],i.O=n?new E(i.O.x,i.O.y+e):new E(i.O.x+d,i.O.y);return a=[c,d,e]}function $p(a){t&&u.c(a,Z,X,"fixRelativePostions:child");return a.parent===m?0:a.parent.ev}
function aq(a){t&&u.c(a,Z,X,"fixRelativePostions:lastchild");return a.parent===m?0:a.parent.ov}function bq(a,b,c,d,e){t&&u.c(a,Z,X,"fixRelativePostions:v");for(var a=a.Ib,g=a.length,i=0;i<g;i++)a[i].O=c?new E(a[i].O.x,a[i].O.y-b):new E(a[i].O.x-b,a[i].O.y);b=a[g-1];return Math.max(d,c?b.ya.y-b.B.y-e/2:b.ya.x-b.B.x-e/2)}
function Xp(a,b,c){t&&u.c(a,Z,X,"calculateSubwidth:v");switch(a.ra){case vp:case Wp:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Gp:return a.width>b?a.width:b;case Hp:return 2*a.B.x>b?a.width:b+a.width-2*a.B.x;case xp:case mp:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case yp:return a.width-a.B.x+a.hd/2+b;case zp:return Math.max(a.width,a.B.x+a.hd/2+b);default:return b}}
function Yp(a,b,c){t&&u.c(a,Z,X,"calculateSubheight:v");switch(a.ra){case vp:case Wp:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Gp:return a.height>b?a.height:b;case Hp:return 2*a.B.y>b?a.height:b+a.height-2*a.B.y;case xp:case mp:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case yp:return a.height-a.B.y+a.hd/2+b;case zp:return Math.max(a.height,a.B.y+a.hd/2+b);default:return b}}
function Zp(a,b,c){t&&u.c(a,ra,X,"alignOffset:align");switch(a){case Wp:b/=2;c/=2;break;case vp:b/=2;c/=2;break;case Gp:c=b=0;break;case Hp:break;default:u.g("Unhandled alignment value "+a.toString())}return[b,c]}function Mp(a,b,c,d,e,g){t&&u.c(a,Z,X,"shiftRelPosAlign:v");t&&u.c(b,ra,X,"shiftRelPosAlign:align");b=Zp(b,c,d);Up(a,b[0],b[1],e,g)}function Up(a,b,c,d,e){t&&u.c(a,Z,X,"shiftRelPos:v");if(!(0===b&&0===c))for(a=a.Ib;d<=e;d++){var g=a[d];g.O.x+=b;g.O.y+=c}}
function Np(a,b,c){t&&u.c(b,Z,X,"recordMidPoints:v");t&&u.c(c,E,X,"recordMidPoints:p");var d=b.mb;switch(a.lc){case Wo:for(a=b.yb;a.next();)b=a.value,b.I===d&&(b.vq=c);break;case cp:for(a=b.xb;a.next();)b=a.value,b.G===d&&(b.vq=c);break;default:u.g("Unhandled path value "+a.lc.toString())}}function Vp(a,b,c){for(var d=0;d<a.length;d++)a[d].x+=b,a[d].y+=c}
function Tp(a,b,c,d,e,g){t&&u.c(a,Z,X,"mergeFringes:parent");t&&u.c(b,Z,X,"mergeFringes:child");var i=Fp(a),j=90===i||270===i,k=a.hd,l=e,n=g,r=b.Qp,e=b.Dq,g=b.Ja,a=j?Math.max(n,g.height):Math.max(l,g.width);if(r===m||i!==Fp(b))r=[],e=[],j?(r[0]=new E(0,0),r[1]=new E(0,g.height),e[0]=new E(g.width,0),e[1]=new E(e[0].x,r[1].y)):(r[0]=new E(0,0),r[1]=new E(g.width,0),e[0]=new E(0,g.height),e[1]=new E(r[1].x,e[0].y));if(j){b=j=l;i=r;l=9999999;if(!(d===m||2>d.length||i===m||2>i.length))for(var q=n=0;n<
d.length&&q<i.length;){var v=d[n],x=i[q].copy();x.x+=j;var C=v;n+1<d.length&&(C=d[n+1]);var G=x;q+1<i.length&&(G=i[q+1].copy(),G.x+=j);var I=l;v.y===x.y?I=x.x-v.x:v.y>x.y&&v.y<G.y?I=x.x+(v.y-x.y)/(G.y-x.y)*(G.x-x.x)-v.x:x.y>v.y&&x.y<C.y&&(I=x.x-(v.x+(x.y-v.y)/(C.y-v.y)*(C.x-v.x)));I<l&&(l=I);C.y<=v.y?n++:G.y<=x.y?q++:(C.y<=G.y&&n++,G.y<=C.y&&q++)}b-=l;b+=k;k=r;r=b;if(c===m||2>c.length||k===m||2>k.length)c=m;else{i=[];for(l=j=q=0;j<k.length&&k[j].y<c[0].y;)n=k[j++].copy(),n.x+=r,i[l++]=n;for(;q<c.length;)n=
c[q++],i[l++]=n;for(c=c[c.length-1].y;j<k.length&&k[j].y<=c;)j++;for(;j<k.length&&k[j].y>c;)n=k[j++].copy(),n.x+=r,i[l++]=n;c=i}j=e;l=b;if(d===m||2>d.length||j===m||2>j.length)d=m;else{e=[];for(r=n=k=0;k<d.length&&d[k].y<j[0].y;)i=d[k++],e[r++]=i;for(;n<j.length;)i=j[n++].copy(),i.x+=l,e[r++]=i;for(j=j[j.length-1].y;k<d.length&&d[k].y<=j;)k++;for(;k<d.length&&d[k].y>j;)i=d[k++],e[r++]=i;d=e}e=Math.max(0,b)+g.width;g=a}else{b=j=n;i=r;l=9999999;if(!(d===m||2>d.length||i===m||2>i.length))for(q=n=0;n<
d.length&&q<i.length;)v=d[n],x=i[q].copy(),x.y+=j,C=v,n+1<d.length&&(C=d[n+1]),G=x,q+1<i.length&&(G=i[q+1].copy(),G.y+=j),I=l,v.x===x.x?I=x.y-v.y:v.x>x.x&&v.x<G.x?I=x.y+(v.x-x.x)/(G.x-x.x)*(G.y-x.y)-v.y:x.x>v.x&&x.x<C.x&&(I=x.y-(v.y+(x.x-v.x)/(C.x-v.x)*(C.y-v.y))),I<l&&(l=I),C.x<=v.x?n++:G.x<=x.x?q++:(C.x<=G.x&&n++,G.x<=C.x&&q++);b-=l;b+=k;k=r;r=b;if(c===m||2>c.length||k===m||2>k.length)c=m;else{i=[];for(l=j=q=0;j<k.length&&k[j].x<c[0].x;)n=k[j++].copy(),n.y+=r,i[l++]=n;for(;q<c.length;)n=c[q++],
i[l++]=n;for(c=c[c.length-1].x;j<k.length&&k[j].x<=c;)j++;for(;j<k.length&&k[j].x>c;)n=k[j++].copy(),n.y+=r,i[l++]=n;c=i}j=e;l=b;if(d===m||2>d.length||j===m||2>j.length)d=m;else{e=[];for(r=n=k=0;k<d.length&&d[k].x<j[0].x;)i=d[k++],e[r++]=i;for(;n<j.length;)i=j[n++].copy(),i.y+=l,e[r++]=i;for(j=j[j.length-1].x;k<d.length&&d[k].x<=j;)k++;for(;k<d.length&&d[k].x>j;)i=d[k++],e[r++]=i;d=e}e=a;g=Math.max(0,b)+g.height}return[b,c,d,e,g]}
function ip(a,b,c,d){t&&u.c(b,Z,X,"assignAbsolutePositions:v");if(b!==m){b.x=c;b.y=d;for(var b=b.Ib,e=b.length,g=0;g<e;g++){var i=b[g];ip(a,i,c+i.O.x,d+i.O.y)}}}X.prototype.commitLayout=X.prototype.Du=function(){this.iz();this.commitNodes();this.commitLinks()};
X.prototype.commitNodes=X.prototype.dy=function(){for(var a=this.p.U.f,b;a.next();)b=a.value,b.commit();for(a.reset();a.next();)if(b=a.value,t&&u.c(b,Z,X,"layoutComments:v"),b.pd!==m){var c=b.th.pa,d=b.mb,e=f,e=f,e=b.Yb,g=0,i=vp,i=p;d!==m&&(g=d.Yb,i=d.ra,i=wp(i));for(var d=90===e||270===e,j=90===g||270===g,k=0===b.Bl,l=Bp(b),n=0,r=b.pd,q=r.length,v=0;v<q;v++){var e=r[v],x=e.ua,C;if(d&&!k||!i&&!j&&k||i&&j&&k){if(135<g&&!i||j&&l)if(0<=b.ac){e.location=new E(b.C.x-b.ac-x.width,b.C.y+n);for(C=e.Se();C.next();)e=
C.value,e.ab=xc,e.cb=Ac}else{e.location=new E(b.C.x+2*b.B.x-b.ac,b.C.y+n);for(C=e.Se();C.next();)e=C.value,e.ab=Ac,e.cb=xc}else if(0<=b.ac){e.location=new E(b.C.x+2*b.B.x+b.ac,b.C.y+n);for(C=e.Se();C.next();)e=C.value,e.ab=Ac,e.cb=xc}else{e.location=new E(b.C.x+b.ac-x.width,b.C.y+n);for(C=e.Se();C.next();)e=C.value,e.ab=xc,e.cb=Ac}n=0<=b.od?n+(x.height+b.od):n+(b.od-x.height)}else{if(135<g&&!i||!j&&l)if(0<=b.ac){e.location=new E(b.C.x+n,b.C.y-b.ac-x.height);for(C=e.Se();C.next();)e=C.value,e.ab=oc,
e.cb=uc}else{e.location=new E(b.C.x+n,b.C.y+2*b.B.y-b.ac);for(C=e.Se();C.next();)e=C.value,e.ab=uc,e.cb=oc}else if(0<=b.ac){e.location=new E(b.C.x+n,b.C.y+2*b.B.y+b.ac);for(C=e.Se();C.next();)e=C.value,e.ab=uc,e.cb=oc}else{e.location=new E(b.C.x+n,b.C.y+b.ac-x.height);for(C=e.Se();C.next();)e=C.value,e.ab=oc,e.cb=uc}n=0<=b.od?n+(x.width+b.od):n+(b.od-x.width)}}c=n-b.od-(d?c.height:c.width);if(this.path===Wo)for(b=b.xb;b.next();){if(e=b.value,(e=e.link)&&e.af!==Yf)e.wk=0<c?c:NaN}else for(b=b.yb;b.next();)if(e=
b.value,(e=e.link)&&e.af!==Yf)e.Hk=0<c?c:NaN}};X.prototype.commitLinks=X.prototype.cy=function(){for(var a=this.p.Ub.f;a.next();)a.value.commit()};X.prototype.iz=function(){for(var a=this.yc.f;a.next();){var b=this.p.me(a.value);cq(this,b)}};
function cq(a,b){t&&u.c(b,Z,X,"setPortSpotsTree:v");if(b!==m){t&&u.c(b,Z,X,"setPortSpots:v");var c=b.ra;if(wp(c)){t&&u.c(b,Z,X,"setPortSpotsBus:v");t&&u.c(c,ra,X,"setPortSpots:align");var d=a.lc===Wo,e=Fp(b),g;switch(e){case 0:g=Ac;break;case 90:g=uc;break;case 180:g=xc;break;default:g=oc}var i,j,k,l=b.Ib,n=l.length;switch(c){case xp:case mp:for(c=0;c<n;c++)if(i=l[c],j=d?i.yb:i.xb,j.next(),k=j.value,k!==m&&(k=k.Ha,k!==m)){i=90===e||270===e?xc:oc;if(1===n||c===n-1&&1===n%2)switch(e){case 0:i=xc;break;
case 90:i=oc;break;case 180:i=Ac;break;default:i=uc}else 0===c%2&&(i=90===e||270===e?Ac:uc);d?(b.lj&&(k.ab=g),b.kj&&(k.cb=i)):(b.lj&&(k.ab=i),b.kj&&(k.cb=g))}break;case yp:i=90===e||270===e?Ac:uc;for(j=d?b.xb:b.yb;j.next();)k=j.value,k=k.Ha,k!==m&&(d?(b.lj&&(k.ab=g),b.kj&&(k.cb=i)):(b.lj&&(k.ab=i),b.kj&&(k.cb=g)));break;case zp:i=90===e||270===e?xc:oc;for(j=d?b.xb:b.yb;j.next();)k=j.value,k=k.Ha,k!==m&&(d?(b.lj&&(k.ab=g),b.kj&&(k.cb=i)):(b.lj&&(k.ab=i),b.kj&&(k.cb=g)))}}else if(d=Fp(b),a.lc===Wo)for(e=
b.xb;e.next();){if(g=e.value,g=g.Ha,g!==m){if(b.og)if(gc(b.Ge))switch(d){case 0:g.ab=Ac;break;case 90:g.ab=uc;break;case 180:g.ab=xc;break;default:g.ab=oc}else g.ab=b.Ge;if(b.ng)if(gc(b.ye))switch(d){case 0:g.cb=xc;break;case 90:g.cb=oc;break;case 180:g.cb=Ac;break;default:g.cb=uc}else g.cb=b.ye}}else for(e=b.yb;e.next();)if(g=e.value,g=g.Ha,g!==m){if(b.og)if(gc(b.Ge))switch(d){case 0:g.cb=Ac;break;case 90:g.cb=uc;break;case 180:g.cb=xc;break;default:g.cb=oc}else g.cb=b.Ge;if(b.ng)if(gc(b.ye))switch(d){case 0:g.ab=
xc;break;case 90:g.ab=oc;break;case 180:g.ab=Ac;break;default:g.ab=uc}else g.ab=b.ye}d=b.Ib;e=d.length;for(g=0;g<e;g++)cq(a,d[g])}}function Fp(a){t&&u.c(a,Z,X,"orthoAngle:v");a=a.Yb;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}function Ip(a){t&&u.c(a,Z,X,"computeLayerSpacing:v");var b=Fp(a),b=90===b||270===b,c=a.qd;if(0<a.dg)var d=Math.min(1,a.dg),c=c-(b?a.height*d:a.width*d);if(c<(b?-a.height:-a.width))c=b?-a.height:-a.width;return c}
function Jp(a){t&&u.c(a,Z,X,"computeNodeIndent:v");var b=Fp(a),b=90===b||270===b,c=a.Tg;if(0<a.kg)var d=Math.min(1,a.kg),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}u.a(X,"roots",X.prototype.VG);u.defineProperty(X,{VG:"roots"},s("yc"),function(a){this.yc!==a&&(this.yc=a,this.v())});u.a(X,"path",X.prototype.path);u.defineProperty(X,{path:"path"},s("lc"),function(a){if(this.lc!==a&&(t&&u.c(a,ra,X,"path"),a===Wo||a===cp))this.lc=a,this.v()});u.a(X,"treeStyle",X.prototype.ZD);
u.defineProperty(X,{ZD:"treeStyle"},s("Yq"),function(a){if(this.Hc!==a&&(t&&u.c(a,ra,X,"treeStyle"),a===Xo||a===pp||a===qp||a===op))this.Yq=a,this.v()});u.a(X,"arrangement",X.prototype.Td);u.defineProperty(X,{Td:"arrangement"},s("Hc"),function(a){if(this.Hc!==a&&(t&&u.c(a,ra,X,"arrangement"),a===Yo||a===jp||a===bp))this.Hc=a,this.v()});u.a(X,"arrangementSpacing",X.prototype.yu);u.defineProperty(X,{yu:"arrangementSpacing"},s("bf"),function(a){this.bf.z(a)||(this.bf.Xa(a),this.v())});
u.a(X,"rootDefaults",X.prototype.UG);u.defineProperty(X,{UG:"rootDefaults"},s("Z"),function(a){this.Z!==a&&(t&&u.c(a,Z,X,"rootDefaults"),this.Z=a,this.v())});u.a(X,"alternateDefaults",X.prototype.$E);u.defineProperty(X,{$E:"alternateDefaults"},s("Y"),function(a){this.Y!==a&&(t&&u.c(a,Z,X,"alternateDefaults"),this.Y=a,this.v())});u.a(X,"sorting",X.prototype.Jf);
u.defineProperty(X,{Jf:"sorting"},function(){return this.Z.ec},function(a){if(this.Z.ec!==a&&(t&&u.c(a,ra,X,"sorting"),a===rp||a===sp||a===tp||up))this.Z.ec=a,this.v()});u.a(X,"comparer",X.prototype.kh);u.defineProperty(X,{kh:"comparer"},function(){return this.Z.bc},function(a){this.Z.bc!==a&&(t&&u.e(a,"function",X,"comparer"),this.Z.bc=a,this.v())});u.a(X,"angle",X.prototype.Va);
u.defineProperty(X,{Va:"angle"},function(){return this.Z.Yb},function(a){if(this.Z.Yb!==a&&(0===a||90===a||180===a||270===a))this.Z.Yb=a,this.v()});u.a(X,"alignment",X.prototype.vb);u.defineProperty(X,{vb:"alignment"},function(){return this.Z.ra},function(a){this.Z.ra!==a&&(t&&u.Ya(a,X,X,"alignment"),this.Z.ra=a,this.v())});u.a(X,"nodeIndent",X.prototype.Ty);u.defineProperty(X,{Ty:"nodeIndent"},function(){return this.Z.Tg},function(a){this.Z.Tg!==a&&0<=a&&(this.Z.Tg=a,this.v())});
u.a(X,"nodeIndentPastParent",X.prototype.Uy);u.defineProperty(X,{Uy:"nodeIndentPastParent"},function(){return this.Z.kg},function(a){this.Z.kg!==a&&(0<=a&&1>=a)&&(this.Z.kg=a,this.v())});u.a(X,"nodeSpacing",X.prototype.ev);u.defineProperty(X,{ev:"nodeSpacing"},function(){return this.Z.hd},function(a){this.Z.hd!==a&&(this.Z.hd=a,this.v())});u.a(X,"layerSpacing",X.prototype.Xr);u.defineProperty(X,{Xr:"layerSpacing"},function(){return this.Z.qd},function(a){this.Z.qd!==a&&(this.Z.qd=a,this.v())});
u.a(X,"layerSpacingParentOverlap",X.prototype.Jy);u.defineProperty(X,{Jy:"layerSpacingParentOverlap"},function(){return this.Z.dg},function(a){this.Z.dg!==a&&(0<=a&&1>=a)&&(this.Z.dg=a,this.v())});u.a(X,"compaction",X.prototype.Eu);u.defineProperty(X,{Eu:"compaction"},function(){return this.Z.Uf},function(a){if(this.Z.Uf!==a&&(t&&u.c(a,ra,X,"compaction"),a===Cp||a===Ep))this.Z.Uf=a,this.v()});u.a(X,"breadthLimit",X.prototype.Ux);
u.defineProperty(X,{Ux:"breadthLimit"},function(){return this.Z.Rf},function(a){this.Z.Rf!==a&&0<=a&&(this.Z.Rf=a,this.v())});u.a(X,"rowSpacing",X.prototype.ov);u.defineProperty(X,{ov:"rowSpacing"},function(){return this.Z.ge},function(a){this.Z.ge!==a&&(this.Z.ge=a,this.v())});u.a(X,"rowIndent",X.prototype.bz);u.defineProperty(X,{bz:"rowIndent"},function(){return this.Z.Uc},function(a){this.Z.Uc!==a&&0<=a&&(this.Z.Uc=a,this.v())});u.a(X,"commentSpacing",X.prototype.ay);
u.defineProperty(X,{ay:"commentSpacing"},function(){return this.Z.od},function(a){this.Z.od!==a&&(this.Z.od=a,this.v())});u.a(X,"commentMargin",X.prototype.$x);u.defineProperty(X,{$x:"commentMargin"},function(){return this.Z.ac},function(a){this.Z.ac!==a&&(this.Z.ac=a,this.v())});u.a(X,"setsPortSpot",X.prototype.lj);u.defineProperty(X,{lj:"setsPortSpot"},function(){return this.Z.og},function(a){this.Z.og!==a&&(this.Z.og=a,this.v())});u.a(X,"portSpot",X.prototype.Yy);
u.defineProperty(X,{Yy:"portSpot"},function(){return this.Z.Ge},function(a){this.Z.Ge.z(a)||(this.Z.Ge=a,this.v())});u.a(X,"setsChildPortSpot",X.prototype.kj);u.defineProperty(X,{kj:"setsChildPortSpot"},function(){return this.Z.ng},function(a){this.Z.ng!==a&&(this.Z.ng=a,this.v())});u.a(X,"childPortSpot",X.prototype.Yx);u.defineProperty(X,{Yx:"childPortSpot"},function(){return this.Z.ye},function(a){this.Z.ye.z(a)||(this.Z.ye=a,this.v())});u.a(X,"alternateSorting",X.prototype.kF);
u.defineProperty(X,{kF:"alternateSorting"},function(){return this.Y.ec},function(a){if(this.Y.ec!==a&&(t&&u.c(a,ra,X,"alternateSorting"),a===rp||a===sp||a===tp||up))this.Y.ec=a,this.v()});u.a(X,"alternateComparer",X.prototype.YE);u.defineProperty(X,{YE:"alternateComparer"},function(){return this.Y.bc},function(a){this.Y.bc!==a&&(t&&u.e(a,"function",X,"alternateComparer"),this.Y.bc=a,this.v())});u.a(X,"alternateAngle",X.prototype.SE);
u.defineProperty(X,{SE:"alternateAngle"},function(){return this.Y.Yb},function(a){if(this.Y.Yb!==a&&(0===a||90===a||180===a||270===a))this.Y.Yb=a,this.v()});u.a(X,"alternateAlignment",X.prototype.RE);u.defineProperty(X,{RE:"alternateAlignment"},function(){return this.Y.ra},function(a){this.Y.ra!==a&&(t&&u.Ya(a,X,X,"alternateAlignment"),this.Y.ra=a,this.v())});u.a(X,"alternateNodeIndent",X.prototype.cF);
u.defineProperty(X,{cF:"alternateNodeIndent"},function(){return this.Y.Tg},function(a){this.Y.Tg!==a&&0<=a&&(this.Y.Tg=a,this.v())});u.a(X,"alternateNodeIndentPastParent",X.prototype.dF);u.defineProperty(X,{dF:"alternateNodeIndentPastParent"},function(){return this.Y.kg},function(a){this.Y.kg!==a&&(0<=a&&1>=a)&&(this.Y.kg=a,this.v())});u.a(X,"alternateNodeSpacing",X.prototype.eF);u.defineProperty(X,{eF:"alternateNodeSpacing"},function(){return this.Y.hd},function(a){this.Y.hd!==a&&(this.Y.hd=a,this.v())});
u.a(X,"alternateLayerSpacing",X.prototype.aF);u.defineProperty(X,{aF:"alternateLayerSpacing"},function(){return this.Y.qd},function(a){this.Y.qd!==a&&(this.Y.qd=a,this.v())});u.a(X,"alternateLayerSpacingParentOverlap",X.prototype.bF);u.defineProperty(X,{bF:"alternateLayerSpacingParentOverlap"},function(){return this.Y.dg},function(a){this.Y.dg!==a&&(0<=a&&1>=a)&&(this.Y.dg=a,this.v())});u.a(X,"alternateCompaction",X.prototype.XE);
u.defineProperty(X,{XE:"alternateCompaction"},function(){return this.Y.Uf},function(a){if(this.Y.Uf!==a&&(t&&u.c(a,ra,X,"alternateCompaction"),a===Cp||a===Ep))this.Y.Uf=a,this.v()});u.a(X,"alternateBreadthLimit",X.prototype.TE);u.defineProperty(X,{TE:"alternateBreadthLimit"},function(){return this.Y.Rf},function(a){this.Y.Rf!==a&&0<=a&&(this.Y.Rf=a,this.v())});u.a(X,"alternateRowSpacing",X.prototype.hF);
u.defineProperty(X,{hF:"alternateRowSpacing"},function(){return this.Y.ge},function(a){this.Y.ge!==a&&(this.Y.ge=a,this.v())});u.a(X,"alternateRowIndent",X.prototype.gF);u.defineProperty(X,{gF:"alternateRowIndent"},function(){return this.Y.Uc},function(a){this.Y.Uc!==a&&0<=a&&(this.Y.Uc=a,this.v())});u.a(X,"alternateCommentSpacing",X.prototype.WE);u.defineProperty(X,{WE:"alternateCommentSpacing"},function(){return this.Y.od},function(a){this.Y.od!==a&&(this.Y.od=a,this.v())});
u.a(X,"alternateCommentMargin",X.prototype.VE);u.defineProperty(X,{VE:"alternateCommentMargin"},function(){return this.Y.ac},function(a){this.Y.ac!==a&&(this.Y.ac=a,this.v())});u.a(X,"alternateSetsPortSpot",X.prototype.jF);u.defineProperty(X,{jF:"alternateSetsPortSpot"},function(){return this.Y.og},function(a){this.Y.og!==a&&(this.Y.og=a,this.v())});u.a(X,"alternatePortSpot",X.prototype.fF);
u.defineProperty(X,{fF:"alternatePortSpot"},function(){return this.Y.Ge},function(a){this.Y.Ge.z(a)||(this.Y.Ge=a,this.v())});u.a(X,"alternateSetsChildPortSpot",X.prototype.iF);u.defineProperty(X,{iF:"alternateSetsChildPortSpot"},function(){return this.Y.ng},function(a){this.Y.ng!==a&&(this.Y.ng=a,this.v())});u.a(X,"alternateChildPortSpot",X.prototype.UE);u.defineProperty(X,{UE:"alternateChildPortSpot"},function(){return this.Y.ye},function(a){this.Y.ye.z(a)||(this.Y.ye=a,this.v())});var Wo;
X.PathDestination=Wo=u.l(X,"PathDestination",0);var cp;X.PathSource=cp=u.l(X,"PathSource",1);var rp;X.SortingForwards=rp=u.l(X,"SortingForwards",10);var sp;X.SortingReverse=sp=u.l(X,"SortingReverse",11);var tp;X.SortingAscending=tp=u.l(X,"SortingAscending",12);var up;X.SortingDescending=up=u.l(X,"SortingDescending",13);var Wp;X.AlignmentCenterSubtrees=Wp=u.l(X,"AlignmentCenterSubtrees",20);var vp;X.AlignmentCenterChildren=vp=u.l(X,"AlignmentCenterChildren",21);var Gp;
X.AlignmentStart=Gp=u.l(X,"AlignmentStart",22);var Hp;X.AlignmentEnd=Hp=u.l(X,"AlignmentEnd",23);var xp;X.AlignmentBus=xp=u.l(X,"AlignmentBus",24);var mp;X.AlignmentBusBranching=mp=u.l(X,"AlignmentBusBranching",25);var yp;X.AlignmentTopLeftBus=yp=u.l(X,"AlignmentTopLeftBus",26);var zp;X.AlignmentBottomRightBus=zp=u.l(X,"AlignmentBottomRightBus",27);var Cp;X.CompactionNone=Cp=u.l(X,"CompactionNone",30);var Ep;X.CompactionBlock=Ep=u.l(X,"CompactionBlock",31);var Xo;
X.StyleLayered=Xo=u.l(X,"StyleLayered",40);var qp;X.StyleLastParents=qp=u.l(X,"StyleLastParents",41);var pp;X.StyleAlternating=pp=u.l(X,"StyleAlternating",42);var op;X.StyleRootOnly=op=u.l(X,"StyleRootOnly",43);var Yo;X.ArrangementVertical=Yo=u.l(X,"ArrangementVertical",50);var jp;X.ArrangementHorizontal=jp=u.l(X,"ArrangementHorizontal",51);var bp;X.ArrangementFixedRoots=bp=u.l(X,"ArrangementFixedRoots",52);function $o(){Nm.call(this)}u.J("TreeNetwork",$o);u.va($o,Nm);
$o.prototype.createVertex=$o.prototype.Ui=function(){return new Z};$o.prototype.createEdge=$o.prototype.Dn=function(){return new dq};
function Z(){Rm.call(this);this.Rj=p;this.mb=m;this.Ib=[];this.Nh=this.rt=this.Ws=this.gl=this.oH=0;this.Dq=this.Qp=this.pd=this.ya=this.Ja=this.O=m;this.hk=this.gk=this.mx=p;this.ec=rp;this.bc=Wm;this.Yb=0;this.ra=vp;this.kg=this.Tg=0;this.hd=20;this.qd=50;this.dg=0;this.Uf=Ep;this.Rf=0;this.ge=25;this.od=this.Uc=10;this.ac=20;this.og=h;this.Ge=ic;this.ng=h;this.ye=ic}u.J("TreeVertex",Z);u.va(Z,Rm);
function Zo(a,b){b!==m&&(a.ec=b.ec,a.bc=b.bc,a.Yb=b.Yb,a.ra=b.ra,a.Tg=b.Tg,a.kg=b.kg,a.hd=b.hd,a.qd=b.qd,a.dg=b.dg,a.Uf=b.Uf,a.Rf=b.Rf,a.ge=b.ge,a.Uc=b.Uc,a.od=b.od,a.ac=b.ac,a.og=b.og,a.Ge=b.Ge,a.ng=b.ng,a.ye=b.ye)}u.a(Z,"initialized",Z.prototype.eG);u.defineProperty(Z,{eG:"initialized"},s("Rj"),ba("Rj"));u.a(Z,"parent",Z.prototype.parent);u.defineProperty(Z,{parent:"parent"},s("mb"),ba("mb"));u.a(Z,"children",Z.prototype.children);u.defineProperty(Z,{children:"children"},s("Ib"),ba("Ib"));
u.m(Z,{Bl:"childrenCount"},function(){return this.Ib.length});u.a(Z,"level",Z.prototype.sG);u.defineProperty(Z,{sG:"level"},s("gl"),ba("gl"));u.a(Z,"descendantCount",Z.prototype.BF);u.defineProperty(Z,{BF:"descendantCount"},s("Ws"),ba("Ws"));u.a(Z,"maxChildrenCount",Z.prototype.yG);u.defineProperty(Z,{yG:"maxChildrenCount"},s("rt"),ba("rt"));u.a(Z,"maxGenerationCount",Z.prototype.zG);u.defineProperty(Z,{zG:"maxGenerationCount"},s("Nh"),ba("Nh"));u.a(Z,"relativePosition",Z.prototype.NG);
u.defineProperty(Z,{NG:"relativePosition"},s("O"),function(a){u.c(a,E,Z,"relativePosition");this.O=a});u.a(Z,"subtreeSize",Z.prototype.gH);u.defineProperty(Z,{gH:"subtreeSize"},s("Ja"),function(a){u.c(a,L,Z,"subtreeSize");this.Ja=a});u.a(Z,"subtreeOffset",Z.prototype.fH);u.defineProperty(Z,{fH:"subtreeOffset"},s("ya"),function(a){u.c(a,E,Z,"subtreeOffset");this.ya=a});u.a(Z,"comments",Z.prototype.by);u.defineProperty(Z,{by:"comments"},s("pd"),ba("pd"));u.a(Z,"sorting",Z.prototype.Jf);
u.defineProperty(Z,{Jf:"sorting"},s("ec"),ba("ec"));u.a(Z,"comparer",Z.prototype.kh);u.defineProperty(Z,{kh:"comparer"},s("bc"),ba("bc"));u.a(Z,"angle",Z.prototype.Va);u.defineProperty(Z,{Va:"angle"},s("Yb"),ba("Yb"));u.a(Z,"alignment",Z.prototype.vb);u.defineProperty(Z,{vb:"alignment"},s("ra"),ba("ra"));u.a(Z,"nodeIndent",Z.prototype.Ty);u.defineProperty(Z,{Ty:"nodeIndent"},s("Tg"),ba("Tg"));u.a(Z,"nodeIndentPastParent",Z.prototype.Uy);u.defineProperty(Z,{Uy:"nodeIndentPastParent"},s("kg"),ba("kg"));
u.a(Z,"nodeSpacing",Z.prototype.ev);u.defineProperty(Z,{ev:"nodeSpacing"},s("hd"),ba("hd"));u.a(Z,"layerSpacing",Z.prototype.Xr);u.defineProperty(Z,{Xr:"layerSpacing"},s("qd"),ba("qd"));u.a(Z,"layerSpacingParentOverlap",Z.prototype.Jy);u.defineProperty(Z,{Jy:"layerSpacingParentOverlap"},s("dg"),ba("dg"));u.a(Z,"compaction",Z.prototype.Eu);u.defineProperty(Z,{Eu:"compaction"},s("Uf"),ba("Uf"));u.a(Z,"breadthLimit",Z.prototype.Ux);u.defineProperty(Z,{Ux:"breadthLimit"},s("Rf"),ba("Rf"));
u.a(Z,"rowSpacing",Z.prototype.ov);u.defineProperty(Z,{ov:"rowSpacing"},s("ge"),ba("ge"));u.a(Z,"rowIndent",Z.prototype.bz);u.defineProperty(Z,{bz:"rowIndent"},s("Uc"),ba("Uc"));u.a(Z,"commentSpacing",Z.prototype.ay);u.defineProperty(Z,{ay:"commentSpacing"},s("od"),ba("od"));u.a(Z,"commentMargin",Z.prototype.$x);u.defineProperty(Z,{$x:"commentMargin"},s("ac"),ba("ac"));u.a(Z,"setsPortSpot",Z.prototype.lj);u.defineProperty(Z,{lj:"setsPortSpot"},s("og"),ba("og"));u.a(Z,"portSpot",Z.prototype.Yy);
u.defineProperty(Z,{Yy:"portSpot"},s("Ge"),ba("Ge"));u.a(Z,"setsChildPortSpot",Z.prototype.kj);u.defineProperty(Z,{kj:"setsChildPortSpot"},s("ng"),ba("ng"));u.a(Z,"childPortSpot",Z.prototype.Yx);u.defineProperty(Z,{Yx:"childPortSpot"},s("ye"),ba("ye"));u.a(Z,"routeFirstRow",Z.prototype.ZG);u.defineProperty(Z,{ZG:"routeFirstRow"},s("mx"),ba("mx"));u.a(Z,"routeAroundCentered",Z.prototype.XG);u.defineProperty(Z,{XG:"routeAroundCentered"},s("gk"),ba("gk"));u.a(Z,"routeAroundLastParent",Z.prototype.YG);
u.defineProperty(Z,{YG:"routeAroundLastParent"},s("hk"),ba("hk"));function dq(){Sm.call(this);this.vq=new E(0,0)}u.J("TreeEdge",dq);u.va(dq,Sm);
dq.prototype.commit=dq.prototype.di=function(){var a=this.Ha;if(a!==m&&a.af!==Yf){var b=this.p.Cb,c=m,d=m;switch(b.lc){case Wo:c=this.I;d=this.G;break;case cp:c=this.G;d=this.I;break;default:u.g("Unhandled path value "+b.lc.toString())}if(!(c===m||d===m))if(b=this.vq,0===b.x&&0===b.y&&!c.mx){var e=c;t&&u.c(e,Z,dq,"adjustRouteForAngleChange:parent");t&&u.c(d,Z,dq,"adjustRouteForAngleChange:child");a=this.Ha;c=Fp(e);b=Fp(d);if(c!==b&&(b=Ip(e),e=e.rb,d=d.rb,!(0===c&&d.left-e.right<b+1||90===c&&d.top-
e.bottom<b+1||180===c&&e.left-d.right<b+1||270===c&&e.top-d.bottom<b+1))){$l(a);var d=a.Pe===Xj,g=a.af===Ch,i=wp(this.I.ra);a.Gk();0===c?(c=e.right+b/2,d?4===a.da&&(b=a.h(3).y,a.A(1,new E(c-20,a.h(1).y)),a.q(2,new E(c-20,b)),a.q(3,new E(c,b)),a.q(4,new E(c+20,b)),a.A(5,new E(a.h(5).x,b))):g?i?a.A(3,new E(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new E(c,a.h(2).y)),a.A(3,new E(c,a.h(3).y))):4===a.da?a.q(2,new E(c,a.h(2).y)):3===a.da?a.A(1,new E(c,a.h(2).y)):2===a.da&&a.q(1,new E(c,a.h(1).y))):90===c?(b=
e.bottom+b/2,d?4===a.da&&(c=a.h(3).x,a.A(1,new E(a.h(1).x,b-20)),a.q(2,new E(c,b-20)),a.q(3,new E(c,b)),a.q(4,new E(c,b+20)),a.A(5,new E(c,a.h(5).y))):g?i?a.A(3,new E(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new E(a.h(2).x,b)),a.A(3,new E(a.h(3).x,b))):4===a.da?a.q(2,new E(a.h(2).x,b)):3===a.da?a.A(1,new E(a.h(2).x,b)):2===a.da&&a.q(1,new E(a.h(1).x,b))):180===c?(c=e.left-b/2,d?4===a.da&&(b=a.h(3).y,a.A(1,new E(c+20,a.h(1).y)),a.q(2,new E(c+20,b)),a.q(3,new E(c,b)),a.q(4,new E(c-20,b)),a.A(5,new E(a.h(5).x,
b))):g?i?a.A(3,new E(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new E(c,a.h(2).y)),a.A(3,new E(c,a.h(3).y))):4===a.da?a.q(2,new E(c,a.h(2).y)):3===a.da?a.A(1,new E(c,a.h(2).y)):2===a.da&&a.q(1,new E(c,a.h(1).y))):270===c&&(b=e.top-b/2,d?4===a.da&&(c=a.h(3).x,a.A(1,new E(a.h(1).x,b+20)),a.q(2,new E(c,b+20)),a.q(3,new E(c,b)),a.q(4,new E(c,b-20)),a.A(5,new E(c,a.h(5).y))):g?i?a.A(3,new E(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new E(a.h(2).x,b)),a.A(3,new E(a.h(3).x,b))):4===a.da?a.q(2,new E(a.h(2).x,b)):3===
a.da?a.A(1,new E(a.h(2).x,b)):2===a.da&&a.q(1,new E(a.h(1).x,b)));a.ei()}}else{var e=c.rb,j=Fp(c),d=Ip(c),g=c.ge;$l(a);var i=a.Pe===Xj,k=a.af===Ch,l,n,r,q;a.Gk();if(k||i){for(l=2;4<a.da;)a.nD(2);n=a.h(1);r=a.h(2)}else{for(l=1;3<a.da;)a.nD(1);n=a.h(0);r=a.h(a.da-1)}q=a.h(a.da-1);0===j?(c.ra===Hp?(j=e.bottom+b.y,0===b.y&&n.y>q.y+c.Uc&&(j=Math.min(j,Math.max(n.y,j-Jp(c))))):c.ra===Gp?(j=e.top+b.y,0===b.y&&n.y<q.y-c.Uc&&(j=Math.max(j,Math.min(n.y,j+Jp(c))))):j=c.gk||c.hk&&1===c.Nh?e.top-c.ya.y+b.y:e.y+
e.height/2+b.y,i?(a.q(l,new E(n.x,j)),l++,a.q(l,new E(e.right+d,j)),l++,a.q(l,new E(e.right+d+(b.x-g)/3,j)),l++,a.q(l,new E(e.right+d+2*(b.x-g)/3,j)),l++,a.q(l,new E(e.right+d+(b.x-g),j)),l++,a.q(l,new E(r.x,j))):(k&&(a.q(l,new E(e.right+d/2,n.y)),l++),a.q(l,new E(e.right+d/2,j)),l++,a.q(l,new E(e.right+d+b.x-(k?g/2:g),j)),l++,k&&a.q(l,new E(a.h(l-1).x,r.y)))):90===j?(c.ra===Hp?(j=e.right+b.x,0===b.x&&n.x>q.x+c.Uc&&(j=Math.min(j,Math.max(n.x,j-Jp(c))))):c.ra===Gp?(j=e.left+b.x,0===b.x&&n.x<q.x-c.Uc&&
(j=Math.max(j,Math.min(n.x,j+Jp(c))))):j=c.gk||c.hk&&1===c.Nh?e.left-c.ya.x+b.x:e.x+e.width/2+b.x,i?(a.q(l,new E(j,n.y)),l++,a.q(l,new E(j,e.bottom+d)),l++,a.q(l,new E(j,e.bottom+d+(b.y-g)/3)),l++,a.q(l,new E(j,e.bottom+d+2*(b.y-g)/3)),l++,a.q(l,new E(j,e.bottom+d+(b.y-g))),l++,a.q(l,new E(j,r.y))):(k&&(a.q(l,new E(n.x,e.bottom+d/2)),l++),a.q(l,new E(j,e.bottom+d/2)),l++,a.q(l,new E(j,e.bottom+d+b.y-(k?g/2:g))),l++,k&&a.q(l,new E(r.x,a.h(l-1).y)))):180===j?(c.ra===Hp?(j=e.bottom+b.y,0===b.y&&n.y>
q.y+c.Uc&&(j=Math.min(j,Math.max(n.y,j-Jp(c))))):c.ra===Gp?(j=e.top+b.y,0===b.y&&n.y<q.y-c.Uc&&(j=Math.max(j,Math.min(n.y,j+Jp(c))))):j=c.gk||c.hk&&1===c.Nh?e.top-c.ya.y+b.y:e.y+e.height/2+b.y,i?(a.q(l,new E(n.x,j)),l++,a.q(l,new E(e.left-d,j)),l++,a.q(l,new E(e.left-d+(b.x+g)/3,j)),l++,a.q(l,new E(e.left-d+2*(b.x+g)/3,j)),l++,a.q(l,new E(e.left-d+(b.x+g),j)),l++,a.q(l,new E(r.x,j))):(k&&(a.q(l,new E(e.left-d/2,n.y)),l++),a.q(l,new E(e.left-d/2,j)),l++,a.q(l,new E(e.left-d+b.x+(k?g/2:g),j)),l++,k&&
a.q(l,new E(a.h(l-1).x,r.y)))):270===j?(c.ra===Hp?(j=e.right+b.x,0===b.x&&n.x>q.x+c.Uc&&(j=Math.min(j,Math.max(n.x,j-Jp(c))))):c.ra===Gp?(j=e.left+b.x,0===b.x&&n.x<q.x-c.Uc&&(j=Math.max(j,Math.min(n.x,j+Jp(c))))):j=c.gk||c.hk&&1===c.Nh?e.left-c.ya.x+b.x:e.x+e.width/2+b.x,i?(a.q(l,new E(j,n.y)),l++,a.q(l,new E(j,e.top-d)),l++,a.q(l,new E(j,e.top-d+(b.y+g)/3)),l++,a.q(l,new E(j,e.top-d+2*(b.y+g)/3)),l++,a.q(l,new E(j,e.top-d+(b.y+g))),l++,a.q(l,new E(j,r.y))):(k&&(a.q(l,new E(n.x,e.top-d/2)),l++),a.q(l,
new E(j,e.top-d/2)),l++,a.q(l,new E(j,e.top-d+b.y+(k?g/2:g))),l++,k&&a.q(l,new E(r.x,a.h(l-1).y)))):u.g("Invalid angle "+j);a.ei()}}};u.a(dq,"relativePoint",dq.prototype.MG);u.defineProperty(dq,{MG:"relativePoint"},s("vq"),ba("vq"));window.go=ea;ea.version="1.0.7"; })(window);
